function viod(){return!1}function scrollBarTop(n,t){t||(t="html,body");$(t).animate({scrollTop:n},500)}function RssMedia(){this.player=null;this.playlist=[];this.loop=!1}function RssDict(n){this.dict=n||{}}function RssIM(){this.host="http://im.rsseasy.com";this.proxy="adapterHub";this.connid="";this.conn=null}function RssAppAdapter(n){try{switch(RssOS.os){case"android":window.jsadapter?window.jsadapter.factory(JSON.stringify(n)):"";return;case"ios":window.webkit.messageHandlers.jsadapter?window.webkit.messageHandlers.jsadapter.postMessage(n):"";return;case"rsseasy":window.external.jsadapter(JSON.stringify(n));return}}catch(i){}var t=n.adapter;window.WebAdapter&&WebAdapter[t]&&(delete n.adapter,WebAdapter[t](n))}function RssAppCallBackFactory(n,t){var i,r;if(RssWin.DeBug.log(t),i=t.adapter,i){if(delete t.adapter,n[i]){n[i](t);r=n.TaskAllot;r&&n[i][r]&&(n[i][r](t),n.TaskAllot="");return}alert(i+"适配器不存在！")}}function RssTable(n){$.extend(this,RssDict.prototype);RssTable.Table[n]=n;this.header=[];this.headerdict={};this.rows=[];this.colcount=0;this.currowno=-1;this.rowscount=0;this.prikey="id";this.dict={}}var RssOS={agent:(location.hostname+navigator.userAgent).toLowerCase().replace(/\s/img,""),os:"",isios:!1,isandroid:!1,ispc:!1,parse:function(){this.os=this.agent.match(/windows|safari|localhost|android|iphone|ipad|ipod|rsseasy/)+"";switch(this.os){case"iphone":case"ipad":case"ipod":this.os="ios";this.isios=!0;break;case"android":this.os="android";this.isandroid=!0;break;default:this.ispc=!0}}},Cookie,Storage,Url,allowinput,transadapter,RssAudio,RssVideo,RssCode,rssclick,RssEvent,RssTask,Ajax,RssORM,RssUser,RssPower,RssWin,RssFrame,RssWebView,RssUpFile,RssDownFile;RssOS.parse();var RssVerify={},RssEasy={Deviceid:1},RssApp={},RssDialog={},RssLive={};RssEasy.Debug=!1;Cookie={};Cookie.Get=function(n){if(document.cookie)return document.cookie.replace(/; /img,";").toKeyValue(";")[n]||!1};Cookie.Set=function(n,t,i,r){var f,u;return(t=t==undefined?"":""+t,f=/^s?[\d\w\u4e00-\u9fa5]*$/img,!n.match(f))?!1:(i=i||"",i&&(u=new Date,u.setDate(u.getDate()+i),i=";expires="+(window.ActiveXObject?u.toGMTString():u)),r=r?";domain="+r:"",document.cookie=n+"="+t+";path=/"+i+r,!0)};Cookie.Remove=function(n){this.Set(n,"",-100)};Cookie.RemoveAll=function(){for(var t=document.cookie.split("; "),i=t.length,n=0;n<i;n++)this.Remove(t[n].split("=")[0])};Storage={};Storage.Set=function(n,t){this.remove(n);window.localStorage?window.localStorage.setItem(n,t):Cookie.Set(n,t,360)};Storage.Get=function(n){return window.localStorage?window.localStorage.getItem(n):Cookie.Get(n)};Storage.remove=function(n){window.localStorage?window.localStorage.removeItem(n):Cookie.Remove(n)};Storage.setJson=function(n,t){t.constructor==Object&&(t=Object.toJson(t));this.Set(n,t)};Storage.getJson=function(n,t){return decodeURIComponent(this.Get(n)||t||"{}").toJson()};String.prototype.trimleft=function(){return this.replace(/^\s+/,"")};String.prototype.trimright=function(){return this.replace(/\s+$/,"")};String.prototype.trim=function(){return this.trimleft().trimright()};String.prototype.toJson=function(){return eval("("+this+")")};String.prototype.delHtml=function(){return this.replace(/<.+?>/img,"")};String.prototype.getEntity=function(){for(var n="",i=this.length,t=0;t<i;t++)n=n+"&#"+this.charCodeAt(t)+";";return n};String.prototype.toFixed=function(n){return parseFloat(this).toFixed(n)};String.prototype.toEntity=function(){for(var i=arguments.length,t=this,n=0;n<i;n++)t=t.replace(new RegExp(arguments[n],"img"),arguments[n].getEntity());return t};String.prototype.toDateCn=function(){return this.ParseDate().toDateCn()};String.prototype.toKeyValue=function(n){var t,i;if(!this.replace(/\s/img,""))return{};var r=this.split(n||"&"),f=r.length,u={};for(t=0;t<f;t++)i=r[t].split("="),u[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);return u};String.prototype.round=function(n){var t=parseFloat(isNaN(this)?0:this).round(n);return t=t+1/Math.pow(10,n+1)+"",t.substring(0,t.indexOf(".")+n+1)};String.prototype.idcard=function(n){return this+(this.length>17?"":n?"X":"x")};String.prototype.padleft=function(n,t){var i=this.length,f=this,r,u;for(t=t||"0",i=n-i,r="",u=0;u<i;u++)r+=t;return r+f};String.prototype.padright=function(n,t){var i=this.length,f=this,r,u;for(t=t||"0",i=n-i,r="",u=0;u<i;u++)r+=t;return f+r};String.prototype.ParseDate=function(){try{var n=this.match(/\d+/img);return n[1]=n[1]-1,new Date(parseInt(n[0]),parseInt(n[1]),parseInt(n[2]),parseInt(n[3])||0,parseInt(n[4])||0,parseInt(n[5])||0)}catch(t){return new Date}};String.prototype.trans=function(n){return parseFloat(this).trans(n)};String.prototype.tomoney=function(n,t){var u="",c=this.match(/^\d/)&&this.indexOf(".")==-1?this+".00":this,f=c.split("."),i,e,r;if(t){var o=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖","拾"],s=["亿","万","仟","佰","拾","兆","万","仟","佰","拾","亿","仟","佰","拾","万","仟","佰","拾","元","角","分"].reverse(),h=f[0].length;for(i=0;i<h;i++)u+=o[f[0].substr(i,1)]+s[h-i+1];for(i=0;i<2;i++)u+=o[f[1].substr(i,1)]+s[1-i]}else f[0]&&(e=/(\d{1,3})?(\d{3})?(\d{3})?(\d{3})?(\d{3})?$/,r=e.exec(f[0]),r&&(r.splice(0,1),u=r.toString())),f[1]&&(e=/^(\d{3})?(\d{3})?(\d{3})?(\d{3})?(\d{1,3})?/,r=e.exec(f[1]),r&&(r.splice(0,1),u+="."+r.toString())),u=u.replace(/,{2,}/g,",").replace(",.",".").replace(".,",".");return u||n||"0.00"};Date.prototype.subtract=function(n){return typeof n=="string"&&(n=n.ParseDate()),new Date(this-n-288e5)};Date.prototype.addYear=function(n){return this.setFullYear(this.getFullYear()+n)};Date.prototype.addMonth=function(n){return this.setMonth(this.getMonth()+n)};Date.prototype.addDay=function(n){return this.setDate(this.getDate()+n)};Date.prototype.addHour=function(n){return this.setHours(this.getHours()+n)};Date.prototype.addMinutes=function(n){return this.setMinutes(this.getMinutes()+n)};Date.prototype.addSeconds=function(n){return this.setSeconds(this.getSeconds()+n)};Date.prototype.addMilliseconds=function(n){return this.setMilliseconds(this.getMilliseconds()+n)};Date.prototype.getCnWeek=function(){return["日","一","二","三","四","五","六"][this.getDay()]};Date.prototype.getFirstDayWeek=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.getDay()};Date.prototype.getPreMonthDay=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.setDate(n.getDate()-1),parseInt(n.getDate())};Date.prototype.getNextMonthDay=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.setMonth(n.getMonth()+2),n.setDate(n.getDate-1),parseInt(n.getDate())};Date.prototype.getMaxDay=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),parseInt(n.getDate())};Date.prototype.getPreMonth=function(){var n=this.toString("yyyy-MM-dd").ParseDate();return n.setDate(1),n.setMonth(n.getMonth()-1),n};Date.prototype.getTimestamp=function(){return parseInt(this.getTime()/1e3)};Date.prototype.getNextMonth=function(){var n=this.toString("yyyy-MM-dd").ParseDate();return n.setDate(1),n.setMonth(n.getMonth()+1),n};Date.prototype.toString=function(n){var i,r,t;n=n||"yyyy-MM-dd HH:mm:ss";i={yyyy:this.getFullYear(),yy:this.getFullYear().toString().substring(2),MM:this.getMonth()+1,dd:this.getDate(),HH:this.getHours(),hh:this.getHours(),mm:this.getMinutes(),ss:this.getSeconds(),ms:this.getMilliseconds()};for(r in i)t=i[r],t.toString()<10&&(t="0"+t),n=n.replace(r,t);return n};Date.prototype.toDateCn=function(n){var t=(new Date).subtract(this),r,u,i;return t.getFullYear()>1970?this.toString(n):t.getMonth()>=3?this.toString("MM月dd日 hh:mm"):(r=t.getDate(),r==2)?this.toString("前天 hh:mm"):r==1?this.toString("昨天 hh:mm"):(u=t.getHours(),u>1&&u<24)?this.toString("今天 hh:mm"):(i=rg.getSeconds(),i>1&&i<60)?i+"秒前":"刚刚"};Number.prototype.round=function(n){var t=Math.pow(10,n);return Math.round(this*t)/t};Number.prototype.floor=function(n){var t=Math.pow(10,n);return Math.floor(this*t)/t};Number.prototype.tomoney=function(n){return this.toString().tomoney(n)};Number.prototype.trans=function(n){var r;n=n||0;var i=this.toFixed(n),t=i.indexOf("."),i=t>0?i.substring(0,t):i;return this<1e4?this.toFixed(n):(t=Math.floor(i.length/4),r=["","万","亿","兆"],(this/Math.pow(1e4,t)).toFixed(n)+r[t])};Url=self.location.search.replace(/^\?/,"").toKeyValue();Object.HasChild=function(n){for(var t in n)return!0;return!1};Object.Query=function(n,t){var r,f,u,i;try{if(!n)return{};if(!t)return n;r={};switch(t.constructor){case Array:u=t[1];t[1].constructor!=RegExp&&(u=new RegExp("^"+t[1]+"$","img"));for(i in n)n[i][t[0]].toString().match(u)&&(r[i]=n[i]);break;case Number:case String:for(i in n)n[i]==t&&(r[i]=n[i]);break;case Object:for(f in t){u=t[f];t[f].constructor!=RegExp&&(u=new RegExp("^"+t[f]+"$","img"));for(i in n)n[i][f].toString().match(u)&&(r[i]=n[i])}break;default:r=n}return r}catch(e){alert("在对像查询中出现错误："+t+","+e.messaage)}};Object.copy=function(n,t){var i={};return t?$.each(t,function(t,r){n[r]&&(i[r]=n[r])}):$.each(n,function(n,t){i[n]=t}),i};Object.toJson=function(n,t){if(!n)return null;if(n.constructor==Array)return Array.toJson(n);t&&(n=this.Query(n,t));var u="",r=null,i=null;for(r in n){i=n[r]==null||n[r]===undefined?"":n[r];r='"'+r+'"';switch(i.constructor){case String:i='"'+i.toEntity('"')+'"';break;case Array:i=Array.toJson(i);break;case Boolean:i="true";break;case Object:i=Object.toJson(i)}u+=r+":"+i+","}return u.length>1&&(u=u.substring(0,u.length-1)),"{"+u+"}"};Object.toQueryString=function(n){var t=[];return $.each(n,function(n,i){t.push(n+"="+encodeURIComponent(i))}),t.join("&")};Object.Count=function(n,t){var i=0,r;t&&(n=this.Query(n,t));for(r in n)i++;return i};Object.format=function(n,t){return $.each(n,function(i,r){t[i]&&(n[i]=t[i](r))}),n};Object.fieldmap=function(n,t){var i={};switch(typeof n){case"array":i=[];$.each(n,function(n,r){var u={};$.each(r,function(n,i){u[t[n]||n]=i});i.push(u)});break;case"object":$.each(n,function(n,r){i[t[n]||n]=r})}return i};Array.IsExist=function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i]==t)return i;return!1};Array.toKeyValue=function(n){for(var i={},r=n.length,t=0;t<r;t++)i[n[t]]=t+1;return i};Array.toJson=function(n){for(var i="",t=null,u=n.length,r=0;r<u;r++){t=n[r];isNaN(t)||(t=parseInt(t)||t);switch(t.constructor){case Number:break;case String:t='"'+t.toEntity('"')+'"';break;case Array:t=Array.toJson(t);break;case Object:t=Object.toJson(t);break;default:t='"'+t.toString().toEntity('"')+'"'}i+=t+","}return i.length>1&&(i=i.substring(0,i.length-1)),"["+i+"]"};Array.copy=function(n){var t=[];return $.each(n,function(n,i){t[n]=i}),t};$("[contenteditable]").keydown(function(n){n.keyCode===9&&n.preventDefault()});jQuery.fn.extend({barcode:function(n,t){$(this).each(function(){var i=$(this),r=("barcode"+Math.random()).replace("0.","");i.attr("id",r);JsBarcode("#"+r,i.attr("barcode")||n,$.extend({displayValue:!0,fontSize:12,height:40},t))})},selectcascade:function(){$(this).each(function(){function u(e){var a=Object.Query(f,[1,e]),s="";if($.each(a,function(n,t){s+='<option value="'+n+'">'+t[0]+"<\/option>"}),s.length!=0){var o=n.find("select"),h=o.length,c=t[h],l=r[h];c||(c=t[0],o.removeAttr("name"));l&&(s='<option value="">'+l+"<\/option>"+s);o=$('<select name="'+c+'"><\/select>');o.html(s);n.append(o);o.change(function(){for(var n=$(this);n.next().length;)n.next().remove();u(this.value)});o.find("option[value='"+i[h]+"']").length&&o.val(i[h]);o.change()}}var n=$(this),f=dictdata[n.attr("selectcascade")]||{},t=n.attr("dict-name"),i=n.attr("dict-val"),r=n.attr("dict-first");t=t?t.split(","):[];i=i?i.split(","):[];r=r?r.split(","):[];u(0)})},vcenter:function(){return $(this).each(function(){var n=$(this),t=n.parent(),i=n.height(),r=t.height();n.css("margin-top",(r-i)/2)}),$(this)},dictparse:function(){$(this).each(function(){var n=$(this),r=n.attr("dictparse"),u=dictdata[r]||{},f=(n.attr("dict-val")||"").split(","),e=n.attr("dict-split")||"",t=[],o=n.attr("prefix")||"",i=n.attr("dict-wrap");$.each(f,function(n,r){r=u[r]||r;r.constructor==Array&&(r=r[0]);i&&(r="<"+i+">"+r+"<\/"+i+">");t.push(r)});switch(n.attr("dict-tag")){case"checkbox":case"radio":return $("[name="+r+"]").val(t),!0}t=o+t.join(e);switch(this.tagName.toLowerCase()){case"select":case"input":n.val(t);break;default:n.html(t)}})},binddict:function(n){return $(this).each(function(){var i=$(this),t="";$.each(n,function(n,r){if(t=i.find("["+n+"]"),t.length)switch(t.get(0).tagName.toLowerCase()){case"select":case"input":t.val(r);break;default:t.html(r)}})})},lazyload:function(){function i(){var i=n.scrollTop(),u=i+t,r=n.find("[lazyload]");r.each(function(){var r=$(this).offset().top,n,t;r>=i&&r<u&&(n=$(this),t=new Image,t.onload=function(){n[0].tagName.toLowerCase()=="img"||n.attr("src",t.src);t=null},t.src=n.attr("lazyload"),n.removeAttr("lazyload"))});r=null}var n=$(this),t;n.scroll(function(){i()});$(document).ready(function(){i()});t=n.height()+(scroller?n.offset().top:0)},horizontalslip:function(){$(this).each(function(){function l(){f=parseInt(n[3])||e.width();t.find(">*").width(f);t.width(s*f);u.eq(r).mouseover()}function h(){a>0&&!i&&(i=setInterval(function(){++r>=s&&(r=0);u.eq(r).mouseover()},a))}var e=$(this),f=0,n=e.attr("horizontalslip").split(","),u=e.find(n[0]),t=$("#"+n[1]),o,s,c;t.find(">*").each(function(n){$(this).attr("idx",n)});o=n[2];n[3]=="auto"&&$(window).resize(l);s=u.length;c=parseInt(n[4]||1e3);t.show();l();var a=parseInt(n[5]||0),i=null,r=0;u.mouseover(function(){r=$(this).index();u.removeClass(o);$(this).addClass(o);var n=t.find("[idx="+r+"]").index(),i=-n*f;t.stop();t.animate({marginLeft:i},c,function(){for(var i=0;i<n;i++)t.append(t.find(">*").first());t.css({"margin-left":0})})}).mouseout(h).mousemove(function(n){n.stopPropagation();i&&(clearInterval(i),i=null)});t.mouseover(function(n){n.stopPropagation();i&&(clearInterval(i),i=null)}).mouseout(h);n[6]&&$("#"+n[6]).click(function(){u.eq(++r).mouseover()});n[7]&&$("#"+n[7]).click(function(){u.eq(--r).mouseover()});h()})},loopslip:function(){$(this).each(function(){function h(){r=parseInt(i[1])||n.parent().width();n.find(">*").width(r);n.width(n.find(">*").length*r)}function a(){o.length&&(o.removeClass(),o.eq(n.find(">*").first().attr("idx")).addClass("selected"))}function s(){f>0&&(u&&(clearTimeout(u),u=null),u=setTimeout(function(){e.click()},f))}var t=$(this),r=0,f=0,i=t.attr("loopslip").split(","),n,u;f=parseInt(i[3]||0);n=$("#"+i[0]);n.show();i[1]=="auto"&&$(window).resize(h);h();var c=parseInt(i[2]||1e3),v=t.find("[loopleft]"),l=t.find("[loopright]"),e=l,o=t.find("#"+i[4]+">*");t.find("[loopleft]").click(function(){e=v;n.stop(!1,!0);a();n.animate({"margin-left":-r},c,function(){var t=n.find(">*");n.append(t.first());n.css({"margin-left":0});s()})});t.find("[loopright]").click(function(){e=l;var t=n.find(">*"),i=t.last();i.insertBefore(t.first());n.css({"margin-left":-r});n.stop();a();n.animate({"margin-left":0},c,function(){s()})});u=null;s()})},verticalslip:function(){$(this).each(function(){function h(){f=parseInt(n[3])||r.find(">*").first().height();r.parent().height(f)}function c(){autotime>0&&(u=setTimeout(function(){++t>=l&&(t=0);i.eq(t).mouseover()},autotime))}var o=$(this),n=o.attr("verticalslip").split(","),i=o.find(n[0]),l=i.length,r=$("#"+n[1]),s=n[2],f=0;n[3]=="auto"&&$(window).resize(h);h();var a=parseInt(n[4]||1e3),t=0,u=null;i.mouseover(function(){e.stopPropagation();u&&(clearTimeout(u),u=null);t=$(this).index();i.removeClass(s);$(this).addClass(s);r.stop();var n=-t*f;r.animate({marginTop:n},a,function(){c()})});n[6]&&$("#"+n[6]).click(function(){i.eq(++t).mouseover()});n[7]&&$("#"+n[7]).click(function(){i.eq(--t).mouseover()});c()})},switchslip:function(){$(this).each(function(){var e=$(this),t=e.attr("switchslip").split(","),n=e.children(),o=$("#"+t[0]).find(">*"),s=t[1],r=parseInt(t[2]||1e3),u=o.first(),f,i;if(n.mouseover(function(t){t.stopPropagation();n.removeClass(s);u=$(this).addClass(s);o.fadeOut(r).eq(u.index()).fadeOut(0).stop(!1,!0).fadeIn(r)}),n.first().mouseover(),f=parseInt(t[3]||0),f>0&&n.length>1){i=null;function h(){i=setInterval(function(){var t=u.next();t.length||(t=n.first());t.mouseover()},f+r)}n.parent().mouseover(function(){i&&clearInterval(i)}).mouseleave(function(){h()});h()}})},tabswitch:function(){$(this).each(function(){var i=$(this),r=i.attr("tabswitch"),n=i.find(">li"),t=$("#"+r).find(">*");t.hide();n.click(function(i){i.preventDefault();var r=$(this);n.removeClass("current");r.addClass("current");t.hide();t.eq(r.index()).show()});n.first().click()})},scrolltoel:function(){$(this).click(function(){var n=$(this).attr("scrolltoel").split(",");scrollBarTop($("#"+n[0]).offset().top+parseInt(n[1]||0))})},backtotop:function(){$(this).click(function(){scrollBarTop(0)})},underline:function(){$(this).each(function(){var f=$(this),n=f.attr("underline").split(","),r=f.find(n[0]),t=$("#"+n[1]);t.show();var e=parseInt(n[2]||200),u=parseInt(n[3])||0,i=r.first();r.mouseover(function(){i=$(this);t.stop();t.animate({left:i.offset().left-u/2,width:i.outerWidth()+u},e)});r.eq(n[4]||0).mouseover();$(window).resize(function(){t.css("left",i.offset().left-u/2)})})},touchslide:function(){return this.each(function(){var n=$(this),f=n.parent(),r=parseInt(n.attr("slidezoom"))?!0:!1,e=parseInt(n.css("z-index"))?!0:!1,u=n.offset(),o=u.left,s=u.top,i=1,t=1;if(r)n.on("mouseover.rsseasy",function(){n.on("mousewheel.rsseasy",function(t){t.deltaY>0?i+=.1:i-=.1;data={zoom:i};n.trigger("slidezoom",data)})}).on("mouseout.rsseasy",function(){n.off("mousewheel.rsseasy")});n.on("touchstart.rsseasy mousedown.rsseasy",function(i){var h=i.type=="touchstart"?i.originalEvent.touches[0]:i,y=h.pageX,p=h.pageY,c=n.offset(),b=y-c.left,k=p-c.top,l=0,a=0,d=n.height(),g=n.width(),v=0,w=0,u="";data={left:c.left,top:c.top,pageX:h.pageX,pageY:h.pageY,touch:i.type=="touchstart"};f.attr("zindex")&&n.css("z-index",1e3);i.type=="touchstart"&&i.originalEvent.touches.length>1&&(v=parseInt(Math.abs(i.originalEvent.touches[0].pageY-i.originalEvent.touches[1].pageY)*100)/100);n.trigger("slidestart",data);n.parent().on("touchmove.rsseasy mousemove.rsseasy mousewheel.rsseasy",function(i){var f,e;i.stopPropagation();f=i.type=="touchmove"?i.originalEvent.touches[0]:i;l=f.pageX;a=f.pageY;mx=l-y;my=a-p;data={left:l-b-o,top:a-k-s,moveX:mx,moveY:my};mx=Math.abs(l-y);my=Math.abs(a-p);r&&i.type=="touchmove"&&i.originalEvent.touches.length>1?(e=Math.abs(i.originalEvent.touches[0].pageY-i.originalEvent.touches[1].pageY),v>0&&Math.abs(e-v)>4&&(w=parseInt(e/v*100)/100,data={zoom:t+w},n.trigger("slidezoom",data))):(n.trigger("slidemove",data),u||(mx>2&&(u="xaxis"),my>2&&(u="yaxis")),u&&n.trigger("slide"+u,data))});n.parent().on("touchend.rsseasy mouseup.rsseasy",function(){u="";t=t+w;Math.ceil(t)>=2&&(t-=1);n.css("z-index",e);n.trigger("slideend",data);n.parent().off(".rsseasy")})})})},pageslide:function(){return $(this).each(function(){var n=$(this),f;wrap=n.parent();items=n.children();var u={dis:parseInt(n.attr("dis")||60),auto:parseInt(n.attr("auto")||0),speed:parseInt(n.attr("speed")||1e3)},o=0,r=wrap.outerWidth()||$(window).width(),i=items.length,s=i*r,t=0;if(items.width(r),n.width(r*i),n.on("slidexaxis",function(n,t){$(this).css("margin-left",t.left)}).on("slideend",function(f,e){var s=e.left;Math.abs(s)>u.dis&&(t=Math.abs(s/r),t=e.moveX>0?Math.floor(t):Math.ceil(t),t>=i&&(t=i-1));o=-t*r;$(this).animate({"margin-left":o},200);n.trigger("pageslideend",{totalpage:i,curpage:t+1})}).touchslide(),u.auto>0){items.each(function(n){$(this).attr("idx",n)});f=null;n.on("slidestart",function(){n.stop();f&&(clearTimeout(f),f=null)});function e(){if(i<2){n.trigger("slidestart");return}t>=i&&(t=0);f=setTimeout(function(){n.stop().animate({"margin-left":-r},u.speed,function(){var r=n.find(":first");n.append(r);n.css("margin-left",0);n.trigger("pageslideend",{totalpage:i,curpage:parseInt(n.find(":first").attr("idx"))+1});t++;e()})},u.auto+u.speed)}n.on("slideend",function(){e()});e()}})},selectslide:function(){return $(this).each(function(){var n=$(this),r=n.children().first(),c=parseInt(n.attr("selectslide")||0),s=dictdata[n.attr("dict")],l=n.attr("dis")||20,a=n.attr("fixed")?!0:!1,t=0,o;s&&(o="",$.each(s,function(n,t){o+='<li key="'+n+'">'+t+"<\/li>"}),r.html(o));var v=n.innerHeight(),f=r.children(),u=f.outerHeight(),e=f.length,y=e*u,h=(v-u)/2,i=-c*u;r.css({transform:"translateY("+h+"px)","-webkit-transform":"translateY("+h+"px)","margin-top":i});n.on("slidestart",function(t,u){n.trigger("selectslidestart",u);i=parseInt(r.css("margin-top"))||0}).on("slideyaxis",function(t,f){var e=i+f.moveY;a&&(e>=0||Math.abs(e)>=y-u)||(r.css("margin-top",e),n.trigger("selectslidemove",f))}).on("slideend",function(o,s){Math.abs(s.moveY)>l&&(t=i>0?0:Math.abs((i+s.moveY)/u),t=s.moveY>0?Math.floor(t):Math.ceil(t),t>=e&&(t=e-1));i=-t*u;r.animate({"margin-top":i},200);$.extend(s,{source:n,totalitem:e,idx:t,value:f.eq(t).attr("value"),text:f.eq(t).text()});n.attr("value",s.value);n.trigger("selectslideend",s)});n.trigger("selectslideready",this)}).touchslide()},slideajax:function(){return $(this).each(function(){var n=$(this),u=n.children().first(),i=parseInt(n.attr("dis")||32),t=0,e=n.attr("bottom"),r=0,f=!1;n.on("slidestart",function(t,i){f=i.touch;n.append(RssWin.AjaxLoad);r=n.scrollTop()}).on("slidemove",function(f,e){if(r=n.scrollTop(),t=e.moveY,RssWin.AjaxLoad.hide(),t>0&&r<i/2){t>i&&(t=i,n.removeClass("load"),RssWin.AjaxLoad.show());u.css("margin-top",t);return}}).on("slideend",function(f,e){t=e.moveY;t>0&&r<i/2&&(u.css("margin-top",0),t>i&&n.trigger("ajaxupdate",e))}).touchslide()})}});$("[horizontalslip]").horizontalslip();$("[verticalslip]").verticalslip();$("[backtotop]").backtotop();$("[scrolltoel]").scrolltoel();$("[switchslip]").switchslip();$("[tabswitch]").tabswitch();$("[loopslip]").loopslip();$("[underline]").underline();$("[pageslide]").pageslide();$("[qrcode]").each(function(){$(this).qrcode({text:$(this).attr("qrcode")})});$("input[readonly]").focus(function(){this.blur()});jQuery.fn.extend({mapjson:function(n,t){var r=$(this),i=$.extend({},n),u;return $.each(t,function(n,t){i[n]&&(i[n]=t(i[n]))}),i.id&&(i.rssid=i.id),i.name&&(i.rssname=i.name),r.find("[bindkeys]").each(function(){var t=$(this),n=t.attr("bindkeys"),r=[];n.match(/{\w+}?/)?(n=n.replace(/{\w+}?/img,function(n){return n=n.substring(1,n.length-1),i[n]||""}),t.html(n)):(n=n.split(","),$.each(n,function(n,t){r.push(i[t]===undefined?t:i[t]||"")}),t.html(r.join("")))}),r.find("[bindattr]").each(function(){var n=$(this),t=n.attr("bindattr").split(",");$.each(t,function(t,i){n.removeAttr(i)})}),u=r.attr("dataid"),u&&r.attr("dataid",i[u]),$.each(i,function(n,t){n!=="id"&&n!=="name"&&(r.attr(n)&&r.attr(n,t),r.find("["+n+"]").each(function(){var r=$(this),u=parseInt(r.attr("len"))||0,f;u&&t.length>u&&(t=t.substr(0,u));f=r.attr(n);f&&(t=f.replace(/(\{\w+?\})/ig,function(n){return n=n.replace(/[\{\}]/ig,""),i[n]}));switch(r.get(0).tagName.toLowerCase()){case"input":switch(r.attr("type")){case"checkbox":case"radio":r.val(t.split(","))}case"select":case"textarea":r.val(t);break;case"img":case"audio":case"video":case"iframe":r.attr("src",RssUpFile.DoMain+t);break;default:r.html(t)}}))}),r.find("[bindattr]").each(function(){var n=$(this),t=n.attr("bindattr").split(",");$.each(t,function(t,r){n.attr(r,i[r]||"")})}),r.trigger("mapjson"),r},mapitem:function(n,t,i){var r=$(this),f=r.children().first(),u;return r.data("rsstemp")||(r.data("rsstemp",r.html()),r.empty()),i&&i!=3||r.empty(),u=r.attr("querykey"),u=u?u.split(","):[],$.each(n,function(n,e){var o=$(r.data("rsstemp"));o.mapjson(e,t);i==1?o.insertBefore(f):r.append(o);o.click(function(){if(u.length){var n={};$.each(u,function(t,i){n[i]=e[i]||""});$("#"+(e.mappage||r.attr("mappage"))).data("query",n)}});o.show()}),r.trigger("mapitem"),r},maphtml:function(n,t){$(this).each(function(){var i=$(this);i.html(i.html().replace(/({\w+?})/img,function(i){return i=n[i.replace(/[\{\}]/ig,"")],t[i]||i}))})},mapview:function(n,t,i){return $.isArray(n)?this.mapitem(n,t,i):this.mapjson(n,t)},mapselect:function(n){var t=$(this),r=t.attr("value"),u=t.attr("text"),i="";return $.each(n,function(n,t){i+='<option value="'+t[r]+'">'+t[u]+"<\/option>"}),t.html(i),t},mapradio:function(n,i){return $(this).html(RssHtml.KeyValueArr.Radio(n,{wrap:i,name:t.attr("name"),value:t.attr("value"),text:t.attr("text")}))},mapcheckbox:function(n,t){var u=$(this),i=u.attr("name"),r=u.attr("value"),e=u.attr("text"),f="";return t?$.each(n,function(n,t){f+='<label for="'+i+t[r]+'"><input type="checkbox" id="'+i+t[r]+'" name="'+i+'" value="'+t[r]+'" />'+t[e]+"<\/label>"}):$.each(n,function(n,t){f+='<input type="checkbox" id="'+i+t[r]+'" name="'+i+'" value="'+t[r]+'" /><label for="'+i+t[r]+'">'+t[e]+"<\/label>"}),u.html(f),u},iframe:function(n){return $(this).click(function(t){t.stopPropagation();var i=$(this);document.getElementById(i.attr("iframe")||n).setAttribute("src",i.attr("src"))})},attrmap:function(n){var t=$(this),u=$("#"+t.attr("mapform")),i=u.length?u.serialize().toKeyValue():{},r=n?n.split(","):[];return n=t.attr("attrmap"),n&&(r=n.split(",").concat(r)),$.each(r,function(n,r){i[r.replace(/^map/,"")]=$("#"+(t.attr(r)||r)).val()||""}),$.extend(t.data("attrmap"),i),i},attrval:function(n){var t=$(this),i={},r=n.split(",");return n=t.attr("attrval"),n&&r.concat(n.split(",")),$.each(r,function(n,r){i[r]=t.attr(r)||""}),i}});jQuery.fn.extend({rssparse:function(n){return $(this).data("rssparse",n)},rssverify:function(n){return $(this).data("rssverify",n)},rssedit:function(n){var i;try{n=n||"rssedit";var t=$(this),u=t.attrmap(t.attr(n)),r=t.data("rssverify");if(r&&r.constructor==Function&&!r(u))return;i=new Ajax(t.attr("api")).keyvalue(u);t.attr("usemyid")!=undefined&&i.keymyid(t.attr("usemyid"));t.trigger("ajaxready",i);i.post(function(i){t.trigger(n,i)})}catch(f){RssCode.alert(f)}},rssdel:function(){$(this).rssedit("rssdel")},rssadd:function(){$(this).rssedit("rssadd")},rssview:function(n){var t=$(this),r=$.extend(null,t.attrmap(t.attr("rssview")||""),n||{}),i=new Ajax(t.attr("api")).keyvalue(r);t.attr("usemyid")!=undefined&&i.keymyid(t.attr("usemyid"));i.getJson(function(n){var i=t.data("rssparse")||{};$("#"+t.attr("bind")).mapjson(n,i)})},rssitem:function(){return $(this).each(function(n){var t=$(this),u=$.extend(null,t.attrmap(t.attr("rssitem")),n||{}),f=t.parent(),e=$("#"+t.attr("nextbtn")),r=$("#"+t.attr("prevbtn")),i=new Ajax(t.attr("api")).keyvalue(u).setFlushUI(function(n,i){t.mapitem(n,t.data("rssparse"),r.length?!1:i)});t.attr("usemyid")!=undefined&&i.keymyid(t.attr("usemyid"));f.on("ajaxupdate",function(){i.firstpage().getJson()}).trigger("ajaxupdate");e.click(function(){i.nextpage().getJson()});r.click(function(){i.prevpage().getJson()})})}});$(window).ready(function(){function n(n,t){var s=n.attr("dict-"+t),i=window.dictdata[s]||{},h="",r=n.attr("dict-name")||s,c=n.attr("dict-id")||r,u=n.attr("dict-keys")||"",e,f,o;u.length&&(u=u.split(","),e={},$.each(u,function(n,t){i[t]&&(e[t]=i[t])}),i=e);$.each(i,function(n,i){h+='<label for="'+c+n+'"><input type="'+t+'" id="'+c+n+'" name="'+r+'" value="'+n+'" />'+(i.constructor==Array?i[0]:i)+"<\/label>"});n.html(h);f=n.find("input[name="+r+"]");n.attr("def")&&f.val(n.attr("def").split(","));t=="checkbox"&&(f.removeAttr("name"),o=$('<input type="hidden" name="'+r+'" value="'+(n.attr("def")||"")+'"/>'),n.append(o),f.click(function(){var t=[];n.find("input:checked").each(function(){t.push(this.value)});o.val(t.join())}))}$("[selectcascade]").selectcascade();$.each(window.dictdata||{},function(n){$("["+n+"]").each(function(){var t=$(this);t.attr({dictparse:n,"dict-val":t.attr(n)});t.dictparse()})});$("[dict-select]").each(function(){var n=$(this),i=window.dictdata[n.attr("dict-select")]||{},t="";$.each(i,function(n,i){i.constructor==Array&&(i=i[0]);t+='<option value="'+n+'">'+i+"<\/option>"});this.tagName.toLowerCase()!="select"&&(n=n.append("<select><\/select>"));n.append(t);n.attr("def")&&n.val(n.attr("def"))});$("[dict-radio]").each(function(){n($(this),"radio")});$("[dict-checkbox]").each(function(){n($(this),"checkbox")})});$(".hisback").click(function(n){n.preventDefault();n.stopPropagation();history.back()});$("[selectall]").click(function(){var n=$(this),t=$(n.attr("selectall"));t.prop("checked",this.checked)});$("[rssdate]").each(function(){var n=$(this),t=n.attr("rssdate").split(","),r,i;if(t[0]){r=t[1]||"yyyy-MM-dd HH:mm:ss";i=new Date(parseInt(eval(t[0]))*1e3).toString(r);switch(this.tagName.toLowerCase()){case"input":n.val(i);break;default:n.html(i)}}});$("[ueditor]").each(function(){UE.getEditor(this.id,eval("({"+$(this).attr("ueditor")+"})"))});$("[rssip]").each(function(){var t=$(this),i=parseInt(t.attr("rssip")).toString("16").padleft(8,"0"),n=i.match(/\w{2}/img);t.html(parseInt(n[0],16)+"."+parseInt(n[1],16)+"."+parseInt(n[2],16)+"."+parseInt(n[3],16))});$("[fixedphone]").each(function(){var i=$(this),n=i.attr("fixedphone"),t,r;if(!(n.length<8)){t=/^(10|2[\d]|[\d]{3})/g;r=n.match(t);switch(this.tagName.toLowerCase()){case"input":break;default:i.html(n.replace(t,function(n){return"0"+n+"-"}))}}});$("[rssmoney]").each(function(){var t=$(this),n=t.attr("rssmoney").split(",");t.html(n[0].tomoney(n[1],n[2]))});$("[rssidcard]").each(function(){var t=$(this),n=t.attr("rssidcard");n.length==17&&(n+="X");switch(this.tagName.toLowerCase()){case"input":t.val(n);break;default:t.html(n)}});$("[disedit]").each(function(){var n=$(this);n.val()&&n.prop("disabled",!0)});"placeholder"in document.createElement("input")||($("[placeholder]").each(function(){var n=$(this),f=n.attr("placeholder"),t=n.height(),i=n.outerWidth(),r=parseInt(n.css("margin-right")),e=i-n.width(),u=$("<label>").insertAfter(n).html(f).css({"margin-top":-t,"margin-left":-(i+r),"margin-right":r,height:t,width:i,"line-height":t+"px"}).addClass("placeholder").hide();u.attr("id",n.attr("name")+"placeholder");u.click(function(){n.focus()})}),$("[placeholder]").focus(function(){var n=$(this),t=$("#"+n.attr("name")+"placeholder");t.hide()}).keyup(function(){var n=$(this),t=$("#"+n.attr("name")+"placeholder");n.val()==""?t.show():t.hide()}).blur(function(){$(this).keyup()}).blur());$("input[type!=hidden]").each(function(n){var t=$(this);t.prop("tabindex",n+1)});$(document).on("dragstart",function(n){n.preventDefault()});if(allowinput={},allowinput.number=function(n){var t=n.target.value;return n.which==189?!t.match(/^-[\d\.]*$/):n.which>47&&n.which<58||n.which>95&&n.which<106},allowinput.real=function(n){return n.which==110?!n.target.value.match(/\./img):this.number(n)||n.which==190},allowinput.time=function(n){return this.number(n)||n.which==59},allowinput.money=function(n){return this.real(n)},allowinput.idcard=function(n){return this.number(n)||n.which==88},$("[allowinput]").each(function(){var n=$(this);n.keydown(function(t){return t.which==8||t.which==9||t.which==13||t.which==46||t.which>36&&t.which<41||allowinput[n.attr("allowinput")](t)})}),transadapter={id:""},transadapter.factory=function(n,t){var r,u,f,i;if(n=$(n),r=$(n.attr(t)||"#transadapter"),u=eval(n.attr("select")),u!=!1&&(f=$(r.attr("find")),i=[],f.each(function(){i.push($(this).val())}),transadapter.id=i.join(","),!transadapter.id)){window.popuplayer?popuplayer.showError("请选择"):alert("请选择");return}transadapter[t]&&transadapter[t](n)},$("[transadapter]").click(function(n){n.preventDefault();var t=$(this);transadapter.factory(t,t.attr("transadapter"))}),RssMedia.prototype={duration:0,ispause:!0,isbuy:!0,onPay:$.noop(),currentTime:0,play:function(n){if(this.isbuy||n){this.player.play();return}if(this.onPay==$.noop){RssCode.alert("224");return}this.onPay()},stop:function(){if(this.pause()&&this.player.currentTime){this.onstop(this.player.currentTime);this.player.currentTime=0;this.ispause=!0}$(".audiogif").hide()},pause:function(){return this.player&&!this.player.paused&&this.player.pause?(this.player.pause(),!0):!1},onstop:function(){},onready:function(){},onpause:function(){},onend:function(){},onprogress:function(){},poster:function(n){this.player.setAttribute("poster",n)},setsrc:function(n,t){if(this.player.getAttribute("src")!=n){if(this.player.removeAttribute("autoplay"),t&&this.player.setAttribute("autoplay",!0),!n){this.player.removeAttribute("src");return}this.player.setAttribute("src",n);var i=this;return this.player.onloadeddata=function(){i.duration=parseInt(this.duration);i.onready()},this.player.ontimeupdate=function(){i.onprogress(i.duration,this.currentTime)},this.player.onplay=function(){i.ispause=!1},this.player.onended=function(){i.onend()},this.player.onpause=function(){i.ispause=!0;i.onpause()},this.player.load(),this}},onplayend:function(){}},RssAudio=new RssMedia,RssAudio.player=document.createElement("audio"),RssAudio.player.setAttribute("preload","auto"),RssAudio.player.style.width="0px",RssAudio.player.style.height="0px",RssAudio.player.style.visibility="hidden",document.body.appendChild(RssAudio.player),RssVideo=new RssMedia,RssVideo.player=document.createElement("video"),RssVideo.player.style.width="0px",RssVideo.player.style.height="0px",RssVideo.player.style.visibility="hidden",document.body.appendChild(RssVideo.player),function(){var t,i,n;if(window.addEventListener){for(t=[],i=document.getElementsByTagName("audio"),n=0;n<i.length;n++)t.push(i[n]);for(i=document.getElementsByTagName("video"),n=0;n<i.length;n++)t.push(i[n]);window.addEventListener("touchstart",r);function r(){for(var i=t.length,n=0;n<i;n++)t[n].load(),t[n].getAttribute("loop")&&t[n].addEventListener("pause",function(){this.currentTime==0&&this.play()});window.removeEventListener("touchstart",r)}}}(),RssCode={value:function(n){return dictdata.rsscode[n]||n+""},alert:function(n,t){n&&(t&&(t="："+t),alert(this.value(n)+(t||"")))}},rssclick={},$("[rssclick]").click(function(n){n.stopPropagation();n.preventDefault();var i=$(this),t=i.attr("rssclick");rssclick[t]&&rssclick[t].constructor==Function&&rssclick[t].call(this)}),RssEvent={onLevelClick:function(){}},RssTask={curtime:new Date,tick:100,queue:{},usetime:0,add:function(n,t,i,r){if(r&&this.queue[n]){alert("已存在相同的任务");return}if(typeof t!="function"){alert("任务应该是一个可执行的函数");return}return i=i||1e3,this.queue[n]={tick:i,task:t},this},pauseitem:{},pause:function(n){this.queue[n]&&(this.pauseitem[n]=this.queue[n],delete this.queue[n])},restart:function(n){this.pauseitem[n]&&(this.queue[n]=this.pauseitem[n]);delete this.pauseitem[n]},remove:function(n){return delete this.queue[n],this},removeAll:function(){return this.queue={},this},synctime:function(n){var t=(new Date).getTime(),i=this;return $.get(n,function(n){RssTask.curtime=new Date(n*1e3+((new Date).getTime()-t));i.onsynctime()}),this},onsynctime:function(){},task:null,start:function(n){return(this.tick=n||100,this.task)?this:(this.task=setInterval(function(){RssTask.curtime.addMilliseconds(RssTask.tick);var n=RssTask.curtime.getTime(),t=(new Date).getTime();$.each(RssTask.queue,function(t,i){parseInt(n/RssTask.tick)*RssTask.tick%i.tick==0&&i.task()});RssTask.usetime=(new Date).getTime()-t},this.tick),this)},stop:function(){return this.task&&(clearInterval(this.task),this.task=null),this}},RssDict.DataParse={},RssDict.prototype.keyvalue=function(n,t){if(!n)return this;var i=this;switch(n.constructor){case RssTable:$.extend(i.dict,n.dict);t&&(this.dict.rowsdata=n.rows);break;case Object:$.extend(i.dict,n);break;case Array:$.each(n,function(n,t){i.dict[t.name]=t.value});break;default:if(t!==null&&t!==undefined){i.dict[n]=t;break}$.extend(i.dict,n.toKeyValue())}return this},RssDict.prototype.keymyid=function(n){return this.keyvalue("myid",n||RssUser.Data.myid||""),this},RssDict.prototype.parse=function(){return this},RssDict.prototype.toJson=function(){return Object.toJson(this.dict)},RssDict.prototype.toQueryString=function(){return Object.toQueryString(this.dict)},RssDict.prototype.extend=function(){},RssDict.prototype.getDict=function(){return this.dict},RssIM.prototype.Message={title:"",matter:"",clasifyid:"",sender:"",myid:"",nickname:"",audio:"",video:"",picture:""},RssIM.prototype.connid="",RssIM.prototype.host="",RssIM.prototype.im="",RssIM.prototype.groupname="",RssIM.prototype.connect=function(n,t){var i=this;if(!$.hubConnection){alert("hubConnection不存在，请检查");return}this.conn=$.hubConnection(n||this.host);this.im=this.conn.createHubProxy(t||this.proxy);RssUser.Data.myid&&(this.im.connection.qs="myid="+RssUser.Data.myid+"&username="+RssUser.Data.nickname);this.im.on("Upline",function(n){i.onUpline(n.toJson())});this.im.on("Receive",function(n){i.onReceive(n.toJson())});this.im.on("Reconnected",function(n){i.onReconnected(n.toJson())});this.im.on("Disconnected",function(n){i.onDisconnected(n.toJson())});this.im.on("GetUsers",function(n){i.onGetUsers(n.toJson())});this.im.on("GetGroups",function(n){i.onGetGroups(n.toJson())});this.conn.start().done(function(){i.connid=i.im.connection.id;i.onConnected()}).fail(function(){alert("即时通信服务器连接失败，请与管理员联系！")})},RssIM.prototype.onUpline=function(){},RssIM.prototype.onConnected=function(){},RssIM.prototype.onReconnected=function(){},RssIM.prototype.onDisconnected=function(){},RssIM.prototype.onReceive=function(n){console.log(n)},RssIM.prototype.getJson=function(n){return this.Message.sender=this.connid,RssUser.Data.myid&&(this.Message.myid=RssUser.Data.myid,this.Message.nickname=RssUser.Data.nickname||"游客"),$.extend(this.Message,n),Object.toJson(this.Message)},RssIM.prototype.SendMyID=function(n){this.im.invoke("sendMyID",this.getJson(),$.isArray(n)?n:n.split(","))},RssIM.prototype.SendConnID=function(n){this.im.invoke("sendConnID",this.getJson(),$.isArray(n)?n:n.split(","))},RssIM.prototype.SendAll=function(n){this.im.invoke("sendAll",this.getJson(n))},RssIM.prototype.SendOtherUser=function(){this.im.invoke("sendOtherUser",this.getJson())},RssIM.prototype.SendGroup=function(n){this.im.invoke("sendGroup",n,this.getJson({group:n}))},RssIM.prototype.JoinGroup=function(n){this.groupname=n;this.im.invoke("joinGroup",n)},RssIM.prototype.LeaveGroup=function(n){this.im.invoke("leaveGroup",n)},RssIM.prototype.onJsAdapter=function(){},RssIM.prototype.GetUsers=function(){this.im.invoke("getUsers")},RssIM.prototype.onGetUsers=function(){},RssIM.prototype.GetGroups=function(){this.im.invoke("getGroups")},RssIM.prototype.onGetGroups=function(){},Ajax=function(n){this.method="GET";this.url=this.host+n;this.params={};this.curpage=1;this.pagesize=10;this.refertime=RssTask.curtime;this.contentType="application/x-www-form-urlencoded";this.dataType="text";this.headers=new RssDict;this.xhr=null;this.newid=-1;this.rsstable=new RssTable;this.oncreate();this.formdata=window.FormData?new FormData:null},Ajax.prototype.setUrl=function(n){return this.url=n,this},Ajax.prototype.oncreate=function(){},Ajax.onNotNet=function(){alert("无网络，请打开网络后在试")},Ajax.success=function(n,t){if(n){if(typeof n=="object"&&n.rsscode!=undefined&&n.rsscode!=100){if(this.onrsscode==null)Ajax.onrsscode.call(this,n.rsscode,n);else this.onrsscode(this,n.rsscode,n);return}this.refertime=RssTask.curtime;var i=-1;if($.isArray(n)?i=n.length:$.isPlainObject(n)&&n.data&&(i=n.data.length),i>0&&this.getnewid(n),this.curpage==1&&i==0&&this.onnotdata!=null){this.onnotdata();return}if(this.flushui&&this.flushui(n,this.params.curpage=="0"?1:2),this.params.curpage=="0"&&this.curpage==1&&i==this.pagesize)this.curpage=2;else if(i>0&&this.curpage++,i<this.pagesize&&this.onlastpage!=null){this.onlastpage(i);return}t&&t.call(this,n);Ajax.onsuccess(n)}},Ajax.onrsscode=function(){},Ajax.error=function(n,t){n&&n({xhr:t,code:t.status,txt:t.statusText});Ajax.onerror(t)},Ajax.complete=function(n,t){this.isload&&Ajax.unloading();n&&n({xhr:t,code:t.status,txt:t.statusText});Ajax.oncomplete(t)},Ajax.sort=function(){},Ajax.onsuccess=function(){},Ajax.oncomplete=function(){},Ajax.onerror=function(){},Ajax.prototype.isload=!1,Ajax.prototype.setLoading=function(n){return this.isload=n,this},Ajax.prototype.bind=function(){return this},Ajax.prototype.onrsscode=null,Ajax.prototype.setrsscode=function(n){return this.onrsscode=n,this},Ajax.loading=!1,Ajax.onloading=function(){return Ajax.loading&&(clearTimeout(Ajax.loading),Ajax.loading=null),RssWin.MaskLayer.show(),RssWin.LoadBox.show(),this},Ajax.unloading=function(){return Ajax.loading=setTimeout(function(){RssWin.LoadBox.close();RssWin.MaskLayer.close()},500),this},Ajax.prototype.sign=function(){var t=[],i=[],n=this;return $.each(this.params,function(i){n.params[i]===undefined||n.params[i]===""?delete n.params[i]:t.push(i)}),t.sort(),$.each(t,function(t,r){i.push(r+"="+n.params[r])}),this.params.signtoken=MD5(i.join("&")+"&key="+this.prikey),this},Ajax.prototype.host="/api/",Ajax.prototype.prikey="www.rsseasy.com",Ajax.prototype.params={},Ajax.prototype.url="",Ajax.prototype.select=function(n){return n?(n.constructor==Array&&(n=n.join(",")),this.keyvalue("rssfield",n)):this},Ajax.prototype.condition=function(n){return this.keyvalue("rsswhere",Object.toJson(n))},Ajax.prototype.keyext=function(n){return this.keyvalue("extdata",n.attr("extdata")).keyvalue("extpost",n.attr("extpost"))},Ajax.prototype.setverify=function(n){return n&&n.constructor==Function&&(this.verify=n),this},Ajax.prototype.verify=function(){return!0},Ajax.prototype.keyvalue=function(n,t){if(!n)return this;var i=this;switch(n.constructor){case RssTable:$.extend(i.params,n.dict);t&&(this.params.rowsdata=n.rows);break;case Object:$.extend(i.params,n);break;case Array:$.each(n,function(n,t){if(i.params[t.name]){var r=i.params[t.name].split(",");r.push(t.value);i.params[t.name]=r.join(",")}else i.params[t.name]=t.value});break;default:if(t!==null&&t!==undefined){i.params[n]=t;break}$.extend(i.params,n.toKeyValue())}return this},Ajax.prototype.keyform=function(n,t){return this.formdata&&this.formdata.append(n,t),this},Ajax.prototype.getnewid=function(n){if(n=n.data||n,$.isArray(n)){var t=[];$.each(n,function(n,i){t.push(i.id||i.myid||0)});this.newid=Math.max.apply(null,t)}},Ajax.prototype.keymyid=function(n){return RssUser.Data.myid&&(this.params[n||"myid"]=RssUser.Data.myid),RssUser.Data.usertoken&&this.headers.keyvalue("usertoken",RssUser.Data.usertoken),this},Ajax.prototype.keyowner=function(n){return this.keyvalue("owner",n),this},Ajax.prototype.timestamp=function(){return this.keyvalue("shijian",parseInt(RssTask.curtime.getTime()/1e3)),this},Ajax.prototype.setHead=function(n,t){return this.headers.keyvalue(n,t),this},Ajax.prototype.setType=function(n){return this.dataType=n,this},Ajax.prototype.setTypeJson=function(){return this.dataType="json",this},Ajax.prototype.setFlushUI=function(n){return this.flushui=n||this.flushui||$.noop,this},Ajax.prototype.prevpage=function(){if(this.curpage-=2,this.curpage<0){this.curpage=1;this.onnotdata();return}return this.params.curpage=this.curpage,this.params.pagesize=this.pagesize,this},Ajax.prototype.nextpage=function(){return this.params.curpage=this.curpage,this.params.pagesize=this.pagesize,this},Ajax.prototype.flushui=function(){},Ajax.prototype.onlastpage=null,Ajax.prototype.onnotdata=null,Ajax.prototype.notdata=function(n){return this.onnotdata=n,this},Ajax.prototype.lastpage=function(n){return this.onlastpage=n,this},Ajax.prototype.firstpage=function(){return this.params.curpage="0",this.params.pagesize=this.pagesize,this.params.refertime=parseInt(this.refertime.getTime()/1e3),this.params.newid=this.newid,this},Ajax.prototype.getJson=function(n,t,i){return this.dataType="json",this.submit(n,t,i)},Ajax.prototype.get=function(n,t,i){return this.submit(n,t,i)},Ajax.prototype.post=function(n,t,i){return this.method="post",this.submit(n,t,i)},Ajax.prototype.isjson=!1,Ajax.prototype.sendJson=function(n,t,i){return this.contentType="application/json; charset=utf-8",this.dataType="json",this.method="post",this.isjson=!0,this.submit(n,t,i)},Ajax.prototype.submit=function(n,t,i){if(!navigator.onLine){Ajax.onNotNet();return}var r=this;return this.verify(this.params)?(this.sign(),this.isload&&Ajax.onloading(),this.isjson&&(this.params=Object.toJson(this.params)),this.xhr=$.ajax({type:this.method,url:this.url,headers:this.headers.dict,contentType:this.contentType,data:this.params,dataType:this.dataType,success:function(t){Ajax.success.call(r,t,n)},error:function(n,i,u){Ajax.error.call(r,t,n,u)},complete:function(n){Ajax.complete.call(r,i,n)}}),this):!1},Ajax.prototype.sendFrom=function(n,t,i){if(!navigator.onLine){Ajax.onNotNet();return}var u=this,r=this.xhr=new XMLHttpRequest;r.open("POST",this.url,!0);r.onreadystatechange=function(){r.readyState==4&&(r.status==200?Ajax.success.call(u,r.responseText.trim().toJson(),n):Ajax.error.call(u,t,r),Ajax.complete.call(u,i,r))};this.isload&&Ajax.onloading();$.each(this.params,function(n,t){u.formdata.append(n,t)});u.formdata.enctype="multipart/form-data";r.send(this.formdata)},RssORM={},RssORM.Append=function(n){n=n.split(",");$.each(n,function(n,t){RssORM[t]={};RssORM[t].entity={};RssORM[t].item=[];RssORM[t].layout={}})},RssUser={},RssUser.Data={myid:0},RssUser.Item={},RssUser.IsLogin=function(n){return RssUser.Data.myid?!0:(n&&n.preventDefault(),location.hash="#loginpage",!1)},RssUser.onLogin=function(n){RssUser.Update(n);location.hash=RssUser.History},RssUser.History="#orderpage",RssUser.Update=function(n){RssUser.Data=Storage.getJson("userdata");$.each(n,function(n,t){RssUser.Data[n]=t});Storage.Set("userdata",Object.toJson(RssUser.Data));this.onUpdate()},RssUser.onUpdate=function(){},RssUser.LoginOut=function(n){Storage.remove("userdata");RssUser.Update();typeof n=="function"&&n()},RssUser.Append=function(n,t){this.Item[n]=t},$("[islogin]").click(function(n){RssUser.History=$(this).attr("islogin")||"/";RssUser.IsLogin(n)}),RssUser.Update({}),RssPower={},RssPower.List=[],$.each((Cookie.Get("powerlist")||"").split(","),function(n,t){RssPower.List[n]=parseInt(t).toString(2).padleft(53,"0")}),RssPower.List="1"+RssPower.List.join(""),RssPower.verify=function(n){return RssPower.List.substr(n,1)==1},$("[powerid]").hide().each(function(){var n=$(this),t=parseInt(n.attr("powerid")||0);RssPower.verify(t)&&n.show()}),RssWin={AjaxLoad:$('<div id="ajaxload">松开刷新<\/div>'),MaskLayer:{layer:$("#masklayer"),show:function(){this.layer.length||(this.layer=$('<div id="masklayer" class="masklayer"><\/div>'),$(document.body).append(this.layer));this.layer.stop(!1,!0).fadeIn(100)},close:function(n){this.layer.stop(!1,!0).fadeOut(n||0)}},LoadBox:{box:$("#loadbox"),show:function(n){this.box.length||(this.box=$('<div id="loadbox" class="loadbox"><span>加载中<\/span><\/div>'),$(document.body).append(this.box));RssWin.MaskLayer.show();this.box.show();n&&this.box.find("span").html(n);this.box.css("margin-left",-this.box.outerWidth()/2)},close:function(){RssWin.MaskLayer.close();this.box.hide()}},DeBug:{box:$("#debug"),log:function(n){RssEasy.Debug&&this.box.find("ul").append("<li>"+JSON.stringify(n)+"<\/li>")},show:function(){this.box.show()}},topifr:function(n){var t=top.window.frames[n||0];return t.window||t.contentWindow},open:function(n,t,i){t=t||300;i=i||300;window.open(n,"rsswin","width="+t+"px,height="+i+"px,left="+(screen.availWidth-t)/2+"px,top="+(screen.availHeight-i)/2+"px")},winsendmsg:function(n){if(window.opener&&window.opener.RssWin.onwinreceivemsg)window.opener.RssWin.onwinreceivemsg(n)},onwinreceivemsg:function(){}},RssWin.MaskLayer.layer.click(function(n){n.stopPropagation()}),$("[rsswin]").click(function(){var n=$(this).attr("rsswin");if(!RssWin[n]){alert(n+"窗口不存在");return}RssWin[n].show()}),RssFrame={},RssFrame.RootMenu={},RssFrame.LeftMenu={},RssWebView={},RssWebView.onStart=function(){},RssWebView.onProgress=function(){},RssWebView.onComplete=function(){},RssUpFile={ApiHost:"",DoMain:""},RssUpFile.TaskAllot="",RssUpFile.Action="",RssUpFile.Params={},RssUpFile.Submit=function(n){RssAppAdapter($.extend(null,{adapter:"UpFile",action:this.Action,url:this.ApiHost},this.Params,n||{}))},RssUpFile.File=function(n){return this.Action="file",this.Submit(n)},RssUpFile.Image=function(n){return this.Action="gallery",this.Submit(n)},RssUpFile.TakePhoto=function(n){return this.Action="takephoto",this.Submit(n)},RssUpFile.onStart=function(){},RssUpFile.onProgress=function(){},RssUpFile.onComplete=function(){},RssUpFile.onError=function(){},RssDownFile={},RssDownFile.Params={background:!1},RssDownFile.setBackGround=function(n){return this.Params.background=n,this},RssDownFile.Start=function(n){this.Params.url=n;this.Submit()},RssDownFile.Submit=function(n){RssAppAdapter($.extend(null,{adapter:"DownFile"},this.Params,n||{}))},RssDownFile.onMediaDown=function(){},RssDownFile.onStart=function(){},RssDownFile.onProgress=function(){},RssDownFile.onComplete=function(){},RssTable.Table={},RssTable.prototype.setHeader=function(n){var t,i;switch(n.constructor){case Array:this.header=n;break;case String:this.header=n.split(",");break;case Object:t=[];$.each(row,function(n){t.push(n)});this.rows.push(t);break;default:alert("设置表头出错")}return i=this,$.each(this.header,function(n,t){i.headerdict[t]=n;i.dict[t]=""}),this.colcount=this.header.length,this},RssTable.prototype.onUpdateRow=function(){},RssTable.prototype.onAddRow=function(){},RssTable.prototype.addRow=function(n){return n=this.ParseRow(n),n&&(this.rows.push(n),this.rowscount=this.rows.length,this.onAddRow()),this},RssTable.prototype.ParseRow=function(n){switch(n.constructor){case Array:return n;case String:return n.split(",");case Object:var t=[],i=this;return $.each(n,function(n,r){var u=i.headerdict[n];t[u]=r}),t}},RssTable.prototype.onSetRows=function(){},RssTable.prototype.setRows=function(n){return this.rows=n,this.rowscount=this.rows.length,this.onSetRows(),this},RssTable.prototype.updatetRow=function(n,t){return n=this.ParseRow(n),n&&(this.rows[t||this.currowno]=n,this.onUpdateRow()),this},RssTable.prototype.setTable=function(n,t){return this.setHeader(n),this.setRows(t),this},RssTable.prototype.getColumnCount=function(){return this.header.length},RssTable.prototype.getColumnLabel=function(n){return this.header[n]||""},RssTable.prototype.next=function(){return++this.currowno<this.rowscount},RssTable.prototype.getRows=function(){return this.rows[this.currowno]},RssTable.prototype.for_in_row=function(){if(this.next()){var t=this.getRows(),n={},i=this;return $.each(t,function(t,r){r&&(n[i.header[t]]=r)}),this.dict=n,!0}return this.beforeFirst(),!1},RssTable.prototype.getValue=function(n){return this.rows[this.currowno][n]},RssTable.prototype.setValue=function(n,t){return this.rows[this.currowno][n]=t,this.onUpdateRow(),this},RssTable.prototype.getCell=function(n,t){return this.rows[n][t]},RssTable.prototype.setCell=function(n,t,i){return this.rows[n][t]=i,this.onUpdateRow(),this},RssTable.prototype.get=function(n){return this.dict[n]||""},RssTable.prototype.beforeFirst=function(){return this.currowno=-1,this},RssTable.prototype.drop=function(){return this.header=[],this.headerdict={},this.rows=[],this},RssTable.prototype.clear=function(){return this.rows=[],this},RssTable.prototype.toKeyValue=function(){for(var n=[];this.for_in_row();)n.push(this.dict);return Object.toJson(n)},RssTable.prototype.onSort=function(){},RssTable.prototype.sort=function(n){n=n.split(" ");var i=n[1]==="desc",t=this.headerdict[n[0]];this.rows.sort(function(n,i){return n[t]>i[t]?1:-1});i&&this.rows.reverse();this.onSort()},RssTable.prototype.copy=function(n){var i=new RssTable,r,u,t,f;for(i.setHeader(n),r=this,u=[],$.each(n,function(n,t){u.push(r.headerdict[t])}),t=[];this.next();)t=[],f=r.getRows(),$.each(u,function(n,i){t[n]=f[i]}),i.addRow(t);return i},RssTable.prototype.onSubmit=function(){},RssTable.prototype.Submit=function(){},RssOS.isandroid)$("[keyboardlayout]").on("focus.keyboardlayout",function(){var i=$(this),t=i.parents("footer"),n=$("#"+i.attr("keyboardlayout")),r=i.offset().top;if(t.length){t.stop(!1,!1).animate({bottom:320},100);n.on("click.keyboardlayout",function(n){n.target.getAttribute("keyboardlayout")||(t.css("bottom",0),t.unbind("click.keyboardlayou"))});return}if(r){n.stop(!1,!1).animate({top:-r+280},100);n.on("click.keyboardlayout",function(t){t.target.getAttribute("keyboardlayout")||(n.css("top",0),n.unbind("click.keyboardlayou"))})}})