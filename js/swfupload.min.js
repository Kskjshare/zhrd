var swfupload={};swfupload.swfobj={};swfupload.html=function(n,t){var r="/widget/swfupload.swf",i=this[t].config;n.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="'+i.width+'px" height="'+i.height+'px" id="'+name+'" name="'+name+'" align="middle"><param name="movie" value="'+r+'" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="play" value="true" /><param name="loop" value="false" /><param name="wmode" value="transparent" /><param name="scale" value="showall" /><param name="menu" value="false" /><param name="devicefont" value="false" /><param name="flashvars" value="marker='+t+'" /><param name="salign" value="" /><param name="allowScriptAccess" value="always" /><!--[if !IE]>--><object type="application/x-shockwave-flash" id="ie'+name+'" name="ie'+name+'" data="'+r+'" width="'+i.width+'px" height="'+i.height+'px"><param name="movie" value="'+r+'" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="play" value="true" /><param name="loop" value="true" /><param name="wmode" value="transparent" /><param name="scale" value="showall" /><param name="menu" value="true" /><param name="devicefont" value="false" /><param name="flashvars" value="marker='+t+'" /><param name="salign" value="" /><param name="allowScriptAccess" value="always" /><!--<![endif]--><a href="http://www.adobe.com/go/getflash">获得 Adobe Flash Player<\/a><!--[if !IE]>--><\/object><!--<![endif]--><\/object>'};swfupload.getflash=function(n){var i="ieswfupload"+n,t=window.document[i];t&&t.upload||(t=document.getElementById("swfupload"+n));swfupload.swfobj[n]=t};swfupload.config={requestUrl:"/widget/upload.jsp",fileType:[["图形图像(*.jpg;*.gif;*.png;*jpeg)","*.jpg;*.gif;*.png;*jpeg"]],fileSize:20480,inputname:"swfupload",width:173,height:26,succeeddel:!0,preview:!0,prewidth:120,multimode:!0};swfupload.onload=function(n){return swfupload.getflash(n),swfupload[n].config};$("[swfupload]").each(function(){var t=$(this),n=t.attr("swfupload");swfupload[n]={name:"swfupload"+n,querystring:{},onselect:function(){},onsucceed:function(){},onerror:function(n,t){alert("出错了，"+t.toString())},onprogress:function(n,t){var i=parseInt(t[0]/t[1]*100);$("#"+this.name+n).find("h2").html('<div style="width:'+i+'%">'+i+"%<div>")},onfilesize:function(n,t){alert(t.name+"超出了允许上传的大小")},onfileload:function(){},config:{}};swfupload[n].config=$.extend({},swfupload.config,t.attr("config").toJson());swfupload.html(this,n)});swfupload.querystring={};swfupload.getquerystring=function(n){var t=Object.toQueryString($.extend(swfupload[n].querystring,this.querystring));return t.length>1?"?"+t:""};swfupload.onnofiles=function(){alert("请选择需要上传的文件！")};swfupload.onfileload=function(n,t,i,r){$("#"+swfupload[n].name+t).find("img").attr("src",i?"data:image/jpeg;base64,"+i:"/img/soft/"+r.replace(".","")+".png")};swfupload.onfilesize=function(n,t){swfupload[n].onfilesize(t)};swfupload.onselect=function(n,t){swfupload[n].onselect(t.key,t)};swfupload.onmaxitem=function(n){alert("最多只能上传"+swfupload.onload[n].maxitem)};swfupload.upload=function(n){swfupload.swfobj[n]&&swfupload.swfobj[n].upload(null)};swfupload.reupload=function(n,t){this.swfobj[n]&&this.swfobj[n].reupload(t)};swfupload.cancelupload=function(n,t){this.swfobj[n]&&this.swfobj[n].cancelupload(t)};swfupload.cancelallupload=function(n,t){this.swfobj[n]&&this.swfobj[n].cancelupload(t)};swfupload.removefile=function(n,t){this.swfobj[n]&&this.swfobj[n].removefile(t)};swfupload.removeallfile=function(n){this.swfobj[n]&&this.swfobj[n].removeallfile(null)};swfupload.onready=function(){};swfupload.onupload=function(){return!0};swfupload.onopen=function(){};swfupload.onprogress=function(n,t,i){swfupload[n].onprogress(t,i)};swfupload.onsucceed=function(n,t,i){var r=$("#"+swfupload[n].name+t).find("h2");r.html('<div style="width:100%">上传成功！<div>');r.fadeOut(2e3);swfupload[n].onsucceed(t,i);swfupload.onsucceed.callbak(n,t,i)};swfupload.onsucceed.callbak=function(){};swfupload.onclick=function(){};swfupload.oncomplete=function(){};swfupload.onerror=function(n,t,i){swfupload[n].onerror(t,i)};swfupload.output=function(){};swfupload.onsave=function(){}