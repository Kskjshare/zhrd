function MD5(n){function a(n,t){return n<<t|n>>>32-t}function o(n,t){var f,e,r,u,i;return(r=n&2147483648,u=t&2147483648,f=n&1073741824,e=t&1073741824,i=(n&1073741823)+(t&1073741823),f&e)?i^2147483648^r^u:f|e?i&1073741824?i^3221225472^r^u:i^1073741824^r^u:i^r^u}function yt(n,t,i){return n&t|~n&i}function pt(n,t,i){return n&i|t&~i}function wt(n,t,i){return n^t^i}function bt(n,t,i){return t^(n|~i)}function s(n,t,i,r,u,f,e){return n=o(n,o(o(yt(t,i,r),u),e)),o(a(n,f),t)}function h(n,t,i,r,u,f,e){return n=o(n,o(o(pt(t,i,r),u),e)),o(a(n,f),t)}function c(n,t,i,r,u,f,e){return n=o(n,o(o(wt(t,i,r),u),e)),o(a(n,f),t)}function l(n,t,i,r,u,f,e){return n=o(n,o(o(bt(t,i,r),u),e)),o(a(n,f),t)}function kt(n){for(var r,u=n.length,o=u+8,s=(o-o%64)/64,e=(s+1)*16,i=Array(e-1),f=0,t=0;t<u;)r=(t-t%4)/4,f=t%4*8,i[r]=i[r]|n.charCodeAt(t)<<f,t++;return r=(t-t%4)/4,f=t%4*8,i[r]=i[r]|128<<f,i[e-2]=u<<3,i[e-1]=u>>>29,i}function v(n){for(var i="",r="",u,t=0;t<=3;t++)u=n>>>t*8&255,r="0"+u.toString(16),i=i+r.substr(r.length-2,2);return i}function dt(n){var i,r,t;for(n=n.replace(/\r\n/g,"\n"),i="",r=0;r<n.length;r++)t=n.charCodeAt(r),t<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(t&63|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(t&63|128));return i}var e=Array(),f,ht,ct,lt,at,t,i,r,u,y=7,p=12,w=17,b=22,k=5,d=9,g=14,nt=20,tt=4,it=11,rt=16,ut=23,ft=6,et=10,ot=15,st=21,vt;for(n=dt(n),e=kt(n),t=1732584193,i=4023233417,r=2562383102,u=271733878,f=0;f<e.length;f+=16)ht=t,ct=i,lt=r,at=u,t=s(t,i,r,u,e[f+0],y,3614090360),u=s(u,t,i,r,e[f+1],p,3905402710),r=s(r,u,t,i,e[f+2],w,606105819),i=s(i,r,u,t,e[f+3],b,3250441966),t=s(t,i,r,u,e[f+4],y,4118548399),u=s(u,t,i,r,e[f+5],p,1200080426),r=s(r,u,t,i,e[f+6],w,2821735955),i=s(i,r,u,t,e[f+7],b,4249261313),t=s(t,i,r,u,e[f+8],y,1770035416),u=s(u,t,i,r,e[f+9],p,2336552879),r=s(r,u,t,i,e[f+10],w,4294925233),i=s(i,r,u,t,e[f+11],b,2304563134),t=s(t,i,r,u,e[f+12],y,1804603682),u=s(u,t,i,r,e[f+13],p,4254626195),r=s(r,u,t,i,e[f+14],w,2792965006),i=s(i,r,u,t,e[f+15],b,1236535329),t=h(t,i,r,u,e[f+1],k,4129170786),u=h(u,t,i,r,e[f+6],d,3225465664),r=h(r,u,t,i,e[f+11],g,643717713),i=h(i,r,u,t,e[f+0],nt,3921069994),t=h(t,i,r,u,e[f+5],k,3593408605),u=h(u,t,i,r,e[f+10],d,38016083),r=h(r,u,t,i,e[f+15],g,3634488961),i=h(i,r,u,t,e[f+4],nt,3889429448),t=h(t,i,r,u,e[f+9],k,568446438),u=h(u,t,i,r,e[f+14],d,3275163606),r=h(r,u,t,i,e[f+3],g,4107603335),i=h(i,r,u,t,e[f+8],nt,1163531501),t=h(t,i,r,u,e[f+13],k,2850285829),u=h(u,t,i,r,e[f+2],d,4243563512),r=h(r,u,t,i,e[f+7],g,1735328473),i=h(i,r,u,t,e[f+12],nt,2368359562),t=c(t,i,r,u,e[f+5],tt,4294588738),u=c(u,t,i,r,e[f+8],it,2272392833),r=c(r,u,t,i,e[f+11],rt,1839030562),i=c(i,r,u,t,e[f+14],ut,4259657740),t=c(t,i,r,u,e[f+1],tt,2763975236),u=c(u,t,i,r,e[f+4],it,1272893353),r=c(r,u,t,i,e[f+7],rt,4139469664),i=c(i,r,u,t,e[f+10],ut,3200236656),t=c(t,i,r,u,e[f+13],tt,681279174),u=c(u,t,i,r,e[f+0],it,3936430074),r=c(r,u,t,i,e[f+3],rt,3572445317),i=c(i,r,u,t,e[f+6],ut,76029189),t=c(t,i,r,u,e[f+9],tt,3654602809),u=c(u,t,i,r,e[f+12],it,3873151461),r=c(r,u,t,i,e[f+15],rt,530742520),i=c(i,r,u,t,e[f+2],ut,3299628645),t=l(t,i,r,u,e[f+0],ft,4096336452),u=l(u,t,i,r,e[f+7],et,1126891415),r=l(r,u,t,i,e[f+14],ot,2878612391),i=l(i,r,u,t,e[f+5],st,4237533241),t=l(t,i,r,u,e[f+12],ft,1700485571),u=l(u,t,i,r,e[f+3],et,2399980690),r=l(r,u,t,i,e[f+10],ot,4293915773),i=l(i,r,u,t,e[f+1],st,2240044497),t=l(t,i,r,u,e[f+8],ft,1873313359),u=l(u,t,i,r,e[f+15],et,4264355552),r=l(r,u,t,i,e[f+6],ot,2734768916),i=l(i,r,u,t,e[f+13],st,1309151649),t=l(t,i,r,u,e[f+4],ft,4149444226),u=l(u,t,i,r,e[f+11],et,3174756917),r=l(r,u,t,i,e[f+2],ot,718787259),i=l(i,r,u,t,e[f+9],st,3951481745),t=o(t,ht),i=o(i,ct),r=o(r,lt),u=o(u,at);return vt=v(t)+v(i)+v(r)+v(u),vt.toLowerCase()}function viod(){return!1}function scrollBarTop(n,t){t||(t="html,body");$(t).animate({scrollTop:n},500)}function RssMedia(n){this.player=n&&n.constructor==String?document.getElementById(n):n;this.playlist=[];this.loop=!1}function RssDict(n,t){this.dict={};this.keyvalue(n,t)}function RssIM(n){this.host=n;this.socket=null}function RssAppAdapter(n){try{switch(RssOS.os){case"android":window.jsadapter?window.jsadapter.factory(JSON.stringify(n)):"";return;case"ios":window.webkit.messageHandlers.jsadapter?window.webkit.messageHandlers.jsadapter.postMessage(n):"";return;case"windows":window.external.jsadapter(JSON.stringify(n));return;case"wxsmall":wx.miniProgram.postMessage(n);return}}catch(i){}var t=n.adapter;window.WebAdapter&&WebAdapter[t]&&(delete n.adapter,WebAdapter[t](n))}function RssAppCallBackFactory(n,t){var i,r;if(RssWin.DeBug.log(t),i=t.adapter,i){if(delete t.adapter,n[i]){n[i](t);r=n.TaskAllot;r&&n[i][r]&&(n[i][r](t),n.TaskAllot="");return}alert(i+"适配器不存在！")}}function RssTable(n){RssTable.Table[n]=n;this.header=[];this.headerdict={};this.rows=[];this.pagesize=10;this.totalpage=0;this.curpage=1;this.colcount=0;this.currowno=-1;this.rowscount=0;this.prikey="id";this.dict={};this.pageitem={}}function JsAdapterCallBack(n){RssAppCallBackFactory(JsAdapter,n)}function RssSign(n){this.wrap=$(n);this.set={size:2}}function QR8bitByte(n){this.mode=QRMode.MODE_8BIT_BYTE;this.data=n}function QRCode(n,t){this.typeNumber=n;this.errorCorrectLevel=t;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function QRPolynomial(n,t){var i,r;if(n.length==undefined)throw new Error(n.length+"/"+t);for(i=0;i<n.length&&n[i]==0;)i++;for(this.num=new Array(n.length-i+t),r=0;r<n.length-i;r++)this.num[r]=n[r+i]}function QRRSBlock(n,t){this.totalCount=n;this.dataCount=t}function QRBitBuffer(){this.buffer=[];this.length=0}function RssLock(n){this.wrap=n.wrap;this.height=n.height||300;this.width=n.width||300;this.chooseType=parseInt(n.rows||4);this.canvas=document.createElement("canvas");this.canvas.width=this.width;this.canvas.height=this.height;this.wrap.html(this.canvas);this.touchFlag=!1;this.ctx=this.canvas.getContext("2d");this.createCircle();this.bindEvent()}function RssCanvas(n,t){t=t||{};this.canvas=n.constructor==String?document.getElementById(n):n;this.parent=$(this.canvas).parent();this.canvas.width=this.width=t.width||this.parent.width()||300;this.canvas.height=this.height=t.height||this.parent.height()||150;this.ctx=this.canvas.getContext("2d");this.margin={top:0,left:0,bottom:0,right:0};this.scale={repeat:1,path:[1,2,1],time:10}}function RssProgBar(n){this.bar=n.constructor==String?$("#"+n):n;this.tick="0%"}function ValidatedV4(n){return{get:function(t){var i=n[t];return i===undefined?"":i+""},verify:function(n,t,i,r){if(!this.get(n).match(t))throw r||i;return this},throwex:function(n,t){throw t||n;},isNumber:function(n,t){return this.verify(n,/^-?\d{1,9}(?:\.?\d{1,9})?$/,"212",t)},isInt:function(n,t){return this.verify(n,/^[1-9]\d*$/,"212",t)},isAmount:function(n,t){return this.verify(n||"amount",/^[1-9]\d*$/,"212",t)},isEmpty:function(n,t){return this.get(n).length>0&&this.throwex("116",t),this},isNotEmpty:function(n,t){return this.get(n).length===0&&this.throwex("200",t),this},isZero:function(n,t){return this.verify(n,/^0$/,"201",t)},isNotZero:function(n,t){return this.verify(n,/^[^0]+$/,"201",t)},isEqual:function(n,t,i){return this.get(n)!==this.get(t)&&this.throwex("116",i),this},isNotEqual:function(n,t,i){return this.get(n)===this.get(t)&&this.throwex("117",i),this},isRange:function(){return this},isEmail:function(n,t){return this.verify(n||"email",/^[\w\-_]{1,20}@([\w\-]{1,10}){1,3}(\.[\w\-]{1,10}){1,3}$/img,"128",t)},isMobphone:function(n,t){return this.verify(n||"telphone",/^1\d{10}$/,"101",t)},isPhone:function(n,t){return this.verify(n||"phone",/^\d{3,4}-?\d{7,8}/,"207",t)},isMoney:function(n,t){return this.verify(n||"money",/\d{1,15}(?:\.\d{1,4})?/,"202",t)},isPrice:function(n,t){return this.verify(n||"price",/\d{1,15}(?:\.\d{1,4})?/,"202",t)},isFee:function(n,t){return this.verify(n||"fee",/\d{1,15}(?:\.\d{1,4})?/,"202",t)},isChinese:function(n,t){return this.verify(n,/^[\u4E00-\u9FA5]+$/,"208",t)},isAccount:function(n,t){return this.verify(n||"account",/^(?:1\d{10})|(?:[\.\w@_]{6,30})$/,"142",t)},isDateTime:function(n,t){return this.verify(n||"datetime",/^\d{4}.\d{2}.\d{2}(?:\s\d{2}:\d{2}:\d{2})?$/,"205",t)},isTime:function(n,t){return this.verify(n||"time",/^\d{2}:\d{2}:\d{2}$/,"206",t)},isIdCard:function(n,t){return this.verify(n||"idcard",/^\d{17}[Xx\d]$/,"204",t)},isBankCard:function(n,t){return this.verify(n||"bankcard",/^\d{12,19}$/,"203",t)},isMyID:function(n,t){return this.verify(n||"myid",/^\d+$/,"997",t)},isID:function(n,t){return this.verify(n||"id",/^\d+$/,"315",t)},isPwd:function(n,t){return this.verify(n||"pwd",/^.{6,}/,"102",t)},isVerifyCode:function(n,t){return this.verify(n||"verifycode",/^\w{5,6}$/,"215",t)},isSmsCode:function(n,t){return this.verify(n||"smscode",/^\d{4,6}$/,"120",t)},isImgCode:function(n,t){return this.verify(n||"imgcode",/^\w{4,6}$/,"123",t)},isTitle:function(n,t){return this.verify(n||"title",/^.{2,80}$/,"309",t)},isMatter:function(n,t){return this.verify(n||"matter",/^.{2,}$/,"310",t)},isModuleid:function(n,t){return this.verify(n||"moduleid",/^\d+$/,"326",t)},isRelationId:function(n,t){return this.verify(n||"relationid",/^\d+$/,"223",t)},isRealName:function(n,t){return this.verify(n||"realname",/^.{1,10}$/,"323",t)},isAddr:function(n,t){return this.verify(n||"addr",/^.{3,50}$/,"324",t)},isToken:function(n,t){return this.verify(n,/^\w{32}$/,"260",t)},isCorpName:function(n,t){return this.verify(n,/^.{4,50}$/,"318",t)},isCorpIdCode:function(n,t){return this.verify(n,/^\w{18}$/,"317",t)},isClassifyID:function(n,t){return this.verify(n||"classifyid",/^\d{1,18}$/,"328",t)},isOrderID:function(n,t){return this.verify(n||"orderid",/^\d{1,18}$/,"331",t)},isOrderIDS:function(n,t){return this.verify(n||"orderid",/^\d{1,18}(?:,\d{1,18})*$/,"331",t)},isDetailID:function(n,t){return this.verify(n||"detailid",/^\d{1,18}$/,"331",t)},isDetailIDS:function(n,t){return this.verify(n||"detailid",/^\d{1,18}(?:,\d{1,18})*$/,"331",t)},isChannelID:function(n,t){return this.verify(n||"channelid",/^\d{1,18}$/,"329",t)},isLng:function(n,t){return this.verify(n||"lng",/^\d{1,3}\.\d{6,}$/,"153",t)},isLat:function(n,t){return this.verify(n||"lat",/^\d{1,3}\.\d{6,}$/,"154",t)}}}var page,Cookie,Storage,RssLBS,allowinput,RssClick,RssAudio,RssVideo,RssCode,RssTask,Ajax,RssUser,RssPower,RssWin,RssUpFile,RssCompress,RssDownFile,Url,RssHash,WebAdapter,JsAdapter,RssSpeechToText,i,RssInvoice,RssPay,Calendar,AlertBox,RssApi,RssLive,RssLogin,RssDateTime,RssCart,RssPaging,requestAnimFrame,RssPlayer,RssPopup,popuplayer,RssCity,RssRecord,RssShare,RssDialog,RssWeiXin,RssWxSmall;(function(n,t){"use strict";typeof module=="object"&&typeof module.exports=="object"?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)})(typeof window!="undefined"?window:this,function(n,t){"use strict";function yr(n,t,i){i=i||f;var r,e,u=i.createElement("script");if(u.text=n,t)for(r in te)e=t[r]||t.getAttribute&&t.getAttribute(r),e&&u.setAttribute(r,e);i.head.appendChild(u).parentNode.removeChild(u)}function it(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?ti[ar.call(n)]||"object":typeof n}function ai(n){var t=!!n&&"length"in n&&n.length,i=it(n);return u(n)||tt(n)?!1:i==="array"||t===0||typeof t=="number"&&t>0&&t-1 in n}function l(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()}function yi(n,t,r){return u(t)?i.grep(n,function(n,i){return!!t.call(n,i,n)!==r}):t.nodeType?i.grep(n,function(n){return n===t!==r}):typeof t!="string"?i.grep(n,function(n){return ni.call(t,n)>-1!==r}):i.filter(t,n,r)}function iu(n,t){while((n=n[t])&&n.nodeType!==1);return n}function re(n){var t={};return i.each(n.match(a)||[],function(n,i){t[i]=!0}),t}function ut(n){return n}function ri(n){throw n;}function ru(n,t,i,r){var f;try{n&&u(f=n.promise)?f.call(n).done(t).fail(i):n&&u(f=n.then)?f.call(n,t,i):t.apply(undefined,[n].slice(r))}catch(n){i.apply(undefined,[n])}}function fi(){f.removeEventListener("DOMContentLoaded",fi);n.removeEventListener("load",fi);i.ready()}function ee(n,t){return t.toUpperCase()}function y(n){return n.replace(ue,"ms-").replace(fe,ee)}function yt(){this.expando=i.expando+yt.uid++}function he(n){return n==="true"?!0:n==="false"?!1:n==="null"?null:n===+n+""?+n:oe.test(n)?JSON.parse(n):n}function fu(n,t,i){var r;if(i===undefined&&n.nodeType===1)if(r="data-"+t.replace(se,"-$&").toLowerCase(),i=n.getAttribute(r),typeof i=="string"){try{i=he(i)}catch(u){}o.set(n,t,i)}else i=undefined;return i}function ou(n,t,r,u){var s,h,c=20,l=u?function(){return u.cur()}:function(){return i.css(n,t,"")},o=l(),e=r&&r[3]||(i.cssNumber[t]?"":"px"),f=n.nodeType&&(i.cssNumber[t]||e!=="px"&&+o)&&pt.exec(i.css(n,t));if(f&&f[3]!==e){for(o=o/2,e=e||f[3],f=+o||1;c--;)i.style(n,t,f+e),(1-h)*(1-(h=l()/o||.5))<=0&&(c=0),f=f/h;f=f*2;i.style(n,t,f+e);r=r||[]}return r&&(f=+f||+o||0,s=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=e,u.start=f,u.end=s)),s}function le(n){var r,f=n.ownerDocument,u=n.nodeName,t=wi[u];return t?t:(r=f.body.appendChild(f.createElement(u)),t=i.css(r,"display"),r.parentNode.removeChild(r),t==="none"&&(t="block"),wi[u]=t,t)}function et(n,t){for(var e,u,f=[],i=0,o=n.length;i<o;i++)(u=n[i],u.style)&&(e=u.style.display,t?(e==="none"&&(f[i]=r.get(u,"display")||null,f[i]||(u.style.display="")),u.style.display===""&&bt(u)&&(f[i]=le(u))):e!=="none"&&(f[i]="none",r.set(u,"display",e)));for(i=0;i<o;i++)f[i]!=null&&(n[i].style.display=f[i]);return n}function s(n,t){var r;return(r=typeof n.getElementsByTagName!="undefined"?n.getElementsByTagName(t||"*"):typeof n.querySelectorAll!="undefined"?n.querySelectorAll(t||"*"):[],t===undefined||t&&l(n,t))?i.merge([n],r):r}function bi(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function lu(n,t,r,u,f){for(var e,o,p,a,w,v,h=t.createDocumentFragment(),y=[],l=0,b=n.length;l<b;l++)if(e=n[l],e||e===0)if(it(e)==="object")i.merge(y,e.nodeType?[e]:e);else if(cu.test(e)){for(o=o||h.appendChild(t.createElement("div")),p=(su.exec(e)||["",""])[1].toLowerCase(),a=c[p]||c._default,o.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)o=o.lastChild;i.merge(y,o.childNodes);o=h.firstChild;o.textContent=""}else y.push(t.createTextNode(e));for(h.textContent="",l=0;e=y[l++];){if(u&&i.inArray(e,u)>-1){f&&f.push(e);continue}if(w=ft(e),o=s(h.appendChild(e),"script"),w&&bi(o),r)for(v=0;e=o[v++];)hu.test(e.type||"")&&r.push(e)}return h}function ot(){return!0}function st(){return!1}function ye(n,t){return n===pe()==(t==="focus")}function pe(){try{return f.activeElement}catch(n){}}function ki(n,t,r,u,f,e){var o,s;if(typeof t=="object"){typeof r!="string"&&(u=u||r,r=undefined);for(s in t)ki(n,s,r,u,t[s],e);return n}if(u==null&&f==null?(f=r,u=r=undefined):f==null&&(typeof r=="string"?(f=u,u=undefined):(f=u,u=r,r=undefined)),f===!1)f=st;else if(!f)return n;return e===1&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function ei(n,t,u){if(!u){r.get(n,t)===undefined&&i.event.add(n,t,ot);return}r.set(n,t,!1);i.event.add(n,t,{namespace:!1,handler:function(n){var o,e,f=r.get(this,t);if(n.isTrigger&1&&this[t]){if(f.length)(i.event.special[t]||{}).delegateType&&n.stopPropagation();else if(f=b.call(arguments),r.set(this,t,f),o=u(this,t),this[t](),e=r.get(this,t),f!==e||o?r.set(this,t,!1):e={},f!==e)return n.stopImmediatePropagation(),n.preventDefault(),e.value}else f.length&&(r.set(this,t,{value:i.event.trigger(i.extend(f[0],i.Event.prototype),f.slice(1),this)}),n.stopImmediatePropagation())}})}function vu(n,t){return l(n,"table")&&l(t.nodeType!==11?t:t.firstChild,"tr")?i(n).children("tbody")[0]||n:n}function ge(n){if(n.type)return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function no(n){return(n.type||"").slice(0,5)==="true/"?n.type=n.type.slice(5):n.removeAttribute("type"),n}function yu(n,t){var f,c,e,s,h,l,a,u;if(t.nodeType===1){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),u=s.events,u)){delete h.handle;h.events={};for(e in u)for(f=0,c=u[e].length;f<c;f++)i.event.add(t,e,u[e][f])}o.hasData(n)&&(l=o.access(n),a=i.extend({},l),o.set(t,a))}}function to(n,t){var i=t.nodeName.toLowerCase();i==="input"&&kt.test(n.type)?t.checked=n.checked:(i==="input"||i==="textarea")&&(t.defaultValue=n.defaultValue)}function ht(n,t,f,o){t=lr.apply([],t);var a,w,l,v,h,b,c=0,y=n.length,d=y-1,p=t[0],k=u(p);if(k||y>1&&typeof p=="string"&&!e.checkClone&&ke.test(p))return n.each(function(i){var r=n.eq(i);k&&(t[0]=p.call(this,i,r.html()));ht(r,t,f,o)});if(y&&(a=lu(t,n[0].ownerDocument,!1,n,o),w=a.firstChild,a.childNodes.length===1&&(a=w),w||o)){for(l=i.map(s(a,"script"),ge),v=l.length;c<y;c++)h=a,c!==d&&(h=i.clone(h,!0,!0),v&&i.merge(l,s(h,"script"))),f.call(n[c],h,c);if(v)for(b=l[l.length-1].ownerDocument,i.map(l,no),c=0;c<v;c++)h=l[c],hu.test(h.type||"")&&!r.access(h,"globalEval")&&i.contains(b,h)&&(h.src&&(h.type||"").toLowerCase()!=="module"?i._evalUrl&&!h.noModule&&i._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")}):yr(h.textContent.replace(de,""),h,b))}return n}function pu(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;(u=e[f])!=null;f++)r||u.nodeType!==1||i.cleanData(s(u)),u.parentNode&&(r&&ft(u)&&bi(s(u,"script")),u.parentNode.removeChild(u));return n}function dt(n,t,r){var o,s,h,u,f=n.style;return r=r||oi(n),r&&(u=r.getPropertyValue(t)||r[t],u!==""||ft(n)||(u=i.style(n,t)),!e.pixelBoxStyles()&&di.test(u)&&io.test(t)&&(o=f.width,s=f.minWidth,h=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=o,f.minWidth=s,f.maxWidth=h)),u!==undefined?u+"":u}function wu(n,t){return{get:function(){if(n()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function ro(n){for(var i=n[0].toUpperCase()+n.slice(1),t=bu.length;t--;)if(n=bu[t]+i,n in ku)return n}function gi(n){var t=i.cssProps[n]||du[n];return t?t:n in ku?n:du[n]=ro(n)||n}function tf(n,t,i){var r=pt.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function nr(n,t,r,u,f,e){var o=t==="width"?1:0,h=0,s=0;if(r===(u?"border":"content"))return 0;for(;o<4;o+=2)r==="margin"&&(s+=i.css(n,r+w[o],!0,f)),u?(r==="content"&&(s-=i.css(n,"padding"+w[o],!0,f)),r!=="margin"&&(s-=i.css(n,"border"+w[o]+"Width",!0,f))):(s+=i.css(n,"padding"+w[o],!0,f),r!=="padding"?s+=i.css(n,"border"+w[o]+"Width",!0,f):h+=i.css(n,"border"+w[o]+"Width",!0,f));return!u&&e>=0&&(s+=Math.max(0,Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-e-s-h-.5))||0),s}function rf(n,t,r){var f=oi(n),c=!e.boxSizingReliable()||r,o=c&&i.css(n,"boxSizing",!1,f)==="border-box",s=o,u=dt(n,t,f),h="offset"+t[0].toUpperCase()+t.slice(1);if(di.test(u)){if(!r)return u;u="auto"}return(!e.boxSizingReliable()&&o||u==="auto"||!parseFloat(u)&&i.css(n,"display",!1,f)==="inline")&&n.getClientRects().length&&(o=i.css(n,"boxSizing",!1,f)==="border-box",s=h in n,s&&(u=n[h])),u=parseFloat(u)||0,u+nr(n,t,r||(o?"border":"content"),s,f,u)+"px"}function h(n,t,i,r,u){return new h.prototype.init(n,t,i,r,u)}function tr(){si&&(f.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(tr):n.setTimeout(tr,i.fx.interval),i.fx.tick())}function ef(){return n.setTimeout(function(){ct=undefined}),ct=Date.now()}function hi(n,t){var r,u=0,i={height:n};for(t=t?1:0;u<4;u+=2-t)r=w[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function of(n,t,i){for(var u,f=(v.tweeners[t]||[]).concat(v.tweeners["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function eo(n,t,u){var f,y,w,c,b,s,o,l,k="width"in t||"height"in t,v=this,p={},h=n.style,a=n.nodeType&&bt(n),e=r.get(n,"fxshow");u.queue||(c=i._queueHooks(n,"fx"),c.unqueued==null&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always(function(){v.always(function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()})}));for(f in t)if(y=t[f],uf.test(y)){if(delete t[f],w=w||y==="toggle",y===(a?"hide":"show"))if(y==="show"&&e&&e[f]!==undefined)a=!0;else continue;p[f]=e&&e[f]||i.style(n,f)}if(s=!i.isEmptyObject(t),s||!i.isEmptyObject(p)){k&&n.nodeType===1&&(u.overflow=[h.overflow,h.overflowX,h.overflowY],o=e&&e.display,o==null&&(o=r.get(n,"display")),l=i.css(n,"display"),l==="none"&&(o?l=o:(et([n],!0),o=n.style.display||o,l=i.css(n,"display"),et([n]))),(l==="inline"||l==="inline-block"&&o!=null)&&i.css(n,"float")==="none"&&(s||(v.done(function(){h.display=o}),o==null&&(l=h.display,o=l==="none"?"":l)),h.display="inline-block"));u.overflow&&(h.overflow="hidden",v.always(function(){h.overflow=u.overflow[0];h.overflowX=u.overflow[1];h.overflowY=u.overflow[2]}));s=!1;for(f in p)s||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&et([n],!0),v.done(function(){a||et([n]);r.remove(n,"fxshow");for(f in p)i.style(n,f,p[f])})),s=of(a?e[f]:0,f,v),f in e||(e[f]=s.start,a&&(s.end=s.start,s.start=0))}}function oo(n,t){var r,f,e,u,o;for(r in n)if(f=y(r),e=t[f],u=n[r],Array.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function v(n,t,r){var o,s,h=0,a=v.prefilters.length,e=i.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var o=ct||ef(),t=Math.max(0,f.startTime+f.duration-o),h=t/f.duration||0,i=1-h,r=0,u=f.tweens.length;r<u;r++)f.tweens[r].run(i);return(e.notifyWith(n,[f,i,t]),i<1&&u)?t:(u||e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f]),!1)},f=e.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:ct||ef(),duration:r.duration,tweens:[],createTween:function(t,r){var u=i.Tween(n,f.opts,t,r,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(u),u},stop:function(t){var i=0,r=t?f.tweens.length:0;if(s)return this;for(s=!0;i<r;i++)f.tweens[i].run(1);return t?(e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f,t])):e.rejectWith(n,[f,t]),this}}),c=f.props;for(oo(c,f.opts.specialEasing);h<a;h++)if(o=v.prefilters[h].call(f,n,c,f.opts),o)return u(o.stop)&&(i._queueHooks(f.elem,f.opts.queue).stop=o.stop.bind(o)),o;return i.map(c,of,f),u(f.opts.start)&&f.opts.start.call(n,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),i.fx.timer(i.extend(l,{elem:n,anim:f,queue:f.opts.queue})),f}function g(n){var t=n.match(a)||[];return t.join(" ")}function nt(n){return n.getAttribute&&n.getAttribute("class")||""}function ir(n){return Array.isArray(n)?n:typeof n=="string"?n.match(a)||[]:[]}function er(n,t,r,u){var f;if(Array.isArray(t))i.each(t,function(t,i){r||so.test(n)?u(n,i):er(n+"["+(typeof i=="object"&&i!=null?t:"")+"]",i,r,u)});else if(r||it(t)!=="object")u(n,t);else for(f in t)er(n+"["+f+"]",t[f],r,u)}function pf(n){return function(t,i){typeof t!="string"&&(i=t,t="*");var r,f=0,e=t.toLowerCase().match(a)||[];if(u(i))while(r=e[f++])r[0]==="+"?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(i)):(n[r]=n[r]||[]).push(i)}}function wf(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1}),h}var f={},o=n===or;return e(t.dataTypes[0])||!f["*"]&&e("*")}function hr(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function bo(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;r[0]==="*";)r.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function ko(n,t,i,r){var c,u,f,s,e,o={},h=n.dataTypes.slice();if(h[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(h[1]==="json"&&(t=t.replace(/[\r\n]/img,"")),u=h.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=h.shift(),u)if(u==="*")u=e;else if(e!=="*"&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(c in o)if(s=c.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]],f)){f===!0?f=o[c]:o[c]!==!0&&(u=s[0],h.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}var d=[],f=n.document,gf=Object.getPrototypeOf,b=d.slice,lr=d.concat,li=d.push,ni=d.indexOf,ti={},ar=ti.toString,ii=ti.hasOwnProperty,vr=ii.toString,ne=vr.call(Object),e={},u=function(n){return typeof n=="function"&&typeof n.nodeType!="number"},tt=function(n){return n!=null&&n===n.window},te={type:!0,src:!0,nonce:!0,noModule:!0},pr="3.4.1",i=function(n,t){return new i.fn.init(n,t)},ie=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,k,vi,kr,dr,gr,nu,tu,a,uu,ui,vt,bt,pi,wi,cu,ct,si,uf,ff,sf,lt,hf,cf,lf,rr,ur,bf,at,cr,ci,kf,df;i.fn=i.prototype={jquery:pr,constructor:i,length:0,toArray:function(){return b.call(this)},get:function(n){return n==null?b.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(b.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:li,sort:d.sort,splice:d.splice};i.extend=i.fn.extend=function(){var s,f,e,t,o,c,n=arguments[0]||{},r=1,l=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[r]||{},r++),typeof n=="object"||u(n)||(n={}),r===l&&(n=this,r--);r<l;r++)if((s=arguments[r])!=null)for(f in s)(t=s[f],f!=="__proto__"&&n!==t)&&(h&&t&&(i.isPlainObject(t)||(o=Array.isArray(t)))?(e=n[f],c=o&&!Array.isArray(e)?[]:o||i.isPlainObject(e)?e:{},o=!1,n[f]=i.extend(h,c,t)):t!==undefined&&(n[f]=t));return n};i.extend({expando:"jQuery"+(pr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isPlainObject:function(n){var t,i;return!n||ar.call(n)!=="[object Object]"?!1:(t=gf(n),!t)?!0:(i=ii.call(t,"constructor")&&t.constructor,typeof i=="function"&&vr.call(i)===ne)},isEmptyObject:function(n){for(var t in n)return!1;return!0},globalEval:function(n,t){yr(n,{nonce:t&&t.nonce})},each:function(n,t){var r,i=0;if(ai(n)){for(r=n.length;i<r;i++)if(t.call(n[i],i,n[i])===!1)break}else for(i in n)if(t.call(n[i],i,n[i])===!1)break;return n},trim:function(n){return n==null?"":(n+"").replace(ie,"")},makeArray:function(n,t){var r=t||[];return n!=null&&(ai(Object(n))?i.merge(r,typeof n=="string"?[n]:n):li.call(r,n)),r},inArray:function(n,t,i){return t==null?-1:ni.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var e,u,r=0,f=[];if(ai(n))for(e=n.length;r<e;r++)u=t(n[r],r,i),u!=null&&f.push(u);else for(r in n)u=t(n[r],r,i),u!=null&&f.push(u);return lr.apply([],f)},guid:1,support:e});typeof Symbol=="function"&&(i.fn[Symbol.iterator]=d[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){ti["[object "+t+"]"]=t.toLowerCase()});k=function(n){function u(n,t,r,u){var s,w,l,v,d,y,g,p=t&&t.ownerDocument,a=t?t.nodeType:9;if(r=r||[],typeof n!="string"||!n||a!==1&&a!==9&&a!==11)return r;if(!u&&((t?t.ownerDocument||t:c)!==i&&b(t),t=t||i,h)){if(a!==11&&(d=ar.exec(n)))if(s=d[1]){if(a===9)if(l=t.getElementById(s)){if(l.id===s)return r.push(l),r}else return r;else if(p&&(l=p.getElementById(s))&&et(t,l)&&l.id===s)return r.push(l),r}else{if(d[2])return k.apply(r,t.getElementsByTagName(n)),r;if((s=d[3])&&e.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(s)),r}if(e.qsa&&!lt[n+" "]&&(!o||!o.test(n))&&(a!==1||t.nodeName.toLowerCase()!=="object")){if(g=n,p=t,a===1&&er.test(n)){for((v=t.getAttribute("id"))?v=v.replace(yi,pi):t.setAttribute("id",v=f),y=ft(n),w=y.length;w--;)y[w]="#"+v+" "+pt(y[w]);g=y.join(",");p=ti.test(n)&&ri(t.parentNode)||t}try{return k.apply(r,p.querySelectorAll(g)),r}catch(nt){lt(n,!0)}finally{v===f&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function yt(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function l(n){return n[f]=!0,n}function a(n){var t=i.createElement("fieldset");try{return!!n(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ii(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function bi(n,t){var i=t&&n,r=i&&n.nodeType===1&&t.nodeType===1&&n.sourceIndex-t.sourceIndex;if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function yr(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function pr(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function ki(n){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===n:t.disabled===n:t.isDisabled===n||t.isDisabled!==!n&&vr(t)===n:t.disabled===n:"label"in t?t.disabled===n:!1}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ri(n){return n&&typeof n.getElementsByTagName!="undefined"&&n}function di(){}function pt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function wt(n,t,i){var r=t.dir,u=t.next,e=u||r,o=i&&e==="parentNode",s=gi++;return t.first?function(t,i,u){while(t=t[r])if(t.nodeType===1||o)return n(t,i,u);return!1}:function(t,i,h){var c,l,a,y=[v,s];if(h){while(t=t[r])if((t.nodeType===1||o)&&n(t,i,h))return!0}else while(t=t[r])if(t.nodeType===1||o)if(a=t[f]||(t[f]={}),l=a[t.uniqueID]||(a[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[e])&&c[0]===v&&c[1]===s)return y[2]=c[2];if(l[e]=y,y[2]=n(t,i,h))return!0}return!1}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function wr(n,t,i){for(var r=0,f=t.length;r<f;r++)u(n,t[r],i);return i}function bt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||wr(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?bt(b,p,n,o,s):b,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=bt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=bt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):k.apply(e,h)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=wt(function(n){return n===o},c,!0),a=wt(function(n){return nt(o,n)>-1},c,!0),e=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])e=[wt(ui(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(e),i>1&&pt(n.slice(0,i-1).concat({value:n[i-2].type===" "?"*":""})).replace(at,"$1"),u,i<r&&ei(n.slice(i,r)),r<s&&ei(n=n.slice(r)),r<s&&pt(n))}e.push(u)}return ui(e)}function br(n,r){var f=r.length>0,e=n.length>0,o=function(o,s,c,l,a){var y,nt,d,g=0,p="0",tt=o&&[],w=[],it=ht,rt=o||e&&t.find.TAG("*",a),ut=v+=it==null?1:Math.random()||.1,ft=rt.length;for(a&&(ht=s===i||s||a);p!==ft&&(y=rt[p])!=null;p++){if(e&&y){for(nt=0,s||y.ownerDocument===i||(b(y),c=!h);d=n[nt++];)if(d(y,s||i,c)){l.push(y);break}a&&(v=ut)}f&&((y=!d&&y)&&g--,o&&tt.push(y))}if(g+=p,f&&p!==g){for(nt=0;d=r[nt++];)d(tt,w,s,c);if(o){if(g>0)while(p--)tt[p]||w[p]||(w[p]=tr.call(l));w=bt(w)}k.apply(l,w);a&&!o&&w.length>0&&g+r.length>1&&u.uniqueSort(l)}return a&&(v=ut,ht=it),tt};return f?l(o):o}var rt,e,t,st,oi,ft,kt,si,ht,w,ut,b,i,s,h,o,d,ct,et,f="sizzle"+1*new Date,c=n.document,v=0,gi=0,hi=yt(),ci=yt(),li=yt(),lt=yt(),dt=function(n,t){return n===t&&(ut=!0),0},nr={}.hasOwnProperty,g=[],tr=g.pop,ir=g.push,k=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},gt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",vi="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",ni=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+vi+")*)|.*)\\)|)",rr=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),ur=new RegExp("^"+r+"*,"+r+"*"),fr=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),er=new RegExp(r+"|>"),or=new RegExp(ni),sr=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+vi),PSEUDO:new RegExp("^"+ni),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+gt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},hr=/HTML$/i,cr=/^(?:input|select|textarea|button)$/i,lr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,ar=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ti=/[+~]/,y=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},yi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,pi=function(n,t){return t?n==="\0"?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},wi=function(){b()},vr=wt(function(n){return n.disabled===!0&&n.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{k.apply(g=ai.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(kr){k={apply:g.length?function(n,t){ir.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}e=u.support={};oi=u.isXML=function(n){var i=n.namespaceURI,t=(n.ownerDocument||n).documentElement;return!hr.test(i||t&&t.nodeName||"HTML")};b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l===i||l.nodeType!==9||!l.documentElement?i:(i=l,s=i.documentElement,h=!oi(i),c!==i&&(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",wi,!1):u.attachEvent&&u.attachEvent("onunload",wi)),e.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),e.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),e.getElementsByClassName=ot.test(i.getElementsByClassName),e.getById=a(function(n){return s.appendChild(n).id=f,!i.getElementsByName||!i.getElementsByName(f).length}),e.getById?(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}},t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&h){var i=t.getElementById(n);return i?[i]:[]}}):(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&h){var i,u,f,r=t.getElementById(n);if(r){if(i=r.getAttributeNode("id"),i&&i.value===n)return[r];for(f=t.getElementsByName(n),u=0;r=f[u++];)if(i=r.getAttributeNode("id"),i&&i.value===n)return[r]}return[]}}),t.find.TAG=e.getElementsByTagName?function(n,t){return typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName(n):e.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},t.find.CLASS=e.getElementsByClassName&&function(n,t){if(typeof t.getElementsByClassName!="undefined"&&h)return t.getElementsByClassName(n)},d=[],o=[],(e.qsa=ot.test(i.querySelectorAll))&&(a(function(n){s.appendChild(n).innerHTML="<a id='"+f+"'><\/a><select id='"+f+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+gt+")");n.querySelectorAll("[id~="+f+"-]").length||o.push("~=");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+f+"+*").length||o.push(".#.+[+~]")}),a(function(n){n.innerHTML="<a href='' disabled='disabled'><\/a><select disabled='disabled'><option/><\/select>";var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length!==2&&o.push(":enabled",":disabled");s.appendChild(n).disabled=!0;n.querySelectorAll(":disabled").length!==2&&o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(e.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){e.disconnectedMatch=ct.call(n,"*");ct.call(n,"[s!='']:x");d.push("!=",ni)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},dt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,r&1||!e.sortDetached&&t.compareDocumentPosition(n)===r)?n===i||n.ownerDocument===c&&et(c,n)?-1:t===i||t.ownerDocument===c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:r&4?-1:1}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(o&&s){if(o===s)return bi(n,t)}else return n===i?-1:t===i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?bi(f[u],e[u]):f[u]===c?-1:e[u]===c?1:0},i)};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==i&&b(n),e.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||e.disconnectedMatch||n.document&&n.document.nodeType!==11)return r}catch(f){lt(t,!0)}return u(t,i,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==i&&b(n),et(n,t)};u.attr=function(n,r){(n.ownerDocument||n)!==i&&b(n);var f=t.attrHandle[r.toLowerCase()],u=f&&nr.call(t.attrHandle,r.toLowerCase())?f(n,r,!h):undefined;return u!==undefined?u:e.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null};u.escape=function(n){return(n+"").replace(yi,pi)};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!e.detectDuplicates,w=!e.sortStable&&n.slice(0),n.sort(dt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(t===3||t===4)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&or.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return n==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!="undefined"&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.slice(-i.length)===i:t==="~="?(" "+f.replace(rr," ")+" ").indexOf(i)>-1:t==="|="?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",o=n.slice(-4)!=="last",e=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var p,w,y,c,a,b,k=s!==o?"nextSibling":"previousSibling",d=t.parentNode,nt=e&&t.nodeName.toLowerCase(),g=!h&&!e,l=!1;if(d){if(s){while(k){for(c=t;c=c[k];)if(e?c.nodeName.toLowerCase()===nt:c.nodeType===1)return!1;b=k=n==="only"&&!b&&"nextSibling"}return!0}if(b=[o?d.firstChild:d.lastChild],o&&g){for(c=d,y=c[f]||(c[f]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a&&p[2],c=a&&d.childNodes[a];c=++a&&c&&c[k]||(l=a=0)||b.pop();)if(c.nodeType===1&&++l&&c===t){w[n]=[v,a,l];break}}else if(g&&(c=t,y=c[f]||(c[f]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a),l===!1)while(c=++a&&c&&c[k]||(l=a=0)||b.pop())if((e?c.nodeName.toLowerCase()===nt:c.nodeType===1)&&++l&&(g&&(y=c[f]||(c[f]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),w[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[f]?r(i):r.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var u,f=r(n,i),e=f.length;e--;)u=nt(n,f[e]),n[u]=!(t[u]=f[e])}):function(n){return r(n,0,e)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=kt(n.replace(at,"$1"));return i[f]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return n=n.replace(y,p),function(t){return(t.textContent||st(t)).indexOf(n)>-1}}),lang:l(function(n){return sr.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:ki(!1),disabled:ki(!0),checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return lr.test(n.nodeName)},input:function(n){return cr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()==="text")},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[i<0?i+t:i]}),even:it(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=i<0?i+t:i>t?t:i;--r>=0;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=yr(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=pr(rt);return di.prototype=t.filters=t.pseudos,t.setFilters=new di,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=ur.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=fr.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length));for(o in t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},kt=u.compile=function(n,t){var r,u=[],e=[],i=li[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=ei(t[r]),i[f]?u.push(i):e.push(i);i=li(n,br(e,u));i.selector=n}return i},si=u.select=function(n,i,r,u){var o,f,e,l,a,c=typeof n=="function"&&n,s=!u&&ft(n=c.selector||n);if(r=r||[],s.length===1){if(f=s[0]=s[0].slice(0),f.length>2&&(e=f[0]).type==="ID"&&i.nodeType===9&&h&&t.relative[f[1].type]){if(i=(t.find.ID(e.matches[0].replace(y,p),i)||[])[0],i)c&&(i=i.parentNode);else return r;n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],t.relative[l=e.type])break;if((a=t.find[l])&&(u=a(e.matches[0].replace(y,p),ti.test(f[0].type)&&ri(i.parentNode)||i))){if(f.splice(o,1),n=u.length&&pt(f),!n)return k.apply(r,u),r;break}}}return(c||kt(n,s))(u,i,!h,r,!i||ti.test(n)&&ri(i.parentNode)||i),r},e.sortStable=f.split("").sort(dt).join("")===f,e.detectDuplicates=!!ut,b(),e.sortDetached=a(function(n){return n.compareDocumentPosition(i.createElement("fieldset"))&1}),a(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild.getAttribute("href")==="#"})||ii("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,t.toLowerCase()==="type"?1:2)}),e.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),n.firstChild.getAttribute("value")===""})||ii("value",function(n,t,i){if(!i&&n.nodeName.toLowerCase()==="input")return n.defaultValue}),a(function(n){return n.getAttribute("disabled")==null})||ii(gt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=k;i.expr=k.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=k.uniqueSort;i.text=k.getText;i.isXMLDoc=k.isXML;i.contains=k.contains;i.escapeSelector=k.escape;var rt=function(n,t,r){for(var u=[],f=r!==undefined;(n=n[t])&&n.nodeType!==9;)if(n.nodeType===1){if(f&&i(n).is(r))break;u.push(n)}return u},wr=function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i},br=i.expr.match.needsContext;vi=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;i.filter=function(n,t,r){var u=t[0];return(r&&(n=":not("+n+")"),t.length===1&&u.nodeType===1)?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return n.nodeType===1}))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if(typeof n!="string")return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(r=this.pushStack([]),t=0;t<u;t++)i.find(n,f[t],r);return u>1?i.uniqueSort(r):r},filter:function(n){return this.pushStack(yi(this,n||[],!1))},not:function(n){return this.pushStack(yi(this,n||[],!0))},is:function(n){return!!yi(this,typeof n=="string"&&br.test(n)?i(n):n||[],!1).length}});dr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;gr=i.fn.init=function(n,t,r){var e,o;if(!n)return this;if(r=r||kr,typeof n=="string"){if(e=n[0]==="<"&&n[n.length-1]===">"&&n.length>=3?[null,n,null]:dr.exec(n),e&&(e[1]||!t)){if(e[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(e[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),vi.test(e[1])&&i.isPlainObject(t))for(e in t)u(this[e])?this[e](t[e]):this.attr(e,t[e]);return this}return o=f.getElementById(e[2]),o&&(this[0]=o,this.length=1),this}return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n)}return n.nodeType?(this[0]=n,this.length=1,this):u(n)?r.ready!==undefined?r.ready(n):n(i):i.makeArray(n,this)};gr.prototype=i.fn;kr=i(f);nu=/^(?:parents|prev(?:Until|All))/;tu={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){var r,f=0,o=this.length,u=[],e=typeof n!="string"&&i(n);if(!br.test(n))for(;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:r.nodeType===1&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?typeof n=="string"?ni.call(i(n),this[0]):ni.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return rt(n,"parentNode")},parentsUntil:function(n,t,i){return rt(n,"parentNode",i)},next:function(n){return iu(n,"nextSibling")},prev:function(n){return iu(n,"previousSibling")},nextAll:function(n){return rt(n,"nextSibling")},prevAll:function(n){return rt(n,"previousSibling")},nextUntil:function(n,t,i){return rt(n,"nextSibling",i)},prevUntil:function(n,t,i){return rt(n,"previousSibling",i)},siblings:function(n){return wr((n.parentNode||{}).firstChild,n)},children:function(n){return wr(n.firstChild)},contents:function(n){return typeof n.contentDocument!="undefined"?n.contentDocument:(l(n,"template")&&(n=n.content||n),i.merge([],n.childNodes))}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return n.slice(-5)!=="Until"&&(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),this.length>1&&(tu[n]||i.uniqueSort(f),nu.test(n)&&f.reverse()),this.pushStack(f)}});a=/[^\x20\t\r\n\f]+/g;i.Callbacks=function(n){n=typeof n=="string"?re(n):i.extend({},n);var o,r,c,f,t=[],s=[],e=-1,l=function(){for(f=f||n.once,c=o=!0;s.length;e=-1)for(r=s.shift();++e<t.length;)t[e].apply(r[0],r[1])===!1&&n.stopOnFalse&&(e=t.length,r=!1);n.memory||(r=!1);o=!1;f&&(t=r?[]:"")},h={add:function(){return t&&(r&&!o&&(e=t.length-1,s.push(r)),function f(r){i.each(r,function(i,r){u(r)?n.unique&&h.has(r)||t.push(r):r&&r.length&&it(r)!=="string"&&f(r)})}(arguments),r&&!o&&l()),this},remove:function(){return i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),u<=e&&e--}),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return f=s=[],t=r="",this},disabled:function(){return!t},lock:function(){return f=s=[],r||o||(t=r=""),this},locked:function(){return!!f},fireWith:function(n,t){return f||(t=t||[],t=[n,t.slice?t.slice():t],s.push(t),o||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(t){var f=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],o="pending",e={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return e.then(null,n)},pipe:function(){var n=arguments;return i.Deferred(function(t){i.each(f,function(i,f){var e=u(n[f[4]])&&n[f[4]];r[f[1]](function(){var n=e&&e.apply(this,arguments);n&&u(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[f[0]+"With"](this,e?[n]:arguments)})});n=null}).promise()},then:function(t,r,e){function s(t,r,f,e){return function(){var h=this,c=arguments,a=function(){var n,i;if(!(t<o)){if(n=f.apply(h,c),n===r.promise())throw new TypeError("Thenable self-resolution");i=n&&(typeof n=="object"||typeof n=="function")&&n.then;u(i)?e?i.call(n,s(o,r,ut,e),s(o,r,ri,e)):(o++,i.call(n,s(o,r,ut,e),s(o,r,ri,e),s(o,r,ut,r.notifyWith))):(f!==ut&&(h=undefined,c=[n]),(e||r.resolveWith)(h,c))}},l=e?a:function(){try{a()}catch(n){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(n,l.stackTrace);t+1>=o&&(f!==ri&&(h=undefined,c=[n]),r.rejectWith(h,c))}};t?l():(i.Deferred.getStackHook&&(l.stackTrace=i.Deferred.getStackHook()),n.setTimeout(l))}}var o=0;return i.Deferred(function(n){f[0][3].add(s(0,n,u(e)?e:ut,n.notifyWith));f[1][3].add(s(0,n,u(t)?t:ut));f[2][3].add(s(0,n,u(r)?r:ri))}).promise()},promise:function(n){return n!=null?i.extend(n,e):e}},r={};return i.each(f,function(n,t){var i=t[2],u=t[5];e[t[1]]=i.add;u&&i.add(function(){o=u},f[3-n][2].disable,f[3-n][3].disable,f[0][2].lock,f[0][3].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?undefined:this,arguments),this};r[t[0]+"With"]=i.fireWith}),e.promise(r),t&&t.call(r,r),r},when:function(n){var e=arguments.length,t=e,o=Array(t),f=b.call(arguments),r=i.Deferred(),s=function(n){return function(t){o[n]=this;f[n]=arguments.length>1?b.call(arguments):t;--e||r.resolveWith(o,f)}};if(e<=1&&(ru(n,r.done(s(t)).resolve,r.reject,!e),r.state()==="pending"||u(f[t]&&f[t].then)))return r.then();while(t--)ru(f[t],s(t),r.reject);return r.promise()}});uu=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&uu.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};i.readyException=function(t){n.setTimeout(function(){throw t;})};ui=i.Deferred();i.fn.ready=function(n){return ui.then(n).catch(function(n){i.readyException(n)}),this};i.extend({isReady:!1,readyWait:1,ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0)||ui.resolveWith(f,[i])}});i.ready.then=ui.then;f.readyState!=="complete"&&(f.readyState==="loading"||f.documentElement.doScroll)?(f.addEventListener("DOMContentLoaded",fi),n.addEventListener("load",fi)):n.setTimeout(i.ready);var p=function(n,t,r,f,e,o,s){var h=0,l=n.length,c=r==null;if(it(r)==="object"){e=!0;for(h in r)p(n,t,h,r[h],!0,o,s)}else if(f!==undefined&&(e=!0,u(f)||(s=!0),c&&(s?(t.call(n,f),t=null):(c=t,t=function(n,t,r){return c.call(i(n),r)})),t))for(;h<l;h++)t(n[h],r,s?f:f.call(n[h],h,t(n[h],r)));return e?n:c?t.call(n):l?t(n[0],r):o},ue=/^-ms-/,fe=/-([a-z])/g;vt=function(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType};yt.uid=1;yt.prototype={cache:function(n){var t=n[this.expando];return t||(t={},vt(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,i){var r,u=this.cache(n);if(typeof t=="string")u[y(t)]=i;else for(r in t)u[y(r)]=t[r];return u},get:function(n,t){return t===undefined?this.cache(n):n[this.expando]&&n[this.expando][y(t)]},access:function(n,t,i){return t===undefined||t&&typeof t=="string"&&i===undefined?this.get(n,t):(this.set(n,t,i),i!==undefined?i:t)},remove:function(n,t){var u,r=n[this.expando];if(r!==undefined){if(t!==undefined)for(Array.isArray(t)?t=t.map(y):(t=y(t),t=t in r?[t]:t.match(a)||[]),u=t.length;u--;)delete r[t[u]];(t===undefined||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=undefined:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return t!==undefined&&!i.isEmptyObject(t)}};var r=new yt,o=new yt,oe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,se=/[A-Z]/g;i.extend({hasData:function(n){return o.hasData(n)||r.hasData(n)},data:function(n,t,i){return o.access(n,t,i)},removeData:function(n,t){o.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var f,u,e,i=this[0],s=i&&i.attributes;if(n===undefined){if(this.length&&(e=o.get(i),i.nodeType===1&&!r.get(i,"hasDataAttrs"))){for(f=s.length;f--;)s[f]&&(u=s[f].name,u.indexOf("data-")===0&&(u=y(u.slice(5)),fu(i,u,e[u])));r.set(i,"hasDataAttrs",!0)}return e}return typeof n=="object"?this.each(function(){o.set(this,n)}):p(this,function(t){var r;if(i&&t===undefined)return(r=o.get(i,n),r!==undefined)?r:(r=fu(i,n),r!==undefined)?r:void 0;this.each(function(){o.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){o.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||Array.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return(typeof n!="string"&&(t=n,n="fx",r--),arguments.length<r)?i.queue(this[0],n):t===undefined?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);n==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(t=n,n=undefined),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var eu=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pt=new RegExp("^(?:([+-])=|)("+eu+")([a-z%]*)$","i"),w=["Top","Right","Bottom","Left"],wt=f.documentElement,ft=function(n){return i.contains(n.ownerDocument,n)},ce={composed:!0};wt.getRootNode&&(ft=function(n){return i.contains(n.ownerDocument,n)||n.getRootNode(ce)===n.ownerDocument});bt=function(n,t){return n=t||n,n.style.display==="none"||n.style.display===""&&ft(n)&&i.css(n,"display")==="none"};pi=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};wi={};i.fn.extend({show:function(){return et(this,!0)},hide:function(){return et(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){bt(this)?i(this).show():i(this).hide()})}});var kt=/^(?:checkbox|radio)$/i,su=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,hu=/^$|^module$|\/(?:java|ecma)script/i,c={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};c.optgroup=c.option;c.tbody=c.tfoot=c.colgroup=c.caption=c.thead;c.th=c.td;cu=/<|&#?\w+;/,function(){var i=f.createDocumentFragment(),n=i.appendChild(f.createElement("div")),t=f.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);e.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";e.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue}();var ae=/^key/,ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,au=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,b,h,s,c,o,k,d,l=r.get(n);if(l)for(u.handler&&(v=u,u=v.handler,e=v.selector),e&&i.find.matchesSelector(wt,e),u.guid||(u.guid=i.guid++),(p=l.events)||(p=l.events={}),(y=l.handle)||(y=l.handle=function(t){return typeof i!="undefined"&&i.event.triggered!==t.type?i.event.dispatch.apply(n,arguments):undefined}),t=(t||"").match(a)||[""],b=t.length;b--;)(w=au.exec(t[b])||[],o=d=w[1],k=(w[2]||"").split(".").sort(),o)&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:k.join(".")},v),(c=p[o])||(c=p[o]=[],c.delegateCount=0,s.setup&&s.setup.call(n,f,k,y)!==!1||n.addEventListener&&n.addEventListener(o,y)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,h):c.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,h,v,p,s,c,l,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(t=(t||"").match(a)||[""],p=t.length;p--;){if(h=au.exec(t[p])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),!o){for(o in v)i.event.remove(n,o+t[p],u,f,!0);continue}for(c=i.event.special[o]||{},o=(f?c.delegateType:c.bindType)||o,l=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=l.length;y--;)s=l[y],(e||d===s.origType)&&(!u||u.guid===s.guid)&&(!h||h.test(s.namespace))&&(!f||f===s.selector||f==="**"&&s.selector)&&(l.splice(y,1),s.selector&&l.delegateCount--,c.remove&&c.remove.call(n,s));k&&!l.length&&(c.teardown&&c.teardown.call(n,b,w.handle)!==!1||i.removeEvent(n,o,w.handle),delete v[o])}i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){var t=i.event.fix(n),u,c,s,e,f,l,h=new Array(arguments.length),a=(r.get(this,"events")||{})[t.type]||[],o=i.event.special[t.type]||{};for(h[0]=t,u=1;u<arguments.length;u++)h[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||o.preDispatch.call(this,t)!==!1){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||f.namespace===!1||t.rnamespace.test(f.namespace))&&(t.handleObj=f,t.data=f.data,s=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),s!==undefined&&(t.result=s)===!1&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var f,e,u,o,s,c=[],h=t.delegateCount,r=n.target;if(h&&r.nodeType&&!(n.type==="click"&&n.button>=1))for(;r!==this;r=r.parentNode||this)if(r.nodeType===1&&!(n.type==="click"&&r.disabled===!0)){for(o=[],s={},f=0;f<h;f++)e=t[f],u=e.selector+" ",s[u]===undefined&&(s[u]=e.needsContext?i(u,this).index(r)>-1:i.find(u,this,null,[r]).length),s[u]&&o.push(e);o.length&&c.push({elem:r,handlers:o})}return r=this,h<t.length&&c.push({elem:r,handlers:t.slice(h)}),c},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:u(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},click:{setup:function(n){var t=this||n;return kt.test(t.type)&&t.click&&l(t,"input")&&ei(t,"click",ot),!1},trigger:function(n){var t=this||n;return kt.test(t.type)&&t.click&&l(t,"input")&&ei(t,"click"),!0},_default:function(n){var t=n.target;return kt.test(t.type)&&t.click&&l(t,"input")&&r.get(t,"click")||l(t,"a")}},beforeunload:{postDispatch:function(n){n.result!==undefined&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===undefined&&n.returnValue===!1?ot:st,this.target=n.target&&n.target.nodeType===3?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||Date.now();this[i.expando]=!0};i.Event.prototype={constructor:i.Event,isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ot;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ot;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=ot;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(n){var t=n.button;return n.which==null&&ae.test(n.type)?n.charCode!=null?n.charCode:n.keyCode:!n.which&&t!==undefined&&ve.test(n.type)?t&1?1:t&2?3:t&4?2:0:n.which}},i.event.addProp);i.each({focus:"focusin",blur:"focusout"},function(n,t){i.event.special[n]={setup:function(){return ei(this,n,ye),!1},trigger:function(){return ei(this,n),!0},delegateType:t}});i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return ki(this,n,t,i,r)},one:function(n,t,i,r){return ki(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof n=="object"){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||typeof t=="function")&&(r=t,t=undefined),r===!1&&(r=st),this.each(function(){i.event.remove(this,n,r,t)})}});var we=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,be=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n.replace(we,"<$1><\/$2>")},clone:function(n,t,r){var u,c,o,f,h=n.cloneNode(!0),l=ft(n);if(!e.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(f=s(h),o=s(n),u=0,c=o.length;u<c;u++)to(o[u],f[u]);if(t)if(r)for(o=o||s(n),f=f||s(h),u=0,c=o.length;u<c;u++)yu(o[u],f[u]);else yu(n,h);return f=s(h,"script"),f.length>0&&bi(f,!l&&s(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,e=0;(t=n[e])!==undefined;e++)if(vt(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=undefined}t[o.expando]&&(t[o.expando]=undefined)}}});i.fn.extend({detach:function(n){return pu(this,n,!0)},remove:function(n){return pu(this,n)},text:function(n){return p(this,function(n){return n===undefined?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,n,arguments.length)},append:function(){return ht(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vu(this,n);t.appendChild(n)}})},prepend:function(){return ht(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return ht(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return ht(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)n.nodeType===1&&(i.cleanData(s(n,!1)),n.textContent="");return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return p(this,function(n){var t=this[0]||{},r=0,u=this.length;if(n===undefined&&t.nodeType===1)return t.innerHTML;if(typeof n=="string"&&!be.test(n)&&!c[(su.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;r<u;r++)t=this[r]||{},t.nodeType===1&&(i.cleanData(s(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return ht(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(s(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),li.apply(f,u.get());return this.pushStack(f)}});var di=new RegExp("^("+eu+")(?!px)[a-z%]+$","i"),oi=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},io=new RegExp(w.join("|"),"i");(function(){function r(){if(t){o.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";wt.appendChild(o).appendChild(t);var i=n.getComputedStyle(t);s=i.top!=="1%";a=u(i.marginLeft)===12;t.style.right="60%";l=u(i.right)===36;h=u(i.width)===36;t.style.position="absolute";c=u(t.offsetWidth/3)===12;wt.removeChild(o);t=null}}function u(n){return Math.round(parseFloat(n))}var s,h,c,l,a,o=f.createElement("div"),t=f.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle=t.style.backgroundClip==="content-box",i.extend(e,{boxSizingReliable:function(){return r(),h},pixelBoxStyles:function(){return r(),l},pixelPosition:function(){return r(),s},reliableMarginLeft:function(){return r(),a},scrollboxSize:function(){return r(),c}}))})();var bu=["Webkit","Moz","ms"],ku=f.createElement("div").style,du={};var uo=/^(none|table(?!-c[ea]).+)/,gu=/^--/,fo={position:"absolute",visibility:"hidden",display:"block"},nf={letterSpacing:"0",fontWeight:"400"};i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=dt(n,"opacity");return i===""?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,t,r,u){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var f,s,o,c=y(t),l=gu.test(t),h=n.style;if(l||(t=gi(c)),o=i.cssHooks[t]||i.cssHooks[c],r!==undefined){if(s=typeof r,s==="string"&&(f=pt.exec(r))&&f[1]&&(r=ou(n,t,f),s="number"),r==null||r!==r)return;s!=="number"||l||(r+=f&&f[3]||(i.cssNumber[c]?"":"px"));e.clearCloneStyle||r!==""||t.indexOf("background")!==0||(h[t]="inherit");o&&"set"in o&&(r=o.set(n,r,u))===undefined||(l?h.setProperty(t,r):h[t]=r)}else return o&&"get"in o&&(f=o.get(n,!1,u))!==undefined?f:h[t]}},css:function(n,t,r,u){var f,o,e,s=y(t),h=gu.test(t);return(h||(t=gi(s)),e=i.cssHooks[t]||i.cssHooks[s],e&&"get"in e&&(f=e.get(n,!0,r)),f===undefined&&(f=dt(n,t,u)),f==="normal"&&t in nf&&(f=nf[t]),r===""||r)?(o=parseFloat(f),r===!0||isFinite(o)?o||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return uo.test(i.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?pi(n,fo,function(){return rf(n,t,u)}):rf(n,t,u)},set:function(n,r,u){var s,f=oi(n),h=!e.scrollboxSize()&&f.position==="absolute",l=h||u,c=l&&i.css(n,"boxSizing",!1,f)==="border-box",o=u?nr(n,t,u,c,f):0;return c&&h&&(o-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(f[t])-nr(n,t,"border",!1,f)-.5)),o&&(s=pt.exec(r))&&(s[3]||"px")!=="px"&&(n.style[t]=r,r=i.css(n,t)),tf(n,r,o)}}});i.cssHooks.marginLeft=wu(e.reliableMarginLeft,function(n,t){if(t)return(parseFloat(dt(n,"marginLeft"))||n.getBoundingClientRect().left-pi(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+w[r]+t]=u[r]||u[r-2]||u[0];return f}};n!=="margin"&&(i.cssHooks[n+t].set=tf)});i.fn.extend({css:function(n,t){return p(this,function(n,t,r){var f,e,o={},u=0;if(Array.isArray(t)){for(f=oi(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return r!==undefined?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)}});i.Tween=h;h.prototype={constructor:h,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=h.propHooks[this.prop];return n&&n.get?n.get(this):h.propHooks._default.get(this)},run:function(n){var t,r=h.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):h.propHooks._default.set(this),this}};h.prototype.init.prototype=h.prototype;h.propHooks={_default:{get:function(n){var t;return n.elem.nodeType!==1||n.elem[n.prop]!=null&&n.elem.style[n.prop]==null?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.nodeType===1&&(i.cssHooks[n.prop]||n.elem.style[gi(n.prop)]!=null)?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};h.propHooks.scrollTop=h.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=h.prototype.init;i.fx.step={};uf=/^(?:toggle|show|hide)$/;ff=/queueHooks$/;i.Animation=i.extend(v,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return ou(i.elem,n,pt.exec(t),i),i}]},tweener:function(n,t){u(n)?(t=n,n=["*"]):n=n.match(a);for(var i,r=0,f=n.length;r<f;r++)i=n[r],v.tweeners[i]=v.tweeners[i]||[],v.tweeners[i].unshift(t)},prefilters:[eo],prefilter:function(n,t){t?v.prefilters.unshift(n):v.prefilters.push(n)}});i.speed=function(n,t,r){var f=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||u(n)&&n,duration:n,easing:r&&t||t&&!u(t)&&t};return i.fx.off?f.duration=0:typeof f.duration!="number"&&(f.duration=f.duration in i.fx.speeds?i.fx.speeds[f.duration]:i.fx.speeds._default),(f.queue==null||f.queue===!0)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){u(f.old)&&f.old.call(this);f.queue&&i.dequeue(this,f.queue)},f};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(bt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=v(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return typeof n!="string"&&(u=t,t=n,n=undefined),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=n!=null&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&ff.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem===this&&(n==null||o[t].queue===n)&&(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(hi(t,!0),n,i,u)}});i.each({slideDown:hi("show"),slideUp:hi("hide"),slideToggle:hi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(ct=Date.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();ct=undefined};i.fx.timer=function(n){i.timers.push(n);i.fx.start()};i.fx.interval=13;i.fx.start=function(){si||(si=!0,tr())};i.fx.stop=function(){si=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})},function(){var n=f.createElement("input"),t=f.createElement("select"),i=t.appendChild(f.createElement("option"));n.type="checkbox";e.checkOn=n.value!=="";e.optSelected=i.selected;n=f.createElement("input");n.value="t";n.type="radio";e.radioValue=n.value==="t"}();lt=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return p(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(e!==3&&e!==8&&e!==2){if(typeof n.getAttribute=="undefined")return i.prop(n,t,r);if(e===1&&i.isXMLDoc(n)||(f=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?sf:undefined)),r!==undefined){if(r===null){i.removeAttr(n,t);return}return f&&"set"in f&&(u=f.set(n,r,t))!==undefined?u:(n.setAttribute(t,r+""),r)}return f&&"get"in f&&(u=f.get(n,t))!==null?u:(u=i.find.attr(n,t),u==null?undefined:u)}},attrHooks:{type:{set:function(n,t){if(!e.radioValue&&t==="radio"&&l(n,"input")){var i=n.value;return n.setAttribute("type",t),i&&(n.value=i),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(a);if(r&&n.nodeType===1)while(i=r[u++])n.removeAttribute(i)}});sf={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=lt[t]||i.find.attr;lt[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=lt[u],lt[u]=f,f=r(n,t,i)!=null?u:null,lt[u]=e),f}});hf=/^(?:input|select|textarea|button)$/i;cf=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return p(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(e!==3&&e!==8&&e!==2)return(e===1&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),r!==undefined)?u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:n[t]=r:u&&"get"in u&&(f=u.get(n,t))!==null?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):hf.test(n.nodeName)||cf.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});e.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.fn.extend({addClass:function(n){var f,r,t,e,o,h,s,c=0;if(u(n))return this.each(function(t){i(this).addClass(n.call(this,t,nt(this)))});if(f=ir(n),f.length)while(r=this[c++])if(e=nt(r),t=r.nodeType===1&&" "+g(e)+" ",t){for(h=0;o=f[h++];)t.indexOf(" "+o+" ")<0&&(t+=o+" ");s=g(t);e!==s&&r.setAttribute("class",s)}return this},removeClass:function(n){var f,r,t,e,o,h,s,c=0;if(u(n))return this.each(function(t){i(this).removeClass(n.call(this,t,nt(this)))});if(!arguments.length)return this.attr("class","");if(f=ir(n),f.length)while(r=this[c++])if(e=nt(r),t=r.nodeType===1&&" "+g(e)+" ",t){for(h=0;o=f[h++];)while(t.indexOf(" "+o+" ")>-1)t=t.replace(" "+o+" "," ");s=g(t);e!==s&&r.setAttribute("class",s)}return this},toggleClass:function(n,t){var f=typeof n,e=f==="string"||Array.isArray(n);return typeof t=="boolean"&&e?t?this.addClass(n):this.removeClass(n):u(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,nt(this),t),t)}):this.each(function(){var t,o,u,s;if(e)for(o=0,u=i(this),s=ir(n);t=s[o++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else(n===undefined||f==="boolean")&&(t=nt(this),t&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||n===!1?"":r.get(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(t.nodeType===1&&(" "+g(nt(t))+" ").indexOf(i)>-1)return!0;return!1}});lf=/\r/g;i.fn.extend({val:function(n){var t,r,e,f=this[0];return arguments.length?(e=u(n),this.each(function(r){var u;this.nodeType===1&&(u=e?n.call(this,r,i(this).val()):n,u==null?u="":typeof u=="number"?u+="":Array.isArray(u)&&(u=i.map(u,function(n){return n==null?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,u,"value")!==undefined||(this.value=u))})):f?(t=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(f,"value"))!==undefined)?r:(r=f.value,typeof r=="string")?r.replace(lf,""):r==null?"":r:void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return t!=null?t:g(i.text(n))}},select:{get:function(n){for(var e,t,o=n.options,u=n.selectedIndex,f=n.type==="select-one",s=f?null:[],h=f?u+1:o.length,r=u<0?h:f?u:0;r<h;r++)if(t=o[r],(t.selected||r===u)&&!t.disabled&&(!t.parentNode.disabled||!l(t.parentNode,"optgroup"))){if(e=i(t).val(),f)return e;s.push(e)}return s},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i.valHooks.option.get(r),e)>-1)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(Array.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};e.checkOn||(i.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});e.focusin="onfocusin"in n;rr=/^(?:focusinfocus|focusoutblur)$/;ur=function(n){n.stopPropagation()};i.extend(i.event,{trigger:function(t,e,o,s){var k,c,l,d,v,y,a,w,b=[o||f],h=ii.call(t,"type")?t.type:t,p=ii.call(t,"namespace")?t.namespace.split("."):[];if((c=w=l=o=o||f,o.nodeType!==3&&o.nodeType!==8)&&!rr.test(h+i.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),v=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,typeof t=="object"&&t),t.isTrigger=s?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=o),e=e==null?[t]:i.makeArray(e,[t]),a=i.event.special[h]||{},s||!a.trigger||a.trigger.apply(o,e)!==!1)){if(!s&&!a.noBubble&&!tt(o)){for(d=a.delegateType||h,rr.test(d+h)||(c=c.parentNode);c;c=c.parentNode)b.push(c),l=c;l===(o.ownerDocument||f)&&b.push(l.defaultView||l.parentWindow||n)}for(k=0;(c=b[k++])&&!t.isPropagationStopped();)w=c,t.type=k>1?d:a.bindType||h,y=(r.get(c,"events")||{})[t.type]&&r.get(c,"handle"),y&&y.apply(c,e),y=v&&c[v],y&&y.apply&&vt(c)&&(t.result=y.apply(c,e),t.result===!1&&t.preventDefault());return t.type=h,s||t.isDefaultPrevented()||(!a._default||a._default.apply(b.pop(),e)===!1)&&vt(o)&&v&&u(o[h])&&!tt(o)&&(l=o[v],l&&(o[v]=null),i.event.triggered=h,t.isPropagationStopped()&&w.addEventListener(h,ur),o[h](),t.isPropagationStopped()&&w.removeEventListener(h,ur),i.event.triggered=undefined,l&&(o[v]=l)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});e.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});var gt=n.location,go=Date.now(),fr=/\?/;i.parseXML=function(t){var r;if(!t||typeof t!="string")return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(u){r=undefined}return(!r||r.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+t),r};var so=/\[\]$/,af=/\r?\n/g,ho=/^(?:submit|button|image|reset|file)$/i,co=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,f=[],e=function(n,t){var i=u(t)?t():t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(i==null?"":i)};if(n==null)return"";if(Array.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(r in n)er(r,n[r],t,e);return f.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&co.test(this.nodeName)&&!ho.test(n)&&(this.checked||!kt.test(n))}).map(function(n,t){var r=i(this).val();return r==null?null:Array.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(af,"\r\n")}}):{name:t.name,value:r.replace(af,"\r\n")}}).get()}});var lo=/%20/g,ao=/#.*$/,vo=/([?&])_=[^&]*/,yo=/^(.*?):[ \t]*([^\r\n]*)$/mg,po=/^(?:GET|HEAD)$/,wo=/^\/\//,vf={},or={},yf="*/".concat("*"),sr=f.createElement("a");return sr.href=gt.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?hr(hr(n,i.ajaxSettings),t):hr(i.ajaxSettings,n)},ajaxPrefilter:pf(vf),ajaxTransport:pf(or),ajax:function(t,r){function b(t,r,f,l){var v,rt,g,p,b,a=r;s||(s=!0,d&&n.clearTimeout(d),c=undefined,k=l||"",e.readyState=t>0?4:0,v=t>=200&&t<300||t===304,f&&(p=bo(u,e,f)),p=ko(u,p,e,v),v?(u.ifModified&&(b=e.getResponseHeader("Last-Modified"),b&&(i.lastModified[o]=b),b=e.getResponseHeader("etag"),b&&(i.etag[o]=b)),t===204||u.type==="HEAD"?a="nocontent":t===304?a="notmodified":(a=p.state,rt=p.data,g=p.error,v=!g)):(g=a,(t||!a)&&(a="error",t<0&&(t=0))),e.status=t,e.statusText=(r||a)+"",v?tt.resolveWith(h,[rt,a,e]):tt.rejectWith(h,[e,a,g]),e.statusCode(w),w=undefined,y&&nt.trigger(v?"ajaxSuccess":"ajaxError",[e,u,v?rt:g]),it.fireWith(h,[e,a]),y&&(nt.trigger("ajaxComplete",[e,u]),--i.active||i.event.trigger("ajaxStop")))}typeof t=="object"&&(r=t,t=undefined);r=r||{};var c,o,k,v,d,l,s,y,g,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=u.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!v)for(v={};t=yo.exec(k);)v[t[1].toLowerCase()+" "]=(v[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=v[n.toLowerCase()+" "]}return t==null?null:t.join(", ")},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return s==null&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return s==null&&(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return c&&c.abort(t),b(0,t),this}};if(tt.promise(e),u.url=((t||u.url||gt.href)+"").replace(wo,gt.protocol+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(a)||[""],u.crossDomain==null){l=f.createElement("a");try{l.href=u.url;l.href=l.href;u.crossDomain=sr.protocol+"//"+sr.host!=l.protocol+"//"+l.host}catch(et){u.crossDomain=!0}}if(u.data&&u.processData&&typeof u.data!="string"&&(u.data=i.param(u.data,u.traditional)),wf(vf,u,r,e),s)return e;y=i.event&&u.global;y&&i.active++==0&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!po.test(u.type);o=u.url.replace(ao,"");u.hasContent?u.data&&u.processData&&(u.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(u.data=u.data.replace(lo,"+")):(p=u.url.slice(o.length),u.data&&(u.processData||typeof u.data=="string")&&(o+=(fr.test(o)?"&":"?")+u.data,delete u.data),u.cache===!1&&(o=o.replace(vo,"$1"),p=(fr.test(o)?"&":"?")+p),u.url=o+p);u.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&e.setRequestHeader("Content-Type",u.contentType);e.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+yf+"; q=0.01":""):u.accepts["*"]);for(g in u.headers)e.setRequestHeader(g,u.headers[g]);if(u.beforeSend&&(u.beforeSend.call(h,e,u)===!1||s))return e.abort();if(ft="abort",it.add(u.complete),e.done(u.success),e.fail(u.error),c=wf(or,u,r,e),c){if(e.readyState=1,y&&nt.trigger("ajaxSend",[e,u]),s)return e;u.async&&u.timeout>0&&(d=n.setTimeout(function(){e.abort("timeout")},u.timeout));try{s=!1;c.send(rt,b)}catch(et){if(s)throw et;b(-1,et)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,undefined,t,"script")}}),i.each(["get","post"],function(n,t){i[t]=function(n,r,f,e){return u(r)&&(e=e||f,f=r,r=undefined),i.ajax(i.extend({url:n,type:t,dataType:e,data:r,success:f},i.isPlainObject(n)&&n))}}),i._evalUrl=function(n,t){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(n){i.globalEval(n,t)}})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(u(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(n){return u(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=u(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}},bf={0:200,1223:204},at=i.ajaxSettings.xhr(),e.cors=!!at&&"withCredentials"in at,e.ajax=at=!!at,i.ajaxTransport(function(t){var i,r;if(e.cors||at&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");for(o in u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.ontimeout=e.onreadystatechange=null,n==="abort"?e.abort():n==="error"?typeof e.status!="number"?f(0,"error"):f(e.status,e.statusText):f(bf[e.status]||e.status,e.statusText,(e.responseType||"text")!=="text"||typeof e.responseText!="string"?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=e.ontimeout=i("error");e.onabort!==undefined?e.onabort=r:e.onreadystatechange=function(){e.readyState===4&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(s){if(i)throw s;}},abort:function(){i&&i()}}}),i.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain||n.scriptAttrs){var r,t;return{send:function(u,e){r=i("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e(n.type==="error"?404:200,n.type)});f.head.appendChild(r[0])},abort:function(){t&&t()}}}}),cr=[],ci=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=cr.pop()||i.expando;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,f){var e,o,s,h=t.jsonp!==!1&&(ci.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ci.test(t.data)&&"data");if(h||t.dataTypes[0]==="jsonp")return e=t.jsonpCallback=u(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(ci,"$1"+e):t.jsonp!==!1&&(t.url+=(fr.test(t.url)?"&":"?")+t.jsonp+"="+e),t.converters["script json"]=function(){return s||i.error(e+" was not called"),s[0]},t.dataTypes[0]="json",o=n[e],n[e]=function(){s=arguments},f.always(function(){o===undefined?i(n).removeProp(e):n[e]=o;t[e]&&(t.jsonpCallback=r.jsonpCallback,cr.push(e));s&&u(o)&&o(s[0]);s=o=undefined}),"script"}),e.createHTMLDocument=function(){var n=f.implementation.createHTMLDocument("").body;return n.innerHTML="<form><\/form><form><\/form>",n.childNodes.length===2}(),i.parseHTML=function(n,t,r){if(typeof n!="string")return[];typeof t=="boolean"&&(r=t,t=!1);var s,u,o;return(t||(e.createHTMLDocument?(t=f.implementation.createHTMLDocument(""),s=t.createElement("base"),s.href=f.location.href,t.head.appendChild(s)):t=f),u=vi.exec(n),o=!r&&[],u)?[t.createElement(u[1])]:(u=lu([n],t,o),o&&o.length&&i(o).remove(),i.merge([],u.childNodes))},i.fn.load=function(n,t,r){var f,s,h,e=this,o=n.indexOf(" ");return o>-1&&(f=g(n.slice(o)),n=n.slice(0,o)),u(t)?(r=t,t=undefined):t&&typeof t=="object"&&(s="POST"),e.length>0&&i.ajax({url:n,type:s||"GET",dataType:"html",data:t}).done(function(n){h=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).always(r&&function(n,t){e.each(function(){r.apply(this,h||[n.responseText,t,n])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.pseudos.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var o,s,h,c,f,l,y,a=i.css(n,"position"),v=i(n),e={};a==="static"&&(n.style.position="relative");f=v.offset();h=i.css(n,"top");l=i.css(n,"left");y=(a==="absolute"||a==="fixed")&&(h+l).indexOf("auto")>-1;y?(o=v.position(),c=o.top,s=o.left):(c=parseFloat(h)||0,s=parseFloat(l)||0);u(t)&&(t=t.call(n,r,i.extend({},f)));t.top!=null&&(e.top=t.top-f.top+c);t.left!=null&&(e.left=t.left-f.left+s);"using"in t?t.using.call(n,e):v.css(e)}},i.fn.extend({offset:function(n){if(arguments.length)return n===undefined?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,u,t=this[0];if(t)return t.getClientRects().length?(r=t.getBoundingClientRect(),u=t.ownerDocument.defaultView,{top:r.top+u.pageYOffset,left:r.left+u.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,u,f,t=this[0],r={top:0,left:0};if(i.css(t,"position")==="fixed")u=t.getBoundingClientRect();else{for(u=this.offset(),f=t.ownerDocument,n=t.offsetParent||f.documentElement;n&&(n===f.body||n===f.documentElement)&&i.css(n,"position")==="static";)n=n.parentNode;n&&n!==t&&n.nodeType===1&&(r=i(n).offset(),r.top+=i.css(n,"borderTopWidth",!0),r.left+=i.css(n,"borderLeftWidth",!0))}return{top:u.top-r.top-i.css(t,"marginTop",!0),left:u.left-r.left-i.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&i.css(n,"position")==="static";)n=n.offsetParent;return n||wt})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return p(this,function(n,i,u){var f;if(tt(n)?f=n:n.nodeType===9&&(f=n.defaultView),u===undefined)return f?f[t]:n[i];f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u},n,i,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=wu(e.pixelPosition,function(n,r){if(r)return r=dt(n,t),di.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||typeof f!="boolean"),s=r||(f===!0||e===!0?"margin":"border");return p(this,function(t,r,f){var e;return tt(t)?u.indexOf("outer")===0?t["inner"+n]:t.document.documentElement["client"+n]:t.nodeType===9?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):f===undefined?i.css(t,r,s):i.style(t,r,f,s)},t,o?f:undefined,o)}})}),i.each("load unload beforeunload hashchange pageshow reset blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchmove touchend".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}}),i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)}}),i.proxy=function(n,t){var f,e,r;return(typeof t=="string"&&(f=n[t],t=n,n=f),!u(n))?undefined:(e=b.call(arguments,2),r=function(){return n.apply(t||this,e.concat(b.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r)},i.holdReady=function(n){n?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=l,i.isFunction=u,i.isWindow=tt,i.camelCase=y,i.type=it,i.now=Date.now,i.isNumeric=function(n){var t=i.type(n);return(t==="number"||t==="string")&&!isNaN(n-parseFloat(n))},typeof define=="function"&&define.amd&&define("jquery",[],function(){return i}),kf=n.jQuery,df=n.$,i.noConflict=function(t){return n.$===i&&(n.$=df),t&&n.jQuery===i&&(n.jQuery=kf),i},t||(n.jQuery=n.$=i),i}),function(n){function e(r){var f=r||window.event,w=h.call(arguments,1),l=0,o=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(f),r.type="mousewheel","detail"in f&&(e=f.detail*-1),"wheelDelta"in f&&(e=f.wheelDelta),"wheelDeltaY"in f&&(e=f.wheelDeltaY),"wheelDeltaX"in f&&(o=f.wheelDeltaX*-1),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(o=e*-1,e=0),l=e===0?o:e,"deltaY"in f&&(e=f.deltaY*-1,l=e),"deltaX"in f&&(o=f.deltaX,e===0&&(l=o*-1)),e!==0||o!==0)return f.deltaMode===1?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,o*=v):f.deltaMode===2&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,o*=y),a=Math.max(Math.abs(e),Math.abs(o)),(!t||a<t)&&(t=a,s(f,a)&&(t/=40)),s(f,a)&&(l/=40,o/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),o=Math[o>=1?"floor":"ceil"](o/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=o,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,o,e),u&&clearTimeout(u),u=setTimeout(c,200),(n.event.dispatch||n.event.handle).apply(this,w)}function c(){t=null}function s(n,t){return i.settings.adjustOldDeltas&&n.type==="mousewheel"&&t%120==0}var o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,u,t,f,i;if(n.event.fixHooks)for(f=o.length;f;)n.event.fixHooks[o[--f]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],e,!1);else this.onmousewheel=e;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],e,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}(jQuery),function(n){function i(i){var r=i||window.event,f=t.call(arguments,1),u;return i=n.event.fix(r),i.type="orientation",u={absolute:r.absolute,z:r.alpha,x:r.beta,y:r.gamma},i.direction=u,f.unshift(i,u),(n.event.dispatch||n.event.handle).apply(this,f)}var t=Array.prototype.slice;n.event.special.orientation={setup:function(){this.addEventListener&&this.addEventListener("deviceorientation",i,!1)}};n.fn.extend({orientation:function(n){return n?this.bind("orientation",n):this.trigger("orientation")},unorientation:function(n){return this.unbind("orientation",n)}})}(jQuery),function(n){function i(i){var u=i||window.event,f=t.call(arguments,1);i=n.event.fix(u);i.type="motion";var r=u.rotationRate,e=u.acceleration,o=u.accelerationIncludingGravity;return r={z:r.alpha,x:r.beta,y:r.gamma},i.motion={acceleration:e,accelerationIncludingGravity:o,rate:r,interval:u.interval},f.unshift(i,r,e,o),(n.event.dispatch||n.event.handle).apply(this,f)}var t=Array.prototype.slice;n.event.special.motion={setup:function(){this.addEventListener&&this.addEventListener("devicemotion",i,!1)}};n.fn.extend({motion:function(n){return n?this.bind("motion",n):this.trigger("motion")},unmotion:function(n){return this.unbind("motion",n)}})}(jQuery),function(n,t,i){function u(n,u){var o=$(n),f=o.data("iscroll"),e;f&&(f.destroy(),f=null);o.data("iscroll",this);this.wrapper=typeof n=="string"?t.querySelector(n):n;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.curpage={x:1,y:1};this.totalpage=0;this.options={zoom:!1,zoomMin:1,zoomMax:4,startZoom:1,wheelAction:!1,zoomOrigin:"50% 50%",resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!0,startX:0,startY:0,offsetX:0,offsetY:0,scrollX:!1,scrollY:!0,pullX:0,pullY:0,directionLockThreshold:5,momentum:!0,mouseWheel:!0,bounce:!0,bounceTime:300,bounceEasing:"",snap:!1,scrollbars:!1,click:!0,bindToWrapper:!1,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|A|LABEL)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(e in u)this.options[e]=u[e];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"";this.options.useTransition=r.hasTransition&&this.options.useTransition;this.options.useTransform=r.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;this.options.tap===!0&&(this.options.tap="tap");this.options.shrinkScrollbars=="scale"&&(this.options.useTransition=!1);this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.options.probeType==3&&(this.options.useTransition=!1);this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this.scale=i.min(i.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax);this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function f(n,i,r){var u=t.createElement("div"),f=t.createElement("div");return r===!0&&(u.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator",n=="h"?(r===!0&&(u.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),u.className="iScrollHorizontalScrollbar"):(r===!0&&(u.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),u.className="iScrollVerticalScrollbar"),u.style.cssText+=";overflow:hidden",i||(u.style.pointerEvents="none"),u.appendChild(f),u}function e(i,u){this.wrapper=typeof u.el=="string"?t.querySelector(u.el):u.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=i;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var f in u)this.options[f]=u[f];this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;this.options.interactive&&(this.options.disableTouch||(r.addEvent(this.indicator,"touchstart",this),r.addEvent(n,"touchend",this)),this.options.disablePointer||(r.addEvent(this.indicator,r.prefixPointerEvent("pointerdown"),this),r.addEvent(n,r.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(r.addEvent(this.indicator,"mousedown",this),r.addEvent(n,"mouseup",this)));this.options.fade&&(this.wrapperStyle[r.style.transform]=this.scroller.translateZ,this.wrapperStyle[r.style.transitionDuration]=r.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var o=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)},r=function(){function u(n){return e===!1?!1:e===""?n:e+n.charAt(0).toUpperCase()+n.substr(1)}var r={},f=t.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],i,n=0,r=t.length;n<r;n++)if(i=t[n]+"ransform",i in f)return t[n].substr(0,t[n].length-1);return!1}(),o;return r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(n,t){for(var i in t)n[i]=t[i]},r.addEvent=function(n,t,i,r){n.addEventListener(t,i,!!r);t.match(/touchmove|mousemove/)&&i.wrapper&&i.options.preventDefault&&n!=i.wrapper&&i.wrapper.addEventListener(t,function(n){n.preventDefault()},!!r)},r.removeEvent=function(n,t,i,r){n.removeEventListener(t,i,!!r)},r.prefixPointerEvent=function(t){return n.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},r.momentum=function(n,t,r,u,f,e){var h=n-t,s=i.abs(h)/r,o,c;return e=e===undefined?.0006:e,o=n+s*s/(2*e)*(h<0?-1:1),c=s/e,o<u?(o=f?u-f/2.5*(s/8):u,h=i.abs(o-n),c=h/s):o>0&&(o=f?f/2.5*(s/8):0,h=i.abs(n)+o,c=h/s),{destination:i.round(o),duration:c}},o=u("transform"),r.extend(r,{hasTransform:o!==!1,hasPerspective:u("perspective")in f,hasTouch:"ontouchstart"in n,hasPointer:n.PointerEvent||n.MSPointerEvent,hasTransition:u("transition")in f}),r.isBadAndroid=/Android /.test(n.navigator.appVersion)&&!/Chrome\/\d/.test(n.navigator.appVersion),r.extend(r.style={},{transform:o,transitionTimingFunction:u("transitionTimingFunction"),transitionDuration:u("transitionDuration"),transitionDelay:u("transitionDelay"),transformOrigin:u("transformOrigin")}),r.hasClass=function(n,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");return i.test(n.className)},r.addClass=function(n,t){if(!r.hasClass(n,t)){var i=n.className.split(" ");i.push(t);n.className=i.join(" ")}},r.removeClass=function(n,t){if(r.hasClass(n,t)){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");n.className=n.className.replace(i," ")}},r.offset=function(n){for(var t=-n.offsetLeft,i=-n.offsetTop;n=n.offsetParent;)t-=n.offsetLeft,i-=n.offsetTop;return{left:t,top:i}},r.preventDefaultException=function(n,t){for(var i in t)if(t[i].test(n[i]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(n){return n*(2-n)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(n){return i.sqrt(1- --n*n)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(n){var t=4;return(n=n-1)*n*((t+1)*n+t)+1}},bounce:{style:"",fn:function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}},elastic:{style:"",fn:function(n){var t=.22;return n===0?0:n==1?1:.4*i.pow(2,-10*n)*i.sin((n-t/4)*2*i.PI/t)+1}}}),r.tap=function(n,i){var r=t.createEvent("Event");r.initEvent(i,!0,!0);r.pageX=n.pageX;r.pageY=n.pageY;n.target.dispatchEvent(r)},r.click=function(n){var i=n.target,r;/(SELECT|INPUT|TEXTAREA|A|LABEL)/i.test(i.tagName)||(r=t.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,n.view,1,i.screenX,i.screenY,i.clientX,i.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),r._constructed=!0,i.dispatchEvent(r))},r}();u.runplat="";u.prototype={version:"5.1.3",_init:function(){this._initEvents();this.options.zoom&&this._initZoom();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},_transitionEnd:function(n){n.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(n){if((r.eventType[n.type]==1||n.button===0)&&this.enabled&&(!this.initiated||r.eventType[n.type]===this.initiated)){!this.options.preventDefault||r.isBadAndroid||r.preventDefaultException(n.target,this.options.preventDefaultException)||n.preventDefault();var u=n.touches?n.touches[0]:n,t;this.initiated=r.eventType[n.type];this.moved=!1;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=r.getTime();this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,t=this.getComputedPosition(),this._translate(i.round(t.x),i.round(t.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd"));this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=u.pageX;this.pointY=u.pageY;this._execEvent("beforeScrollStart")}},_move:function(n){if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&n.preventDefault();var o=n.touches?n.touches[0]:n,t=o.pageX-this.pointX,u=o.pageY-this.pointY,c=r.getTime(),f,e,s,h;if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=t,this.distY+=u,s=i.abs(this.distX),h=i.abs(this.distY),!(c-this.endTime>300)||!(s<10)||!(h<10)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=s>h+this.options.directionLockThreshold?"h":h>=s+this.options.directionLockThreshold?"v":"n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")n.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}u=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")n.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}t=0}t=this.hasHorizontalScroll?t:0;u=this.hasVerticalScroll?u:0;f=this.x+t;e=this.y+u;this.pullX=i.floor(this.x+t/3);this.pullY=i.floor(this.y+u/3);(f>0||f<this.maxScrollX)&&(f=this.options.bounce?this.pullX:f>0?0:this.maxScrollX);(e>0||e<this.maxScrollY)&&(e=this.options.bounce?this.pullY:e>0?0:this.maxScrollY);this.directionX=t>0?-1:t<0?1:0;this.directionY=u>0?-1:u<0?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(f,e);c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y,this.options.probeType==1&&this._execEvent("scroll"));this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(n){var f;if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(n.target,this.options.preventDefaultException)&&n.preventDefault();var v=n.changedTouches?n.changedTouches[0]:n,o,s,e=r.getTime()-this.startTime,t=i.round(this.x),u=i.round(this.y),l=i.abs(t-this.startX),a=i.abs(u-this.startY),h=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(t,u),!this.moved){this.options.tap&&r.tap(n,this.options.tap);this.options.click&&r.click(n);this._execEvent("scrollCancel");return}if(this._events.flick&&e<200&&l<100&&a<100){this._execEvent("flick");return}if(this.options.momentum&&e<300&&(o=this.hasHorizontalScroll?r.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:t,duration:0},s=this.hasVerticalScroll?r.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:u,duration:0},t=o.destination,u=s.destination,h=i.max(o.duration,s.duration),this.isInTransition=1),this.options.snap&&(f=this._nearestSnap(t,u),this.currentPage=f,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(t-f.x),1e3),i.min(i.abs(u-f.y),1e3)),300),t=f.x,u=f.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing),t!=this.x||u!=this.y){(t>0||t<this.maxScrollX||u>0||u<this.maxScrollY)&&(c=r.ease.quadratic);this.scrollTo(t,u,h,c);return}this._execEvent("scrollEnd")}}},_resize:function(){var n=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){n.refresh()},this.options.resizePolling)},resetPosition:function(n){var t=this.x,i=this.y;return(n=n||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),t==this.x&&i==this.y)?!1:(this.scrollTo(t,i,n,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var n=this.wrapper.offsetHeight;return this.pullX=0,this.pullY=0,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=i.round(this.scroller.offsetWidth*this.scale),this.scrollerHeight=i.round(this.scroller.offsetHeight*this.scale),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=r.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition(),this},on:function(n,t){return this._events[n]||(this._events[n]=[]),this._events[n].push(t),this},off:function(n,t){if(!this._events[n])return this;if(!t)return this._events[n]=[],this;var i=this._events[n].indexOf(t);return i>-1&&this._events[n].splice(i,1),this},_execEvent:function(n){var r="on"+n.substr(0,1).toUpperCase()+n.substr(1),t,i;if((this[r]&&this[r](),this._events[n])&&(t=0,i=this._events[n].length,i))for(;t<i;t++)this._events[n][t].apply(this,[].slice.call(arguments,1))},beforeScrollStart:function(n){return this.on("beforeScrollStart",n)},onBeforeScrollStart:function(){},scrollEnd:function(n){return this.on("scrollEnd",n)},onScrollEnd:function(){},scrollStart:function(n){return this.on("scrollStart",n)},onScrollStart:function(){},scroll:function(n){return this.on("scroll",n)},onScroll:function(){},scrollCancel:function(n){return this.on("scrollCancel",n)},onScrollCancel:function(){},zoomStart:function(n){return this.on("zoomStart",n)},onZoomStart:function(){},scaling:function(n){return this.on("scaling",n)},onScaling:function(){},zoomEnd:function(n){return this.on("zoomEnd",n)},onZoomEnd:function(){},flick:function(n){return this.on("flick",n)},onFlick:function(){},pullUp:function(n){return this.on("pullUp",n)},onPullUp:function(){},pullDown:function(n){return this.on("pullDown",n)},onPullDown:function(){},scrollBy:function(n,t,i,r){n=this.x+n;t=this.y+t;i=i||0;this.scrollTo(n,t,i,r)},scrollTo:function(n,t,i,u){u=u||r.ease.circular;this.isInTransition=this.options.useTransition&&i>0;!i||this.options.useTransition&&u.style?(this._transitionTimingFunction(u.style),this._transitionTime(i),this._translate(n,t)):this._animate(n,t,i,u.fn);this.options.bounce&&((this.pullX<this.maxScrollX||this.pullY<this.maxScrollY)&&this._execEvent("pullUp"),(this.pullX>0||this.pullY>0)&&this._execEvent("pullDown"))},scrollToElement:function(n,t,u,f,e){if(n=n.nodeType?n:this.scroller.querySelector(n),n){var o=r.offset(n);o.left-=this.wrapperOffset.left;o.top-=this.wrapperOffset.top;u===!0&&(u=i.round(n.offsetWidth/2-this.wrapper.offsetWidth/2));f===!0&&(f=i.round(n.offsetHeight/2-this.wrapper.offsetHeight/2));o.left-=u||0;o.top-=f||0;o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left;o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top;t=t===undefined||t===null||t==="auto"?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):t;this.scrollTo(o.left,o.top,t,e)}},_transitionTime:function(n){if(n=n||0,this.scrollerStyle[r.style.transitionDuration]=n+"ms",!n&&r.isBadAndroid&&(this.scrollerStyle[r.style.transitionDuration]="0.001s"),this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(n)},_transitionTimingFunction:function(n){if(this.scrollerStyle[r.style.transitionTimingFunction]=n,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(n)},_translate:function(n,t){if(this.options.useTransform?this.scrollerStyle[r.style.transform]=this.options.zoom?"scale("+this.scale+") "+this.translateZ:"translate("+(this.options.offsetX+n)+"px,"+(this.options.offsetY+t)+"px) scale("+this.scale+") "+this.translateZ:(n=i.round(n),t=i.round(t),this.scrollerStyle.left=this.options.offsetX+n+"px",this.scrollerStyle.top=this.options.offsetY+t+"px"),this.x=n,this.y=t,this.indicators)for(var u=this.indicators.length;u--;)this.indicators[u].updatePosition()},_initEvents:function(t){var i=t?r.removeEvent:r.addEvent,u=this.options.bindToWrapper?this.wrapper:n;i(n,"orientationchange",this);i(n,"resize",this);this.options.click&&i(this.wrapper,"click",this,!0);this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(u,"mousemove",this),i(u,"mousecancel",this),i(u,"mouseup",this));r.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,r.prefixPointerEvent("pointerdown"),this),i(u,r.prefixPointerEvent("pointermove"),this),i(u,r.prefixPointerEvent("pointercancel"),this),i(u,r.prefixPointerEvent("pointerup"),this));r.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(u,"touchmove",this),i(u,"touchcancel",this),i(u,"touchend",this));i(this.scroller,"transitionend",this);i(this.scroller,"webkitTransitionEnd",this);i(this.scroller,"oTransitionEnd",this);i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t=n.getComputedStyle(this.scroller,null),i,u;return this.options.useTransform?(t=t[r.style.transform].split(")")[0].split(", "),i=+(t[12]||t[4]),u=+(t[13]||t[5])):(i=+t.left.replace(/[^-\d.]/g,""),u=+t.top.replace(/[^-\d.]/g,"")),{x:i,y:u}},_initIndicators:function(){function i(n){for(var t=s.indicators.length;t--;)n.call(s.indicators[t])}var r=this.options.interactiveScrollbars,o=typeof this.options.scrollbars!="string",n=[],t,s=this,u;for(this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:f("v",r,this.options.scrollbars),interactive:r,defaultScrollbars:!0,customStyle:o,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:f("h",r,this.options.scrollbars),interactive:r,defaultScrollbars:!0,customStyle:o,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators)),u=n.length;u--;)this.indicators.push(new e(this,n[u]));if(this.options.fadeScrollbars){this.on("scrollEnd",function(){i(function(){this.fade()})});this.on("scrollCancel",function(){i(function(){this.fade()})});this.on("scrollStart",function(){i(function(){this.fade(1)})});this.on("beforeScrollStart",function(){i(function(){this.fade(1,!0)})})}this.on("refresh",function(){i(function(){this.refresh()})});this.on("destroy",function(){i(function(){this.destroy()});delete this.indicators})},_initZoom:function(){this.scrollerStyle[r.style.transformOrigin]=this.options.zoomOrigin},_zoomStart:function(n){var t=i.abs(n.touches[0].pageX-n.touches[1].pageX),r=i.abs(n.touches[0].pageY-n.touches[1].pageY);this.touchesDistanceStart=i.sqrt(t*t+r*r);this.startScale=this.scale;this.originX=i.abs(n.touches[0].pageX+n.touches[1].pageX)/2+this.wrapperOffset.left-this.x;this.originY=i.abs(n.touches[0].pageY+n.touches[1].pageY)/2+this.wrapperOffset.top-this.y;this._execEvent("zoomStart")},_zoom:function(n){if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&n.preventDefault();var f=i.abs(n.touches[0].pageX-n.touches[1].pageX),e=i.abs(n.touches[0].pageY-n.touches[1].pageY),h=i.sqrt(f*f+e*e),t=1/this.touchesDistanceStart*h*this.startScale,u,o,s;this.scaled=!0;t<this.options.zoomMin?t=.5*this.options.zoomMin*i.pow(2,t/this.options.zoomMin):t>this.options.zoomMax&&(t=2*this.options.zoomMax*i.pow(.5,this.options.zoomMax/t));u=t/this.startScale;o=this.originX-this.originX*u+this.startX;s=this.originY-this.originY*u+this.startY;this.zoom(t,o,s,0)}},_zoomEnd:function(n){if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&n.preventDefault();var t,i,u;this.isInTransition=0;this.initiated=0;this.scale>this.options.zoomMax?this.scale=this.options.zoomMax:this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.refresh();u=this.scale/this.startScale;t=this.originX-this.originX*u+this.startX;i=this.originY-this.originY*u+this.startY;t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX);i>0?i=0:i<this.maxScrollY&&(i=this.maxScrollY);(this.x!=t||this.y!=i)&&this.scrollTo(t,i,this.options.bounceTime);this.scaled=!1;this._execEvent("zoomEnd")}},zoom:function(n,t,i,r){if(n<this.options.zoomMin?n=this.options.zoomMin:n>this.options.zoomMax&&(n=this.options.zoomMax),n!=this.scale){var u=n/this.scale;t=t===undefined?this.wrapperWidth/2:t;i=i===undefined?this.wrapperHeight/2:i;r=r===undefined?300:r;t=t+this.wrapperOffset.left-this.x;i=i+this.wrapperOffset.top-this.y;t=t-t*u+this.x;i=i-i*u+this.y;this.scale=n;this.refresh();t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX);i>0?i=0:i<this.maxScrollY&&(i=this.maxScrollY);this.scrollTo(t,i,r);this._execEvent("scaling")}},_wheelZoom:function(n){var t,r,u=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){u._execEvent("zoomEnd")},400),"deltaX"in n)t=-n.deltaY/i.abs(n.deltaY);else if("wheelDeltaX"in n)t=n.wheelDeltaY/i.abs(n.wheelDeltaY);else if("wheelDelta"in n)t=n.wheelDelta/i.abs(n.wheelDelta);else if("detail"in n)t=-n.detail/i.abs(n.wheelDelta);else return;r=this.scale+t/5;this.zoom(r,n.pageX,n.pageY,0)},_initWheel:function(){r.addEvent(this.wrapper,"wheel",this);r.addEvent(this.wrapper,"mousewheel",this);r.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){r.removeEvent(this.wrapper,"wheel",this);r.removeEvent(this.wrapper,"mousewheel",this);r.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(this.enabled){n.preventDefault();n.stopPropagation();var r,t,u,f,e=this;if(this.wheelTimeout===undefined&&e._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.options.snap||(this.wheelTimeout=setTimeout(function(){e._execEvent("scrollEnd");e.wheelTimeout=undefined},400)),"deltaX"in n)n.deltaMode===1?(r=-n.deltaX*this.options.mouseWheelSpeed,t=-n.deltaY*this.options.mouseWheelSpeed):(r=-n.deltaX,t=-n.deltaY);else if("wheelDeltaX"in n)r=n.wheelDeltaX/120*this.options.mouseWheelSpeed,t=n.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in n)r=t=n.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in n)r=t=-n.detail/3*this.options.mouseWheelSpeed;else return;if(r*=this.options.invertWheelDirection,t*=this.options.invertWheelDirection,this.hasVerticalScroll||(r=t,t=0),this.options.snap){u=this.currentPage.pageX;f=this.currentPage.pageY;r>0?u--:r<0&&u++;t>0?f--:t<0&&f++;this.goToPage(u,f);return}u=this.x+i.round(this.hasHorizontalScroll?r:0);f=this.y+i.round(this.hasVerticalScroll?t:0);u>0?u=0:u<this.maxScrollX&&(u=this.maxScrollX);f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY);this.scrollTo(u,f,0);this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={};var n=this.options.snap;this.on("refresh",function(){typeof n=="string"&&(this.options.snap=this.scroller.querySelectorAll(n));var t=0,e,o=0,c,s,h,u=0,f,l=this.options.snapStepX||this.wrapperWidth,a=this.options.snapStepY||this.wrapperHeight,r;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(s=i.round(l/2),h=i.round(a/2);u>-this.scrollerWidth;){for(this.pages[t]=[],e=0,f=0;f>-this.scrollerHeight;)this.pages[t][e]={x:i.max(u,this.maxScrollX),y:i.max(f,this.maxScrollY),width:l,height:a,cx:u-s,cy:f-h},f-=a,e++;u-=l;t++}else for(r=this.options.snap,e=r.length,c=-1;t<e;t++)(t===0||r[t].offsetLeft<=r[t-1].offsetLeft)&&(o=0,c++),this.pages[o]||(this.pages[o]=[]),u=i.max(-r[t].offsetLeft,this.maxScrollX),f=i.max(-r[t].offsetTop,this.maxScrollY),s=u-i.round(r[t].offsetWidth/2),h=f-i.round(r[t].offsetHeight/2),this.pages[o][c]={x:u,y:f,width:r[t].offsetWidth,height:r[t].offsetHeight,cx:s,cy:h},u>this.maxScrollX&&o++;this.totalpage=this.pages.length;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,n)})},_nearestSnap:function(n,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,f=this.pages.length,u=0;if(i.abs(n-this.absStartX)<this.snapThresholdX&&i.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);r<f;r++)if(n>=this.pages[r][0].cx){n=this.pages[r][0].x;break}for(r>=f&&(r=f-1),f=this.pages[r].length;u<f;u++)if(t>=this.pages[0][u].cy){t=this.pages[0][u].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),n=this.pages[r][0].x),u==this.currentPage.pageY&&(u+=this.directionY,u<0?u=0:u>=this.pages[0].length&&(u=this.pages[0].length-1),t=this.pages[0][u].y),this.curpage={x:n+1,y:t+1},{x:n,y:t,pageX:r,pageY:u}},goToPage:function(n,t,r,u){u=u||this.options.bounceEasing;n>=this.pages.length?n=this.pages.length-1:n<0&&(n=0);t>=this.pages[n].length?t=this.pages[n].length-1:t<0&&(t=0);var f=this.pages[n][t].x,e=this.pages[n][t].y;r=r===undefined?this.options.snapSpeed||i.max(i.max(i.min(i.abs(f-this.x),1e3),i.min(i.abs(e-this.y),1e3)),300):r;this.currentPage={x:f,y:e,pageX:n,pageY:t};this.scrollTo(f,e,r,u)},next:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i++;i>=this.pages.length&&this.hasVerticalScroll&&(i=0,r++);this.goToPage(i,r,n,t)},prev:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i--;i<0&&this.hasVerticalScroll&&(i=0,r--);this.goToPage(i,r,n,t)},_initKeys:function(){var i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},t;if(typeof this.options.keyBindings=="object")for(t in this.options.keyBindings)typeof this.options.keyBindings[t]=="string"&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in i)this.options.keyBindings[t]=this.options.keyBindings[t]||i[t];r.addEvent(n,"keydown",this);this.on("destroy",function(){r.removeEvent(n,"keydown",this)})},_key:function(n){if(this.enabled){var t=this.options.snap,u=t?this.currentPage.pageX:this.x,f=t?this.currentPage.pageY:this.y,o=r.getTime(),s=this.keyTime||0,e;this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1);this.keyAcceleration=o-s<200?i.min(this.keyAcceleration+.25,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?u+=t?1:this.wrapperWidth:f+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?u-=t?1:this.wrapperWidth:f-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:u=t?this.pages.length-1:this.maxScrollX;f=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:u=0;f=0;break;case this.options.keyBindings.left:u+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:u-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=t?1:5+this.keyAcceleration>>0;break;default:return}if(t){this.goToPage(u,f);return}u>0?(u=0,this.keyAcceleration=0):u<this.maxScrollX&&(u=this.maxScrollX,this.keyAcceleration=0);f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0);this.scrollTo(u,f,0);this.keyTime=o}},_animate:function(n,t,i,u){function c(){var a=r.getTime(),y,p,v;if(a>=l){f.isAnimating=!1;f._translate(n,t);f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd");return}a=(a-h)/i;v=u(a);y=(n-e)*v+e;p=(t-s)*v+s;f._translate(y,p);f.isAnimating&&o(c);f.options.probeType==3&&f._execEvent("scroll")}var f=this,e=this.x,s=this.y,h=r.getTime(),l=h+i;this.isAnimating=!0;c()},handleEvent:function(n){switch(n.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(n);this.options.zoom&&n.touches&&n.touches.length>1&&this._zoomStart(n);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":if(this.options.zoom&&n.touches&&n.touches[1]){this._zoom(n);return}this._move(n);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":if(this.scaled){this._zoomEnd(n);return}this._end(n);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(n);break;case"wheel":case"DOMMouseScroll":case"mousewheel":if(this.options.wheelAction){this._wheelZoom(n);return}this._wheel(n);break;case"keydown":this._key(n)}}};e.prototype={handleEvent:function(n){switch(n.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(n);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(n);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(n)}},destroy:function(){this.options.interactive&&(r.removeEvent(this.indicator,"touchstart",this),r.removeEvent(this.indicator,r.prefixPointerEvent("pointerdown"),this),r.removeEvent(this.indicator,"mousedown",this),r.removeEvent(n,"touchmove",this),r.removeEvent(n,r.prefixPointerEvent("pointermove"),this),r.removeEvent(n,"mousemove",this),r.removeEvent(n,"touchend",this),r.removeEvent(n,r.prefixPointerEvent("pointerup"),this),r.removeEvent(n,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault();t.stopPropagation();this.transitionTime();this.initiated=!0;this.moved=!1;this.lastPointX=i.pageX;this.lastPointY=i.pageY;this.startTime=r.getTime();this.options.disableTouch||r.addEvent(n,"touchmove",this);this.options.disablePointer||r.addEvent(n,r.prefixPointerEvent("pointermove"),this);this.options.disableMouse||r.addEvent(n,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(n){var t=n.touches?n.touches[0]:n,i,u,f,e,o=r.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=!0;i=t.pageX-this.lastPointX;this.lastPointX=t.pageX;u=t.pageY-this.lastPointY;this.lastPointY=t.pageY;f=this.x+i;e=this.y+u;this._pos(f,e);this.scroller.options.probeType==1&&o-this.startTime>300?(this.startTime=o,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll");n.preventDefault();n.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),r.removeEvent(n,"touchmove",this),r.removeEvent(n,r.prefixPointerEvent("pointermove"),this),r.removeEvent(n,"mousemove",this),this.scroller.options.snap){var u=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-u.x),1e3),i.min(i.abs(this.scroller.y-u.y),1e3)),300);(this.scroller.x!=u.x||this.scroller.y!=u.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=u,this.scroller.scrollTo(u.x,u.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(n){n=n||0;this.indicatorStyle[r.style.transitionDuration]=n+"ms";!n&&r.isBadAndroid&&(this.indicatorStyle[r.style.transitionDuration]="0.001s")},transitionTimingFunction:function(n){this.indicatorStyle[r.style.transitionTimingFunction]=n},refresh:function(){this.transitionTime();this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(r.addClass(this.wrapper,"iScrollBothScrollbars"),r.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(r.removeClass(this.wrapper,"iScrollBothScrollbars"),r.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var n=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.options.shrink=="clip"?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.options.shrink=="clip"?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var n=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(n<this.minBoundaryX?(this.options.shrink=="scale"&&(this.width=i.max(this.indicatorWidth+n,8),this.indicatorStyle.width=this.width+"px"),n=this.minBoundaryX):n>this.maxBoundaryX?this.options.shrink=="scale"?(this.width=i.max(this.indicatorWidth-(n-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",n=this.maxPosX+this.indicatorWidth-this.width):n=this.maxBoundaryX:this.options.shrink=="scale"&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?(this.options.shrink=="scale"&&(this.height=i.max(this.indicatorHeight+t*3,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?this.options.shrink=="scale"?(this.height=i.max(this.indicatorHeight-(t-this.maxPosY)*3,8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:this.options.shrink=="scale"&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px"));this.x=n;this.y=t;this.scroller.options.useTransform?this.options.zoom||(this.indicatorStyle[r.style.transform]="translate("+(this.options.offsetX+n)+"px,"+(this.options.offsetY+t)+"px)"+this.scroller.translateZ):(this.indicatorStyle.left=this.options.offsetX+n+"px",this.indicatorStyle.top=this.options.offsetY+t+"px")},_pos:function(n,t){n<0?n=0:n>this.maxPosX&&(n=this.maxPosX);t<0?t=0:t>this.maxPosY&&(t=this.maxPosY);n=this.options.listenX?i.round(n/this.sizeRatioX):this.scroller.x;t=this.options.listenY?i.round(t/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(n,t)},fade:function(n,t){if(!t||this.visible){clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var i=n?250:500,u=n?0:300;n=n?"1":"0";this.wrapperStyle[r.style.transitionDuration]=i+"ms";this.fadeTimeout=setTimeout(function(n){this.wrapperStyle.opacity=n;this.visible=+n}.bind(this,n),u)}}};u.utils=r;typeof module!="undefined"&&module.exports?module.exports=u:n.IScroll=u}(window,document,Math),function(){function i(n){return!!n.exifdata}function y(n,t){var i;t=t||n.match(/^data\:([^\;]+)\;base64,/mi)[1]||"";n=n.replace(/^data\:([^\;]+)\;base64,/gmi,"");var r=atob(n),u=r.length,f=new ArrayBuffer(u),e=new Uint8Array(f);for(i=0;i<u;i++)e[i]=r.charCodeAt(i);return f}function p(n,t){var i=new XMLHttpRequest;i.open("GET",n,!0);i.responseType="blob";i.onload=function(){(this.status==200||this.status===0)&&t(this.response)};i.send()}function w(i,r){function e(t){var e=s(t),u,f;i.exifdata=e||{};u=b(t);i.iptcdata=u||{};n.isXmpEnabled&&(f=it(t),i.xmpdata=f||{});r&&r.call(i)}var o,u,f;i.src?/^data\:/i.test(i.src)?(o=y(i.src),e(o)):/^blob\:/i.test(i.src)?(f=new FileReader,f.onload=function(n){e(n.target.result)},p(i.src,function(n){f.readAsArrayBuffer(n)})):(u=new XMLHttpRequest,u.onload=function(){if(this.status==200||this.status===0)e(u.response);else throw"Could not load image";u=null},u.open("GET",i.src,!0),u.responseType="arraybuffer",u.send(null)):self.FileReader&&(i instanceof self.Blob||i instanceof self.File)&&(f=new FileReader,f.onload=function(n){t&&console.log("Got file of length "+n.target.result.byteLength);e(n.target.result)},f.readAsArrayBuffer(i))}function s(n){var r=new DataView(n),i,f,u;if(t&&console.log("Got file of length "+n.byteLength),r.getUint8(0)!=255||r.getUint8(1)!=216)return t&&console.log("Not a valid JPEG"),!1;for(i=2,f=n.byteLength;i<f;){if(r.getUint8(i)!=255)return t&&console.log("Not a valid marker at offset "+i+", found: "+r.getUint8(i)),!1;if(u=r.getUint8(i+1),t&&console.log(u),u==225)return t&&console.log("Found 0xFFE1 marker"),tt(r,i+4,r.getUint16(i+2)-2);i+=2+r.getUint16(i+2)}}function b(n){var u=new DataView(n),i,f,e;if(t&&console.log("Got file of length "+n.byteLength),u.getUint8(0)!=255||u.getUint8(1)!=216)return t&&console.log("Not a valid JPEG"),!1;for(var r=2,o=n.byteLength,s=function(n,t){return n.getUint8(t)===56&&n.getUint8(t+1)===66&&n.getUint8(t+2)===73&&n.getUint8(t+3)===77&&n.getUint8(t+4)===4&&n.getUint8(t+5)===4};r<o;){if(s(u,r))return i=u.getUint8(r+7),i%2!=0&&(i+=1),i===0&&(i=4),f=r+8+i,e=u.getUint16(r+6+i),k(n,f,e);r++}}function k(n,t,i){for(var s=new DataView(n),u={},h,f,c,l,a,e=t;e<t+i;)s.getUint8(e)===28&&s.getUint8(e+1)===2&&(l=s.getUint8(e+2),l in o&&(c=s.getInt16(e+3),a=c+5,f=o[l],h=r(s,e+5,c),u.hasOwnProperty(f)?u[f]instanceof Array?u[f].push(h):u[f]=[u[f],h]:u[f]=h)),e++;return u}function f(n,i,r,u,f){for(var c=n.getUint16(r,!f),h={},e,s,o=0;o<c;o++)e=r+o*12+2,s=u[n.getUint16(e,!f)],!s&&t&&console.log("Unknown tag: "+n.getUint16(e,!f)),h[s]=d(n,e,i,r,f);return h}function d(n,t,i,u,f){var y=n.getUint16(t+2,!f),s=n.getUint32(t+4,!f),h=n.getUint32(t+8,!f)+i,c,o,v,e,l,a;switch(y){case 1:case 7:if(s==1)return n.getUint8(t+8,!f);for(c=s>4?h:t+8,o=[],e=0;e<s;e++)o[e]=n.getUint8(c+e);return o;case 2:return c=s>4?h:t+8,r(n,c,s-1);case 3:if(s==1)return n.getUint16(t+8,!f);for(c=s>2?h:t+8,o=[],e=0;e<s;e++)o[e]=n.getUint16(c+2*e,!f);return o;case 4:if(s==1)return n.getUint32(t+8,!f);for(o=[],e=0;e<s;e++)o[e]=n.getUint32(h+4*e,!f);return o;case 5:if(s==1)return l=n.getUint32(h,!f),a=n.getUint32(h+4,!f),v=new Number(l/a),v.numerator=l,v.denominator=a,v;for(o=[],e=0;e<s;e++)l=n.getUint32(h+8*e,!f),a=n.getUint32(h+4+8*e,!f),o[e]=new Number(l/a),o[e].numerator=l,o[e].denominator=a;return o;case 9:if(s==1)return n.getInt32(t+8,!f);for(o=[],e=0;e<s;e++)o[e]=n.getInt32(h+4*e,!f);return o;case 10:if(s==1)return n.getInt32(h,!f)/n.getInt32(h+4,!f);for(o=[],e=0;e<s;e++)o[e]=n.getInt32(h+8*e,!f)/n.getInt32(h+4+8*e,!f);return o}}function g(n,t,i){var r=n.getUint16(t,!i);return n.getUint32(t+2+r*12,!i)}function nt(n,t,i,r){var e=g(n,t+i,r),u,o,s;if(e){if(e>n.byteLength)return{}}else return{};if(u=f(n,t,t+e,v,r),u.Compression)switch(u.Compression){case 6:u.JpegIFOffset&&u.JpegIFByteCount&&(o=t+u.JpegIFOffset,s=u.JpegIFByteCount,u.blob=new Blob([new Uint8Array(n.buffer,o,s)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",u.Compression)}else u.PhotometricInterpretation==2&&console.log("Thumbnail image format is RGB, which is not implemented.");return u}function r(n,t,i){for(var u="",r=t;r<t+i;r++)u+=String.fromCharCode(n.getUint8(r));return u}function tt(n,i){var h,v,e,o,y,s,p;if(r(n,i,4)!="Exif")return t&&console.log("Not valid EXIF data! "+r(n,i,4)),!1;if(s=i+6,n.getUint16(s)==18761)h=!1;else if(n.getUint16(s)==19789)h=!0;else return t&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;if(n.getUint16(s+2,!h)!=42)return t&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(p=n.getUint32(s+4,!h),p<8)return t&&console.log("Not valid TIFF data! (First offset less than 8)",n.getUint32(s+4,!h)),!1;if(v=f(n,s,s+p,l,h),v.ExifIFDPointer){o=f(n,s,s+v.ExifIFDPointer,c,h);for(e in o){switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[e]=u[e][o[e]];break;case"ExifVersion":case"FlashpixVersion":o[e]=String.fromCharCode(o[e][0],o[e][1],o[e][2],o[e][3]);break;case"ComponentsConfiguration":o[e]=u.Components[o[e][0]]+u.Components[o[e][1]]+u.Components[o[e][2]]+u.Components[o[e][3]]}v[e]=o[e]}}if(v.GPSInfoIFDPointer){y=f(n,s,s+v.GPSInfoIFDPointer,a,h);for(e in y){switch(e){case"GPSVersionID":y[e]=y[e][0]+"."+y[e][1]+"."+y[e][2]+"."+y[e][3]}v[e]=y[e]}}return v.thumbnail=nt(n,s,p,h),v}function it(n){var u,e,o;if("DOMParser"in self){if(u=new DataView(n),t&&console.log("Got file of length "+n.byteLength),u.getUint8(0)!=255||u.getUint8(1)!=216)return t&&console.log("Not a valid JPEG"),!1;for(var f=2,s=n.byteLength,h=new DOMParser;f<s-4;){if(r(u,f,4)=="http"){var c=f-1,l=u.getUint16(f-2)-1,i=r(u,c,l),a=i.indexOf("xmpmeta>")+8;return i=i.substring(i.indexOf("<x:xmpmeta"),a),e=i.indexOf("x:xmpmeta")+10,i=i.slice(0,e)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+i.slice(e),o=h.parseFromString(i,"text/xml"),rt(o)}f++}}}function e(n){var t={},r,o,u,f,i,s;if(n.nodeType==1){if(n.attributes.length>0)for(t["@attributes"]={},r=0;r<n.attributes.length;r++)o=n.attributes.item(r),t["@attributes"][o.nodeName]=o.nodeValue}else if(n.nodeType==3)return n.nodeValue;if(n.hasChildNodes())for(u=0;u<n.childNodes.length;u++)f=n.childNodes.item(u),i=f.nodeName,t[i]==null?t[i]=e(f):(t[i].push==null&&(s=t[i],t[i]=[],t[i].push(s)),t[i].push(e(f)));return t}function rt(n){var t,u,r,f,o,i,c;try{if(t={},n.children.length>0)for(u=0;u<n.children.length;u++){r=n.children.item(u);f=r.attributes;for(o in f){var s=f[o],h=s.nodeName,l=s.nodeValue;h!==undefined&&(t[h]=l)}i=r.nodeName;typeof t[i]=="undefined"?t[i]=e(r):(typeof t[i].push=="undefined"&&(c=t[i],t[i]=[],t[i].push(c)),t[i].push(e(r)))}else t=n.textContent;return t}catch(a){console.log(a.message)}}var t=!1,h=this,n=function(t){if(t instanceof n)return t;if(!(this instanceof n))return new n(t);this.EXIFwrapped=t},o;typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=n),exports.EXIF=n):h.EXIF=n;var c=n.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},l=n.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},a=n.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},v=n.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},u=n.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};o={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};n.enableXmp=function(){n.isXmpEnabled=!0};n.disableXmp=function(){n.isXmpEnabled=!1};n.getData=function(n,t){return(self.Image&&n instanceof self.Image||self.HTMLImageElement&&n instanceof self.HTMLImageElement)&&!n.complete?!1:(i(n)?t&&t.call(n):w(n,t),!0)};n.getTag=function(n,t){if(i(n))return n.exifdata[t]};n.getIptcTag=function(n,t){if(i(n))return n.iptcdata[t]};n.getAllTags=function(n){if(!i(n))return{};var t,r=n.exifdata,u={};for(t in r)r.hasOwnProperty(t)&&(u[t]=r[t]);return u};n.getAllIptcTags=function(n){if(!i(n))return{};var t,r=n.iptcdata,u={};for(t in r)r.hasOwnProperty(t)&&(u[t]=r[t]);return u};n.pretty=function(n){if(!i(n))return"";var t,r=n.exifdata,u="";for(t in r)r.hasOwnProperty(t)&&(u+=typeof r[t]=="object"?r[t]instanceof Number?t+" : "+r[t]+" ["+r[t].numerator+"/"+r[t].denominator+"]\r\n":t+" : ["+r[t].length+" values]\r\n":t+" : "+r[t]+"\r\n");return u};n.readFromBinaryFile=function(n){return s(n)};typeof define=="function"&&define.amd&&define("exif-js",[],function(){return n})}.call(this);var glfx=function(){function u(n,t,i){return Math.max(n,Math.min(t,i))}function c(t){return{_:t,loadContentsOf:function(t){n=this._.gl;this._.loadContentsOf(t)},destroy:function(){n=this._.gl;this._.destroy()}}}function y(n){return c(f.fromElement(n))}function p(i,r){var u=n.UNSIGNED_BYTE,e;if(n.getExtension("OES_texture_float")&&n.getExtension("OES_texture_float_linear")){e=new f(100,100,n.RGBA,n.FLOAT);try{e.drawTo(function(){u=n.FLOAT})}catch(o){}e.destroy()}this._.texture&&this._.texture.destroy();this._.spareTexture&&this._.spareTexture.destroy();this.width=i;this.height=r;this._.texture=new f(i,r,n.RGBA,u);this._.spareTexture=new f(i,r,n.RGBA,u);this._.extraTexture=this._.extraTexture||new f(0,0,n.RGBA,u);this._.flippedShader=this._.flippedShader||new t(null,"uniform sampler2D texture;varying vec2 texCoord;void main(){gl_FragColor=texture2D(texture,vec2(texCoord.x,1.0-texCoord.y));}");this._.isInitialized=!0}function w(n,i,r){return this._.isInitialized&&n._.width==this.width&&n._.height==this.height||p.call(this,i?i:n._.width,r?r:n._.height),n._.use(),this._.texture.drawTo(function(){t.getDefaultShader().drawRect()}),this}function b(){return this._.texture.use(),this._.flippedShader.drawRect(),this}function i(n,t,i,r){(i||this._.texture).use();this._.spareTexture.drawTo(function(){n.uniforms(t).drawRect()});this._.spareTexture.swapWith(r||this._.texture)}function k(n){return n.parentNode.insertBefore(this,n),n.parentNode.removeChild(n),this}function d(){var i=new f(this._.texture.width,this._.texture.height,n.RGBA,n.UNSIGNED_BYTE);return this._.texture.use(),i.drawTo(function(){t.getDefaultShader().drawRect()}),c(i)}function g(){var t=this._.texture.width,i=this._.texture.height,r=new Uint8Array(4*t*i);return this._.texture.drawTo(function(){n.readPixels(0,0,t,i,n.RGBA,n.UNSIGNED_BYTE,r)}),r}function r(t){return function(){return n=this._.gl,t.apply(this,arguments)}}function l(n,t,i,r,u,f,e,o){var s=i-u,c=r-f,h=e-u,l=o-f;u=n-i+u-e;f=t-r+f-o;var a=s*l-h*c,h=(u*l-h*f)/a,s=(s*f-u*c)/a;return[i-n+h*i,r-t+h*r,h,e-n+s*e,o-t+s*o,s,n,t,1]}function a(n){var i=n[0],r=n[1],u=n[2],f=n[3],e=n[4],o=n[5],s=n[6],h=n[7],t;return n=n[8],t=i*e*n-i*o*h-r*f*n+r*o*s+u*f*h-u*e*s,[(e*n-o*h)/t,(u*h-r*n)/t,(r*o-u*e)/t,(o*s-f*n)/t,(i*n-u*s)/t,(u*f-i*o)/t,(f*h-e*s)/t,(r*s-i*h)/t,(i*e-r*f)/t]}function v(n){var i=n.length,t,r,u;for(this.xa=[],this.ya=[],this.u=[],this.y2=[],n.sort(function(n,t){return n[0]-t[0]}),t=0;t<i;t++)this.xa.push(n[t][0]),this.ya.push(n[t][1]);for(this.u[0]=0,this.y2[0]=0,t=1;t<i-1;++t)n=this.xa[t+1]-this.xa[t-1],r=(this.xa[t]-this.xa[t-1])/n,u=r*this.y2[t-1]+2,this.y2[t]=(r-1)/u,this.u[t]=(6*((this.ya[t+1]-this.ya[t])/(this.xa[t+1]-this.xa[t])-(this.ya[t]-this.ya[t-1])/(this.xa[t]-this.xa[t-1]))/n-r*this.u[t-1])/u;for(this.y2[i-1]=0,t=i-2;0<=t;--t)this.y2[t]=this.y2[t]*this.y2[t+1]+this.u[t]}function s(n,i){return new t(null,n+"uniform sampler2D texture;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 coord=texCoord*texSize;"+i+"gl_FragColor=texture2D(texture,coord/texSize);vec2 clampedCoord=clamp(coord,vec2(0.0),texSize);if(coord!=clampedCoord){gl_FragColor.a*=max(0.0,1.0-length(coord-clampedCoord));}}")}function nt(r,f){return n.brightnessContrast=n.brightnessContrast||new t(null,"uniform sampler2D texture;uniform float brightness;uniform float contrast;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color.rgb+=brightness;if(contrast>0.0){color.rgb=(color.rgb-0.5)/(1.0-contrast)+0.5;}else{color.rgb=(color.rgb-0.5)*(1.0+contrast)+0.5;}gl_FragColor=color;}"),i.call(this,n.brightnessContrast,{brightness:u(-1,r,1),contrast:u(-1,f,1)}),this}function o(n){n=new v(n);for(var i=[],t=0;256>t;t++)i.push(u(0,Math.floor(256*n.interpolate(t/255)),255));return i}function tt(r,u,f){r=o(r);1==arguments.length?u=f=r:(u=o(u),f=o(f));for(var s=[],e=0;256>e;e++)s.splice(s.length,0,r[e],u[e],f[e],255);return this._.extraTexture.initFromBytes(256,1,s),this._.extraTexture.use(1),n.curves=n.curves||new t(null,"uniform sampler2D texture;uniform sampler2D map;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color.r=texture2D(map,vec2(color.r)).r;color.g=texture2D(map,vec2(color.g)).g;color.b=texture2D(map,vec2(color.b)).b;gl_FragColor=color;}"),n.curves.textures({map:1}),i.call(this,n.curves,{}),this}function it(r){n.denoise=n.denoise||new t(null,"uniform sampler2D texture;uniform float exponent;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;void main(){vec4 center=texture2D(texture,texCoord);vec4 color=vec4(0.0);float total=0.0;for(float x=-4.0;x<=4.0;x+=1.0){for(float y=-4.0;y<=4.0;y+=1.0){vec4 sample=texture2D(texture,texCoord+vec2(x,y)/texSize);float weight=1.0-abs(dot(sample.rgb-center.rgb,vec3(0.25)));weight=pow(weight,exponent);color+=sample*weight;total+=weight;}}gl_FragColor=color/total;}");for(var u=0;2>u;u++)i.call(this,n.denoise,{exponent:Math.max(0,r),texSize:[this.width,this.height]});return this}function rt(r,f){return n.hueSaturation=n.hueSaturation||new t(null,"uniform sampler2D texture;uniform float hue;uniform float saturation;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float angle=hue*3.14159265;float s=sin(angle),c=cos(angle);vec3 weights=(vec3(2.0*c,-sqrt(3.0)*s-c,sqrt(3.0)*s-c)+1.0)/3.0;float len=length(color.rgb);color.rgb=vec3(dot(color.rgb,weights.xyz),dot(color.rgb,weights.zxy),dot(color.rgb,weights.yzx));float average=(color.r+color.g+color.b)/3.0;if(saturation>0.0){color.rgb+=(average-color.rgb)*(1.0-1.0/(1.001-saturation));}else{color.rgb+=(average-color.rgb)*(-saturation);}gl_FragColor=color;}"),i.call(this,n.hueSaturation,{hue:u(-1,r,1),saturation:u(-1,f,1)}),this}function ut(r){return n.noise=n.noise||new t(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){vec4 color=texture2D(texture,texCoord);float diff=(rand(texCoord)-0.5)*amount;color.r+=diff;color.g+=diff;color.b+=diff;gl_FragColor=color;}"),i.call(this,n.noise,{amount:u(0,r,1)}),this}function ft(r){return n.sepia=n.sepia||new t(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float r=color.r;float g=color.g;float b=color.b;color.r=min(1.0,(r*(1.0-(0.607*amount)))+(g*(0.769*amount))+(b*(0.189*amount)));color.g=min(1.0,(r*0.349*amount)+(g*(1.0-(0.314*amount)))+(b*0.168*amount));color.b=min(1.0,(r*0.272*amount)+(g*0.534*amount)+(b*(1.0-(0.869*amount))));gl_FragColor=color;}"),i.call(this,n.sepia,{amount:u(0,r,1)}),this}function et(r,u){return n.unsharpMask=n.unsharpMask||new t(null,"uniform sampler2D blurredTexture;uniform sampler2D originalTexture;uniform float strength;uniform float threshold;varying vec2 texCoord;void main(){vec4 blurred=texture2D(blurredTexture,texCoord);vec4 original=texture2D(originalTexture,texCoord);gl_FragColor=mix(blurred,original,1.0+strength);}"),this._.extraTexture.ensureFormat(this._.texture),this._.texture.use(),this._.extraTexture.drawTo(function(){t.getDefaultShader().drawRect()}),this._.extraTexture.use(1),this.triangleBlur(r),n.unsharpMask.textures({originalTexture:1}),i.call(this,n.unsharpMask,{strength:u}),this._.extraTexture.unuse(1),this}function ot(r){return n.vibrance=n.vibrance||new t(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float average=(color.r+color.g+color.b)/3.0;float mx=max(color.r,max(color.g,color.b));float amt=(mx-average)*(-amount*3.0);color.rgb=mix(color.rgb,vec3(mx),amt);gl_FragColor=color;}"),i.call(this,n.vibrance,{amount:u(-1,r,1)}),this}function st(r,f){return n.vignette=n.vignette||new t(null,"uniform sampler2D texture;uniform float size;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float dist=distance(texCoord,vec2(0.5,0.5));color.rgb*=smoothstep(0.8,size*0.799,dist*(amount+size));gl_FragColor=color;}"),i.call(this,n.vignette,{size:u(0,r,1),amount:u(0,f,1)}),this}function ht(r,f,o){var s,h,c;for(n.lensBlurPrePass=n.lensBlurPrePass||new t(null,"uniform sampler2D texture;uniform float power;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color=pow(color,vec4(power));gl_FragColor=vec4(color);}"),s="uniform sampler2D texture0;uniform sampler2D texture1;uniform vec2 delta0;uniform vec2 delta1;uniform float power;varying vec2 texCoord;"+e+"vec4 sample(vec2 delta){float offset=random(vec3(delta,151.7182),0.0);vec4 color=vec4(0.0);float total=0.0;for(float t=0.0;t<=30.0;t++){float percent=(t+offset)/30.0;color+=texture2D(texture0,texCoord+delta*percent);total+=1.0;}return color/total;}",n.lensBlur0=n.lensBlur0||new t(null,s+"void main(){gl_FragColor=sample(delta0);}"),n.lensBlur1=n.lensBlur1||new t(null,s+"void main(){gl_FragColor=(sample(delta0)+sample(delta1))*0.5;}"),n.lensBlur2=n.lensBlur2||new t(null,s+"void main(){vec4 color=(sample(delta0)+2.0*texture2D(texture1,texCoord))/3.0;gl_FragColor=pow(color,vec4(power));}").textures({texture1:1}),s=[],h=0;3>h;h++)c=o+2*h*Math.PI/3,s.push([r*Math.sin(c)/this.width,r*Math.cos(c)/this.height]);return r=Math.pow(10,u(-1,f,1)),i.call(this,n.lensBlurPrePass,{power:r}),this._.extraTexture.ensureFormat(this._.texture),i.call(this,n.lensBlur0,{delta0:s[0]},this._.texture,this._.extraTexture),i.call(this,n.lensBlur1,{delta0:s[1],delta1:s[2]},this._.extraTexture,this._.extraTexture),i.call(this,n.lensBlur0,{delta0:s[1]}),this._.extraTexture.use(1),i.call(this,n.lensBlur2,{power:1/r,delta0:s[2]}),this}function ct(r,u,f,o,s,h){n.tiltShift=n.tiltShift||new t(null,"uniform sampler2D texture;uniform float blurRadius;uniform float gradientRadius;uniform vec2 start;uniform vec2 end;uniform vec2 delta;uniform vec2 texSize;varying vec2 texCoord;"+e+"void main(){vec4 color=vec4(0.0);float total=0.0;float offset=random(vec3(12.9898,78.233,151.7182),0.0);vec2 normal=normalize(vec2(start.y-end.y,end.x-start.x));float radius=smoothstep(0.0,1.0,abs(dot(texCoord*texSize-start,normal))/gradientRadius)*blurRadius;for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec4 sample=texture2D(texture,texCoord+delta/texSize*percent*radius);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}");var c=f-r,l=o-u,a=Math.sqrt(c*c+l*l);return i.call(this,n.tiltShift,{blurRadius:s,gradientRadius:h,start:[r,u],end:[f,o],delta:[c/a,l/a],texSize:[this.width,this.height]}),i.call(this,n.tiltShift,{blurRadius:s,gradientRadius:h,start:[r,u],end:[f,o],delta:[-l/a,c/a],texSize:[this.width,this.height]}),this}function lt(r){return n.triangleBlur=n.triangleBlur||new t(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+e+"void main(){vec4 color=vec4(0.0);float total=0.0;float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec4 sample=texture2D(texture,texCoord+delta*percent);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}"),i.call(this,n.triangleBlur,{delta:[r/this.width,0]}),i.call(this,n.triangleBlur,{delta:[0,r/this.height]}),this}function at(r,u,f){return n.zoomBlur=n.zoomBlur||new t(null,"uniform sampler2D texture;uniform vec2 center;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;"+e+"void main(){vec4 color=vec4(0.0);float total=0.0;vec2 toCenter=center-texCoord*texSize;float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=0.0;t<=40.0;t++){float percent=(t+offset)/40.0;float weight=4.0*(percent-percent*percent);vec4 sample=texture2D(texture,texCoord+toCenter*percent*strength/texSize);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}"),i.call(this,n.zoomBlur,{center:[r,u],strength:f,texSize:[this.width,this.height]}),this}function vt(r,u,f,e){return n.colorHalftone=n.colorHalftone||new t(null,"uniform sampler2D texture;uniform vec2 center;uniform float angle;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;float pattern(float angle){float s=sin(angle),c=cos(angle);vec2 tex=texCoord*texSize-center;vec2 point=vec2(c*tex.x-s*tex.y,s*tex.x+c*tex.y)*scale;return(sin(point.x)*sin(point.y))*4.0;}void main(){vec4 color=texture2D(texture,texCoord);vec3 cmy=1.0-color.rgb;float k=min(cmy.x,min(cmy.y,cmy.z));cmy=(cmy-k)/(1.0-k);cmy=clamp(cmy*10.0-3.0+vec3(pattern(angle+0.26179),pattern(angle+1.30899),pattern(angle)),0.0,1.0);k=clamp(k*10.0-5.0+pattern(angle+0.78539),0.0,1.0);gl_FragColor=vec4(1.0-cmy-k,color.a);}"),i.call(this,n.colorHalftone,{center:[r,u],angle:f,scale:Math.PI/e,texSize:[this.width,this.height]}),this}function yt(r,u,f,e){return n.dotScreen=n.dotScreen||new t(null,"uniform sampler2D texture;uniform vec2 center;uniform float angle;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;float pattern(){float s=sin(angle),c=cos(angle);vec2 tex=texCoord*texSize-center;vec2 point=vec2(c*tex.x-s*tex.y,s*tex.x+c*tex.y)*scale;return(sin(point.x)*sin(point.y))*4.0;}void main(){vec4 color=texture2D(texture,texCoord);float average=(color.r+color.g+color.b)/3.0;gl_FragColor=vec4(vec3(average*10.0-5.0+pattern()),color.a);}"),i.call(this,n.dotScreen,{center:[r,u],angle:f,scale:Math.PI/e,texSize:[this.width,this.height]}),this}function pt(r){return n.edgeWork1=n.edgeWork1||new t(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+e+"void main(){vec2 color=vec2(0.0);vec2 total=vec2(0.0);float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec3 sample=texture2D(texture,texCoord+delta*percent).rgb;float average=(sample.r+sample.g+sample.b)/3.0;color.x+=average*weight;total.x+=weight;if(abs(t)<15.0){weight=weight*2.0-1.0;color.y+=average*weight;total.y+=weight;}}gl_FragColor=vec4(color/total,0.0,1.0);}"),n.edgeWork2=n.edgeWork2||new t(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+e+"void main(){vec2 color=vec2(0.0);vec2 total=vec2(0.0);float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec2 sample=texture2D(texture,texCoord+delta*percent).xy;color.x+=sample.x*weight;total.x+=weight;if(abs(t)<15.0){weight=weight*2.0-1.0;color.y+=sample.y*weight;total.y+=weight;}}float c=clamp(10000.0*(color.y/total.y-color.x/total.x)+0.5,0.0,1.0);gl_FragColor=vec4(c,c,c,1.0);}"),i.call(this,n.edgeWork1,{delta:[r/this.width,0]}),i.call(this,n.edgeWork2,{delta:[0,r/this.height]}),this}function wt(r,u,f){return n.hexagonalPixelate=n.hexagonalPixelate||new t(null,"uniform sampler2D texture;uniform vec2 center;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 tex=(texCoord*texSize-center)/scale;tex.y/=0.866025404;tex.x-=tex.y*0.5;vec2 a;if(tex.x+tex.y-floor(tex.x)-floor(tex.y)<1.0)a=vec2(floor(tex.x),floor(tex.y));else a=vec2(ceil(tex.x),ceil(tex.y));vec2 b=vec2(ceil(tex.x),floor(tex.y));vec2 c=vec2(floor(tex.x),ceil(tex.y));vec3 TEX=vec3(tex.x,tex.y,1.0-tex.x-tex.y);vec3 A=vec3(a.x,a.y,1.0-a.x-a.y);vec3 B=vec3(b.x,b.y,1.0-b.x-b.y);vec3 C=vec3(c.x,c.y,1.0-c.x-c.y);float alen=length(TEX-A);float blen=length(TEX-B);float clen=length(TEX-C);vec2 choice;if(alen<blen){if(alen<clen)choice=a;else choice=c;}else{if(blen<clen)choice=b;else choice=c;}choice.x+=choice.y*0.5;choice.y*=0.866025404;choice*=scale/texSize;gl_FragColor=texture2D(texture,choice+center/texSize);}"),i.call(this,n.hexagonalPixelate,{center:[r,u],scale:f,texSize:[this.width,this.height]}),this}function bt(r){return n.ink=n.ink||new t(null,"uniform sampler2D texture;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 dx=vec2(1.0/texSize.x,0.0);vec2 dy=vec2(0.0,1.0/texSize.y);vec4 color=texture2D(texture,texCoord);float bigTotal=0.0;float smallTotal=0.0;vec3 bigAverage=vec3(0.0);vec3 smallAverage=vec3(0.0);for(float x=-2.0;x<=2.0;x+=1.0){for(float y=-2.0;y<=2.0;y+=1.0){vec3 sample=texture2D(texture,texCoord+dx*x+dy*y).rgb;bigAverage+=sample;bigTotal+=1.0;if(abs(x)+abs(y)<2.0){smallAverage+=sample;smallTotal+=1.0;}}}vec3 edge=max(vec3(0.0),bigAverage/bigTotal-smallAverage/smallTotal);gl_FragColor=vec4(color.rgb-dot(edge,edge)*strength*100000.0,color.a);}"),i.call(this,n.ink,{strength:r*r*r*r*r,texSize:[this.width,this.height]}),this}function kt(t,r,f,e){return n.bulgePinch=n.bulgePinch||s("uniform float radius;uniform float strength;uniform vec2 center;","coord-=center;float distance=length(coord);if(distance<radius){float percent=distance/radius;if(strength>0.0){coord*=mix(1.0,smoothstep(0.0,radius/distance,percent),strength*0.75);}else{coord*=mix(1.0,pow(percent,1.0+strength*0.75)*radius/distance,1.0-percent);}}coord+=center;"),i.call(this,n.bulgePinch,{radius:f,strength:u(-1,e,1),center:[t,r],texSize:[this.width,this.height]}),this}function dt(t,r,u){if(n.matrixWarp=n.matrixWarp||s("uniform mat3 matrix;uniform bool useTextureSpace;","if(useTextureSpace)coord=coord/texSize*2.0-1.0;vec3 warp=matrix*vec3(coord,1.0);coord=warp.xy/warp.z;if(useTextureSpace)coord=(coord*0.5+0.5)*texSize;"),t=Array.prototype.concat.apply([],t),4==t.length)t=[t[0],t[1],0,t[2],t[3],0,0,0,1];else if(9!=t.length)throw"can only warp with 2x2 or 3x3 matrix";return i.call(this,n.matrixWarp,{matrix:r?a(t):t,texSize:[this.width,this.height],useTextureSpace:u|0}),this}function gt(n,t){var i=l.apply(null,t),r=l.apply(null,n),i=a(i);return this.matrixWarp([i[0]*r[0]+i[1]*r[3]+i[2]*r[6],i[0]*r[1]+i[1]*r[4]+i[2]*r[7],i[0]*r[2]+i[1]*r[5]+i[2]*r[8],i[3]*r[0]+i[4]*r[3]+i[5]*r[6],i[3]*r[1]+i[4]*r[4]+i[5]*r[7],i[3]*r[2]+i[4]*r[5]+i[5]*r[8],i[6]*r[0]+i[7]*r[3]+i[8]*r[6],i[6]*r[1]+i[7]*r[4]+i[8]*r[7],i[6]*r[2]+i[7]*r[5]+i[8]*r[8]])}function ni(t,r,u,f){return n.swirl=n.swirl||s("uniform float radius;uniform float angle;uniform vec2 center;","coord-=center;float distance=length(coord);if(distance<radius){float percent=(radius-distance)/radius;float theta=percent*percent*angle;float s=sin(theta);float c=cos(theta);coord=vec2(coord.x*c-coord.y*s,coord.x*s+coord.y*c);}coord+=center;"),i.call(this,n.swirl,{radius:u,center:[t,r],angle:f,texSize:[this.width,this.height]}),this}var h={},n,t,f,e;return function(){function r(n){var r,i;if(!n.getExtension("OES_texture_float"))return!1;r=n.createFramebuffer();i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,null);n.bindFramebuffer(n.FRAMEBUFFER,r);n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0);r=n.createTexture();n.bindTexture(n.TEXTURE_2D,r);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,2,2,0,n.RGBA,n.FLOAT,new Float32Array([2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));var i=n.createProgram(),t=n.createShader(n.VERTEX_SHADER),u=n.createShader(n.FRAGMENT_SHADER);return n.shaderSource(t,"attribute vec2 vertex;void main(){gl_Position=vec4(vertex,0.0,1.0);}"),n.shaderSource(u,"uniform sampler2D texture;void main(){gl_FragColor=texture2D(texture,vec2(0.5));}"),n.compileShader(t),n.compileShader(u),n.attachShader(i,t),n.attachShader(i,u),n.linkProgram(i),t=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,t),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0]),n.STREAM_DRAW),n.enableVertexAttribArray(0),n.vertexAttribPointer(0,2,n.FLOAT,!1,0,0),t=new Uint8Array(4),n.useProgram(i),n.viewport(0,0,1,1),n.bindTexture(n.TEXTURE_2D,r),n.drawArrays(n.POINTS,0,1),n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,t),127===t[0]||128===t[0]}function u(){}function f(n){return"OES_texture_float_linear"===n?(void 0===this.$OES_texture_float_linear$&&Object.defineProperty(this,"$OES_texture_float_linear$",{enumerable:!1,configurable:!1,writable:!1,value:new u}),n=this.$OES_texture_float_linear$):n=t.call(this,n),n}function e(){var n=i.call(this);return-1===n.indexOf("OES_texture_float_linear")&&n.push("OES_texture_float_linear"),n}var n,t,i;try{n=document.createElement("canvas").getContext("experimental-webgl")}catch(o){}n&&-1===n.getSupportedExtensions().indexOf("OES_texture_float_linear")&&r(n)&&(t=WebGLRenderingContext.prototype.getExtension,i=WebGLRenderingContext.prototype.getSupportedExtensions,WebGLRenderingContext.prototype.getExtension=f,WebGLRenderingContext.prototype.getSupportedExtensions=e)}(),h.canvas=function(){var t=document.createElement("canvas");try{n=t.getContext("experimental-webgl",{premultipliedAlpha:!1})}catch(i){n=null}if(!n)throw"This browser does not support WebGL";return t._={gl:n,isInitialized:!1,texture:null,spareTexture:null,flippedShader:null},t.texture=r(y),t.draw=r(w),t.update=r(b),t.replace=r(k),t.contents=r(d),t.getPixelArray=r(g),t.brightnessContrast=r(nt),t.hexagonalPixelate=r(wt),t.hueSaturation=r(rt),t.colorHalftone=r(vt),t.triangleBlur=r(lt),t.unsharpMask=r(et),t.perspective=r(gt),t.matrixWarp=r(dt),t.bulgePinch=r(kt),t.tiltShift=r(ct),t.dotScreen=r(yt),t.edgeWork=r(pt),t.lensBlur=r(ht),t.zoomBlur=r(at),t.noise=r(ut),t.denoise=r(it),t.curves=r(tt),t.swirl=r(ni),t.ink=r(bt),t.vignette=r(st),t.vibrance=r(ot),t.sepia=r(ft),t},h.splineInterpolate=o,t=function(){function i(t,i){var r=n.createShader(t);if(n.shaderSource(r,i),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw"compile error: "+n.getShaderInfoLog(r);return r}function t(t,f){if(this.texCoordAttribute=this.vertexAttribute=null,this.program=n.createProgram(),t=t||r,f=f||u,f="precision highp float;"+f,n.attachShader(this.program,i(n.VERTEX_SHADER,t)),n.attachShader(this.program,i(n.FRAGMENT_SHADER,f)),n.linkProgram(this.program),!n.getProgramParameter(this.program,n.LINK_STATUS))throw"link error: "+n.getProgramInfoLog(this.program);}var r="attribute vec2 vertex;attribute vec2 _texCoord;varying vec2 texCoord;void main(){texCoord=_texCoord;gl_Position=vec4(vertex*2.0-1.0,0.0,1.0);}",u="uniform sampler2D texture;varying vec2 texCoord;void main(){gl_FragColor=texture2D(texture,texCoord);}";return t.prototype.destroy=function(){n.deleteProgram(this.program);this.program=null},t.prototype.uniforms=function(t){var u,r,i;n.useProgram(this.program);for(u in t)if(t.hasOwnProperty(u)&&(r=n.getUniformLocation(this.program,u),null!==r))if(i=t[u],"[object Array]"==Object.prototype.toString.call(i))switch(i.length){case 1:n.uniform1fv(r,new Float32Array(i));break;case 2:n.uniform2fv(r,new Float32Array(i));break;case 3:n.uniform3fv(r,new Float32Array(i));break;case 4:n.uniform4fv(r,new Float32Array(i));break;case 9:n.uniformMatrix3fv(r,!1,new Float32Array(i));break;case 16:n.uniformMatrix4fv(r,!1,new Float32Array(i));break;default:throw"dont't know how to load uniform \""+u+'" of length '+i.length;}else if("[object Number]"==Object.prototype.toString.call(i))n.uniform1f(r,i);else throw'attempted to set uniform "'+u+'" to invalid value '+(i||"undefined").toString();return this},t.prototype.textures=function(t){n.useProgram(this.program);for(var i in t)t.hasOwnProperty(i)&&n.uniform1i(n.getUniformLocation(this.program,i),t[i]);return this},t.prototype.drawRect=function(t,i,r,u){var f=n.getParameter(n.VIEWPORT);i=void 0!==i?(i-f[1])/f[3]:0;t=void 0!==t?(t-f[0])/f[2]:0;r=void 0!==r?(r-f[0])/f[2]:1;u=void 0!==u?(u-f[1])/f[3]:1;null==n.vertexBuffer&&(n.vertexBuffer=n.createBuffer());n.bindBuffer(n.ARRAY_BUFFER,n.vertexBuffer);n.bufferData(n.ARRAY_BUFFER,new Float32Array([t,i,t,u,r,i,r,u]),n.STATIC_DRAW);null==n.texCoordBuffer&&(n.texCoordBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,n.texCoordBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),n.STATIC_DRAW));null==this.vertexAttribute&&(this.vertexAttribute=n.getAttribLocation(this.program,"vertex"),n.enableVertexAttribArray(this.vertexAttribute));null==this.texCoordAttribute&&(this.texCoordAttribute=n.getAttribLocation(this.program,"_texCoord"),n.enableVertexAttribArray(this.texCoordAttribute));n.useProgram(this.program);n.bindBuffer(n.ARRAY_BUFFER,n.vertexBuffer);n.vertexAttribPointer(this.vertexAttribute,2,n.FLOAT,!1,0,0);n.bindBuffer(n.ARRAY_BUFFER,n.texCoordBuffer);n.vertexAttribPointer(this.texCoordAttribute,2,n.FLOAT,!1,0,0);n.drawArrays(n.TRIANGLE_STRIP,0,4)},t.getDefaultShader=function(){return n.defaultShader=n.defaultShader||new t,n.defaultShader},t}(),v.prototype.interpolate=function(n){for(var t,u,i=0,r=this.ya.length-1;1<r-i;)t=r+i>>1,this.xa[t]>n?r=t:i=t;return t=this.xa[r]-this.xa[i],u=(this.xa[r]-n)/t,n=(n-this.xa[i])/t,u*this.ya[i]+n*this.ya[r]+((u*u*u-u)*this.y2[i]+(n*n*n-n)*this.y2[r])*t*t/6},f=function(){function i(t,i,r,u){this.gl=n;this.id=n.createTexture();this.width=t;this.height=i;this.format=r;this.type=u;n.bindTexture(n.TEXTURE_2D,this.id);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);t&&i&&n.texImage2D(n.TEXTURE_2D,0,this.format,t,i,0,this.format,this.type,null)}function u(n){return null==r&&(r=document.createElement("canvas")),r.width=n.width,r.height=n.height,n=r.getContext("2d"),n.clearRect(0,0,r.width,r.height),n}i.fromElement=function(t){var r=new i(0,0,n.RGBA,n.UNSIGNED_BYTE);return r.loadContentsOf(t),r};i.prototype.loadContentsOf=function(t){this.width=t.width||t.videoWidth;this.height=t.height||t.videoHeight;n.bindTexture(n.TEXTURE_2D,this.id);n.texImage2D(n.TEXTURE_2D,0,this.format,this.format,this.type,t)};i.prototype.initFromBytes=function(t,i,r){this.width=t;this.height=i;this.format=n.RGBA;this.type=n.UNSIGNED_BYTE;n.bindTexture(n.TEXTURE_2D,this.id);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t,i,0,n.RGBA,this.type,new Uint8Array(r))};i.prototype.destroy=function(){n.deleteTexture(this.id);this.id=null};i.prototype.use=function(t){n.activeTexture(n.TEXTURE0+(t||0));n.bindTexture(n.TEXTURE_2D,this.id)};i.prototype.unuse=function(t){n.activeTexture(n.TEXTURE0+(t||0));n.bindTexture(n.TEXTURE_2D,null)};i.prototype.ensureFormat=function(t,i,r,u){if(1==arguments.length){var f=arguments[0];t=f.width;i=f.height;r=f.format;u=f.type}(t!=this.width||i!=this.height||r!=this.format||u!=this.type)&&(this.width=t,this.height=i,this.format=r,this.type=u,n.bindTexture(n.TEXTURE_2D,this.id),n.texImage2D(n.TEXTURE_2D,0,this.format,t,i,0,this.format,this.type,null))};i.prototype.drawTo=function(t){if(n.framebuffer=n.framebuffer||n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,n.framebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.id,0),n.checkFramebufferStatus(n.FRAMEBUFFER)!==n.FRAMEBUFFER_COMPLETE)throw Error("incomplete framebuffer");n.viewport(0,0,this.width,this.height);t();n.bindFramebuffer(n.FRAMEBUFFER,null)};var r=null;return i.prototype.fillUsingCanvas=function(t){return t(u(this)),this.format=n.RGBA,this.type=n.UNSIGNED_BYTE,n.bindTexture(n.TEXTURE_2D,this.id),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),this},i.prototype.toImage=function(i){var f;this.use();t.getDefaultShader().drawRect();var e=4*this.width*this.height,o=new Uint8Array(e),s=u(this),h=s.createImageData(this.width,this.height);for(n.readPixels(0,0,this.width,this.height,n.RGBA,n.UNSIGNED_BYTE,o),f=0;f<e;f++)h.data[f]=o[f];s.putImageData(h,0,0);i.src=r.toDataURL()},i.prototype.swapWith=function(n){var t;t=n.id;n.id=this.id;this.id=t;t=n.width;n.width=this.width;this.width=t;t=n.height;n.height=this.height;this.height=t;t=n.format;n.format=this.format;this.format=t},i}(),e="float random(vec3 scale,float seed){return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453+seed);}",h}(),RssEasy={Deviceid:1,netonline:!0,Closure:function(n){n()},body:$(document.body)},RssApp={ImgToken:"",SmsToken:"",initqueue:[],init:function(){$.each(this.initqueue,function(n,t){t.constructor==Function&&t()})}},RssPopup={},RssLive={},RssPay={},RssOS={agent:(location.hostname+navigator.userAgent).toLowerCase().replace(/\s/img,""),os:"",isios:!1,isandroid:!1,iswx:!1,iswxios:!1,ispc:!1,isrssapp:!1,isrsspc:!1,iswxsmall:!1,statusbarheight:0,plat:"",iever:0,parse:function(){this.agent.replace(/msie(\d+)/,function(n,t){RssOS.iever=parseInt(t)<10});this.plat=(this.agent.match(/miniprogram/)||this.agent.match(/micromessenger|mqqbrowser|rsseasyios|rsseasyand|rsseasywin/))+"";this.os=this.agent.match(/windows|android|iphone|ipad|ipod|rsseasy/)+"";switch(this.plat){case"miniprogramhtmlwebview":case"miniprogram":this.iswxsmall=!0;break;case"rsseasyios":this.os="ios";this.isios=!0;this.isrssapp=!0;break;case"rsseasyand":this.os="android";this.isandroid=!0;this.isrssapp=!0;break;case"rsseasywin":this.ispc=!0;this.isrsspc=!0;break;case"micromessenger":case"mqqbrowser":this.iswx=!0}switch(this.os){case"iphone":case"ipad":case"ipod":this.os="ios";this.isios=!0;break;case"android":this.isandroid=!0;break;case"windows":this.ispc=!0}(this.iswx||this.iswxsmall)&&this.isios&&(this.iswxios=!0);RssOS.statusbarheight=RssOS.isrssapp?parseInt(this.agent.match(/statusbarheight\d+/).toString().replace("statusbarheight",""))||25:0}};RssOS.parse();RssOS.isrssapp&&(page=$("body > section").not(".noheader"),page.find("header").css("padding-top",RssOS.statusbarheight),page.find("header a").css("top",RssOS.statusbarheight),page.find("article").css("top",page.find("header").outerHeight()));$.isDateTime=function(n){return n&&/^\d{4}.\d{1,2}.\d{1,2}(\s\d{1,2}:\d{1,2}:\d{1,2})?$/.test(n)};Cookie={};Cookie.Get=function(n){if(document.cookie)return(n=document.cookie.replace(/; /img,";").toKeyValue(";")[n],n)?decodeURIComponent(n):n==undefined?!1:""};Cookie.Set=function(n,t,i,r){var f,u;return(t=t==undefined?"":""+t,f=/^s?[\d\w\u4e00-\u9fa5]*$/img,!n.match(f))?!1:(i=i||"",i&&(u=new Date,u.setDate(u.getDate()+i),i=";expires="+(window.ActiveXObject?u.toGMTString():u)),r=r?";domain="+r:"",document.cookie=n+"="+encodeURIComponent(t)+";path=/"+i+r,this)};Cookie.Remove=function(n){Cookie.Set(n,"",-100)};Cookie.RemoveAll=function(){for(var t=document.cookie.split("; "),i=t.length,n=0;n<i;n++)Cookie.Remove(t[n].split("=")[0])};Storage={};Storage.Set=function(n,t){t=encodeURIComponent(t);this.remove(n);window.localStorage?window.localStorage.setItem(n,t):Cookie.Set(n,t,360)};Storage.Get=function(n){var t=window.localStorage?window.localStorage.getItem(n):Cookie.Get(n);return t?decodeURIComponent(t):!1};Storage.remove=function(n){window.localStorage?window.localStorage.removeItem(n):Cookie.Remove(n)};Storage.setJson=function(n,t){t.constructor==Object&&(t=Object.toJson(t));this.Set(n,t)};Storage.getJson=function(n){return decodeURIComponent(this.Get(n)||"{}").toJson()};Storage.push=function(n,t){var i=this.Get(n).toJson()||[];i.push(t);Storage.Set(n,JSON.stringify(i))};Storage.pop=function(n){var t=this.Get(n).toJson()||[];return t.length?t.pop():""};String.prototype.trimleft=function(){return this.replace(/^\s+/,"")};String.prototype.trimright=function(){return this.replace(/\s+$/,"")};String.prototype.trim=function(){return this.trimleft().trimright()};String.prototype.toJson=function(){return eval("("+this+")")};String.prototype.templete=function(n){return this.replace(/\$\{[^\}]+\}/img,function(t){var i=t.substring(2,t.length-1);return n[i]||i})};String.prototype.delHtml=function(){return this.replace(/<.+?>/img,"")};String.prototype.getEntity=function(){for(var n="",i=this.length,t=0;t<i;t++)n=n+"&#"+this.charCodeAt(t)+";";return n};String.prototype.getIdCard=function(){var n=this;return this.length==17&&(n+="X"),n};String.prototype.toFixed=function(n){return parseFloat(this).toFixed(n)};String.prototype.toEntity=function(){for(var i=arguments.length,t=this,n=0;n<i;n++)t=t.replace(new RegExp(arguments[n],"img"),arguments[n].getEntity());return t};String.prototype.toTimeLine=function(){return this.ParseDate().toTimeLine()};String.prototype.toKeyValue=function(n){var t,i;if(!this.replace(/\s/img,""))return{};var r=this.split(n||"&"),f=r.length,u={};for(t=0;t<f;t++)i=r[t].split("="),u[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);return u};String.prototype.filter=function(n){var t=this,n=n||"*";return $.each(rydata.filterword,function(i,r){t=t.replace(new RegExp(r,"img"),function(t){return t.replace(/./g,n)})}),t};String.prototype.round=function(n){var t=parseFloat(isNaN(this)?0:this).round(n);return t=t+1/Math.pow(10,n+1)+"",t.substring(0,t.indexOf(".")+n+1)};String.prototype.idcard=function(n){return this+(this.length>17?"":n?"X":"x")};String.prototype.padleft=function(n,t){var i=this.length,f=this,r,u;for(t=t||"0",i=n-i,r="",u=0;u<i;u++)r+=t;return r+f};String.prototype.padright=function(n,t){var i=this.length,f=this,r,u;for(t=t||"0",i=n-i,r="",u=0;u<i;u++)r+=t;return f+r};String.prototype.ParseDate=function(){try{var n=this.match(/\d+/img);return n[1]=n[1]-1,new Date(parseInt(n[0]),parseInt(n[1]),parseInt(n[2]),parseInt(n[3])||0,parseInt(n[4])||0,parseInt(n[5])||0)}catch(t){return new Date}};String.prototype.trans=function(n){return parseFloat(this).trans(n)};String.prototype.tomoney=function(n,t){var u="",c=this.match(/^\d/)&&this.indexOf(".")==-1?this+".00":this,f=c.split("."),i,e,r;if(t){var o=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖","拾"],s=["亿","万","仟","佰","拾","兆","万","仟","佰","拾","亿","仟","佰","拾","万","仟","佰","拾","元","角","分"].reverse(),h=f[0].length;for(i=0;i<h;i++)u+=o[f[0].substr(i,1)]+s[h-i+1];for(i=0;i<2;i++)u+=o[f[1].substr(i,1)]+s[1-i]}else f[0]&&(e=/(\d{1,3})?(\d{3})?(\d{3})?(\d{3})?(\d{3})?$/,r=e.exec(f[0]),r&&(r.splice(0,1),u=r.toString())),f[1]&&(e=/^(\d{3})?(\d{3})?(\d{3})?(\d{3})?(\d{1,3})?/,r=e.exec(f[1]),r&&(r.splice(0,1),u+="."+r.toString())),u=u.replace(/,{2,}/g,",").replace(",.",".").replace(".,",".");return u||n||"0.00"};String.prototype.getpinyin=function(n){if(!window.chineseword)return this;n=n===undefined;var i=this.split(""),t="";return $.each(i,function(i,r){try{var u=chineseword[r];t+=n?u.replace(/^[a-z]/i,function(n){return n.toUpperCase()}):u}catch(f){console.log("字典中无此汉字："+r)}}),t};String.prototype.maskchar=function(n,t){var i=this.length;return i<t?this:t?this.substring(0,n)+"".padright(t,"*")+this.substring(n+t):this.substring(0,n)+"".padright(i-2*n,"*")+this.substring(i-n)};String.prototype.equals=function(n){return this===n+""};String.prototype.delTitle=function(){return this.replace(/(title="[^"]+")/img,function(n,t){return n.replace(t,"")})};String.prototype.imgFullUrl=function(n){return this.replace(/src="\/upfile\//img,'src="'+(n||RssUpFile.DoMain))};String.prototype.highlight=function(n,t){return t="highlight "+(t||"red"),this.replace(new RegExp(n,"mg"),'<b class="'+t+'">'+n+"<\/b>")};Date.prototype.subtract=function(n){return typeof n=="string"&&(n=n.ParseDate()),this-n};Date.prototype.addYear=function(n){return this.setFullYear(this.getFullYear()+n)};Date.prototype.addMonth=function(n){return this.setMonth(this.getMonth()+n)};Date.prototype.addDay=function(n){return this.setDate(this.getDate()+n)};Date.prototype.addHour=function(n){return this.setHours(this.getHours()+n)};Date.prototype.addMinutes=function(n){return this.setMinutes(this.getMinutes()+n)};Date.prototype.addSeconds=function(n){return this.setSeconds(this.getSeconds()+n)};Date.prototype.addMilliseconds=function(n){return this.setMilliseconds(this.getMilliseconds()+n)};Date.prototype.getCnWeek=function(){return["日","一","二","三","四","五","六"][this.getDay()]};Date.prototype.getFirstDayWeek=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.getDay()};Date.prototype.getPreMonthDay=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.setDate(n.getDate()-1),parseInt(n.getDate())};Date.prototype.getNextMonthDay=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.setMonth(n.getMonth()+2),n.setDate(n.getDate-1),parseInt(n.getDate())};Date.prototype.getMaxDay=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),parseInt(n.getDate())};Date.prototype.getPreMonth=function(){var n=this.toString("yyyy-MM-dd").ParseDate();return n.setDate(1),n.setMonth(n.getMonth()-1),n};Date.prototype.getTimestamp=function(){return parseInt(this.getTime()/1e3)};Date.prototype.getNextMonth=function(){var n=this.toString("yyyy-MM-dd").ParseDate();return n.setDate(1),n.setMonth(n.getMonth()+1),n};Date.prototype.toString=function(n,t){var r,u,i;n=n||"yyyy-MM-dd HH:mm:ss";r={yyyy:this.getFullYear(),yy:this.getFullYear().toString().substring(2),MM:this.getMonth()+1,dd:this.getDate(),HH:this.getHours(),hh:this.getHours(),mm:this.getMinutes(),ss:this.getSeconds(),ms:this.getMilliseconds()};for(u in r)i=r[u],i.toString()<10&&(i="0"+i),n=n.replace(u,i);return t?this.toTimeLine(n):n};Date.prototype.toTimeLine=function(n){var t=parseInt((new Date).subtract(this)/1e3),i=parseInt(t/24*3600);switch(i){case 3:return this.toString("MM月dd日 hh:mm");case 2:return this.toString("前天 hh:mm");case 1:return this.toString("昨天 hh:mm");case 0:return t>60?this.toString("今天 hh:mm"):(t||1)+"秒前";default:return this.toString(n)}};Date.prototype.getAge=function(){return(new Date).getFullYear()-this.getFullYear()};Date.time=function(n){return(n+"").padleft(6,0).replace(/(\d{2})(\d{2})(\d{2})$/,"$1:$2:$3")};Date.date=function(n){return(n+"").replace(/(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3")};Date.format=function(n,t){return new Date(n*1e3).toString(t||"yyyy-MM-dd HH:mm:ss")};Number.prototype.round=function(n){var t=Math.pow(10,n);return Math.round(this*t)/t};Number.prototype.floor=function(n){var t=Math.pow(10,n);return Math.floor(this*t)/t};Number.prototype.tomoney=function(n){return this.toString().tomoney(n)};Number.prototype.trans=function(n){var r;n=n||0;var i=this.toFixed(n),t=i.indexOf("."),i=t>0?i.substring(0,t):i;return this<1e4?this.toFixed(n):(t=Math.floor(i.length/4),r=["","万","亿","兆"],(this/Math.pow(1e4,t)).toFixed(n)+r[t])};RssLBS={};RssLBS.getDegTable=function(n){return n*Math.PI/180};RssLBS.getDistance=function(n,t,i,r){var u,f;arguments.length==2&&(u=$.extend(null,n),f=$.extend(null,t),n=u.lng,t=u.lat,i=f.lng,r=f.lat);var o=this.getDegTable(t),s=this.getDegTable(r),h=o-s,c=this.getDegTable(n)-this.getDegTable(i),e=2*Math.asin(Math.sqrt(Math.pow(Math.sin(h/2),2)+Math.cos(o)*Math.cos(s)*Math.pow(Math.sin(c/2),2)));return e=e*6378.137,e.toFixed(3)};RssLBS.getClosest=function(n,t){return t.length>1&&t.sort(function(t,i){return RssLBS.getDistance(n.lng,n.lat,t.lng,t.lat)-RssLBS.getDistance(n.lng,n.lat,i.lng,i.lat)}),t[0]};RssLBS.getLatestPath=function(n,t,i){for(var u=[n],r=n;i;)if(r=this.getClosest(r,i),u.push(r),$.each(i,function(n,t){if(r.lng==t.lng&&r.lat==t.lat)return i.splice(n,1),!1}),!i.length)break;return t&&u.push(t),u};RssLBS.isContains=function(n,t){for(var r=0,u=t.length,f=u-1,i=0;i<u;i++)if(i!==f&&(r=this.getDistance(t[i],t[i+1]),this.getDistance(n,t[i])<r&&this.getDistance(n,t[i+1])<r))return!0;return!1};RssLBS.getMatchRatio=function(n,t,i){var u=RssLBS.isContains(n,i),f=RssLBS.isContains(t,i),e=i.length-1,r=RssLBS.getDistance(n,t);return u&&f?RssLBS.getDistance(n,i[0])<RssLBS.getDistance(t,i[1])?100:0:u?this.getDistance(t,i[0])>r?parseInt(RssLBS.getDistance(n,i[e])/r*100):0:f?RssLBS.getDistance(n,i[e])>r?parseInt(RssLBS.getDistance(t,i[0])/r*100):0:0};RssLBS.amapToBaiDu=function(n,t){var i=Math.PI*3e3/180,r=Math.sqrt(n*n+t*t)+2e-5*Math.sin(t*i),u=Math.atan2(t,n)+3e-6*Math.cos(n*i);return{lat:r*Math.sin(u)+.006,lng:r*Math.cos(u)+.0065}};Object.Has=function(n){for(var t in n)return!0;return!1};Object.Query=function(n,t){var r,e,o,u,f,i;try{if(!n||!t)return n||{};r={};switch(t.constructor){case Array:e=t[0];o=t[1];$.each(n,function(n,t){t[e]==o&&(r[n]=t)});break;case Number:case String:for(i in n)n[i]==t&&(r[i]=n[i]);break;case Object:for(u in t){f=t[u];t[u].constructor!=RegExp&&(f=new RegExp("^"+t[u]+"$","img"));for(i in n)n[i][u].toString().match(f)&&(r[i]=n[i])}break;default:r=n}return r}catch(s){alert("在对像查询中出现错误："+t+","+s.messaage)}};Object.toJson=function(n,t){if(!n)return null;if(n.constructor==Array)return Array.toJson(n);t&&(n=this.Query(n,t));var u="",r=null,i=null;for(r in n){i=n[r]==null||n[r]===undefined?"":n[r];r='"'+r+'"';switch(i.constructor){case String:i='"'+i.toEntity('"')+'"';break;case Array:i=Array.toJson(i);break;case Boolean:i="true";break;case Object:i=Object.toJson(i)}u+=r+":"+i+","}return u.length>1&&(u=u.substring(0,u.length-1)),"{"+u+"}"};Object.toQueryString=function(n){var t=[];return $.each(n,function(n,i){t.push(n+"="+encodeURIComponent(i))}),t.join("&")};Object.Count=function(n,t){var i=0,r;t&&(n=this.Query(n,t));for(r in n)i++;return i};Object.format=function(n,t){return $.each(n,function(i,r){t[i]&&(n[i]=t[i](r))}),n};Object.fieldmap=function(n,t){var i={};switch(typeof n){case"array":i=[];$.each(n,function(n,r){var u={};$.each(r,function(n,i){u[t[n]||n]=i});i.push(u)});break;case"object":$.each(n,function(n,r){i[t[n]||n]=r})}return i};Object.grouping=function(n,t,i){var r={};return i=i||"",$.each(n,function(n,u){var f=i+u[t];r[f]||(r[f]=[]);r[f].push(u)}),r};Object.toItem=function(n,t,i){var u=[],r="",i=i||{};return $.each(n,function(n,f){var e={};e[t[0]]=n;$.each(f,function(n,u){r=t[n+1];e[r]=i[r]?i[r](u):u});u.push(e)}),u};Array.IsExist=function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i]==t)return i;return!1};Array.toKeyValue=function(n){for(var i={},r=n.length,t=0;t<r;t++)i[n[t]]=t+1;return i};Array.toJson=function(n){for(var i="",t=null,u=n.length,r=0;r<u;r++){t=n[r];isNaN(t)||(t=parseInt(t)||t);switch(t.constructor){case Number:break;case String:t='"'+t.toEntity('"')+'"';break;case Array:t=Array.toJson(t);break;case Object:t=Object.toJson(t);break;default:t='"'+t.toString().toEntity('"')+'"'}i+=t+","}return i.length>1&&(i=i.substring(0,i.length-1)),"["+i+"]"};Array.copy=function(n){var t=[];return $.each(n,function(n,i){t[n]=i}),t};$("[contenteditable]").keydown(function(n){n.keyCode===9&&n.preventDefault()});jQuery.fn.extend({def:function(){var n=$(this);return n=n.add(n.find("[data-def]")),n.each(function(){var n=$(this);n.htmlval(n.data("def"))})},htmlval:function(n){var t=$(this);switch(t.get(0).tagName.toLowerCase()){case"input":switch(t.attr("type")){case"checkbox":case"radio":t.val(n.split(","))}case"select":case"textarea":t.val(n);break;default:t.html(n)}return t},iscroll:function(n){return $(this).data("iscroll")||new IScroll(this.get(0),n||{})},highlight:function(n,t){var i=$(this);return i.html(i.html().highlight(n,t))},barcode:function(n,t){$(this).each(function(){var i=$(this),r=("barcode"+Math.random()).replace("0.","");i.attr("id",r);JsBarcode("#"+r,i.attr("barcode")||n,$.extend({displayValue:!0,fontSize:12,height:40},t))})},cascade:function(){return $(this).each(function(){function f(o){var y=Object.Query(e,[1,o]),h="",l;if($.each(y,function(n,t){h+='<option value="'+n+'">'+t[0]+"<\/option>"}),h.length!=0){var s=n.find("select"),a=s.length,c=t[a],v=r[a];c||(c=t[0],s.removeAttr("name"),s.removeAttr("id"));v&&(h='<option value="">'+v+"<\/option>"+h);s=$("<select "+(c?' name="'+c+'"':"")+(u?'multiple size="'+u+'"':"")+"><\/select>");s.html(h);n.append(s);s.change(function(){for(var n=$(this);n.next().length;)n.next().remove();f(this.value)});l=i[a]||"";l&&s.find("option[value='"+l+"']").length&&s.val(l);s.change()}}var n=$(this),e=rydata[n.attr("ry-cascade")]||{},t=n.data("name"),i=n.data("val")+"",r=n.data("first"),u=n.data("multiple")||0;t=t?t.split(","):[];i=i?i.split(","):[];r=r?r.split(","):[];f(0)})},vcenter:function(){return $(this).each(function(){var n=$(this),t=n.outerHeight(),i=n.parent().height();n.css("margin-top",(i-t)/2)}),$(this)},horizontalslip:function(){$(this).each(function(){function h(){l>0&&!i&&(i=setInterval(function(){++r>=s&&(r=0);u.eq(r).mouseover()},l))}var e=$(this),f=0,n=e.attr("horizontalslip").split(","),u=e.find(n[0]),t=$("#"+n[1]),o,s,c;t.find(">*").each(function(n){$(this).attr("idx",n)});o=n[2];n[3]=="auto";s=u.length;c=parseInt(n[4]||1e3);t.show();var l=parseInt(n[5]||0),i=null,r=0;u.mouseover(function(){r=$(this).index();u.removeClass(o);$(this).addClass(o);var n=t.find("[idx="+r+"]").index(),i=-n*f;t.stop();t.animate({marginLeft:i},c,function(){for(var i=0;i<n;i++)t.append(t.find(">*").first());t.css({"margin-left":0})})}).mouseout(h).mousemove(function(n){n.stopPropagation();i&&(clearInterval(i),i=null)});t.mouseover(function(n){n.stopPropagation();i&&(clearInterval(i),i=null)}).mouseout(h);n[6]&&$("#"+n[6]).click(function(){u.eq(++r).mouseover()});n[7]&&$("#"+n[7]).click(function(){u.eq(--r).mouseover()});h()})},loopslip:function(){$(this).each(function(){function h(){r=parseInt(i[1])||n.parent().width();n.find(">*").width(r);n.width(n.find(">*").length*r)}function a(){o.length&&(o.removeClass(),o.eq(n.find(">*").first().attr("idx")).addClass("selected"))}function s(){f>0&&(u&&(clearTimeout(u),u=null),u=setTimeout(function(){e.click()},f))}var t=$(this),r=0,f=0,i=t.attr("loopslip").split(","),n,u;f=parseInt(i[3]||0);n=$("#"+i[0]);n.show();i[1]=="auto"&&$(window).resize(h);h();var c=parseInt(i[2]||1e3),v=t.find("[loopleft]"),l=t.find("[loopright]"),e=l,o=t.find("#"+i[4]+">*");t.find("[loopleft]").click(function(){e=v;n.stop(!1,!0);a();n.animate({"margin-left":-r},c,function(){var t=n.find(">*");n.append(t.first());n.css({"margin-left":0});s()})});t.find("[loopright]").click(function(){e=l;var t=n.find(">*"),i=t.last();i.insertBefore(t.first());n.css({"margin-left":-r});n.stop();a();n.animate({"margin-left":0},c,function(){s()})});u=null;s()})},verticalslip:function(){$(this).each(function(){function h(){f=parseInt(n[3])||r.find(">*").first().height();r.parent().height(f)}function c(){autotime>0&&(u=setTimeout(function(){++t>=l&&(t=0);i.eq(t).mouseover()},autotime))}var o=$(this),n=o.attr("verticalslip").split(","),i=o.find(n[0]),l=i.length,r=$("#"+n[1]),s=n[2],f=0;n[3]=="auto"&&$(window).resize(h);h();var a=parseInt(n[4]||1e3),t=0,u=null;i.mouseover(function(){e.stopPropagation();u&&(clearTimeout(u),u=null);t=$(this).index();i.removeClass(s);$(this).addClass(s);r.stop();var n=-t*f;r.animate({marginTop:n},a,function(){c()})});n[6]&&$("#"+n[6]).click(function(){i.eq(++t).mouseover()});n[7]&&$("#"+n[7]).click(function(){i.eq(--t).mouseover()});c()})},switchslip:function(){$(this).each(function(){var e=$(this),t=e.attr("switchslip").split(","),n=e.children(),o=$("#"+t[0]).find(">*"),s=t[1],r=parseInt(t[2]||1e3),u=o.first(),f,i;if(n.mouseover(function(t){t.stopPropagation();n.removeClass(s);u=$(this).addClass(s);o.fadeOut(r).eq(u.index()).fadeOut(0).stop(!1,!0).fadeIn(r)}),n.first().mouseover(),f=parseInt(t[3]||0),f>0&&n.length>1){i=null;function h(){i=setInterval(function(){var t=u.next();t.length||(t=n.first());t.mouseover()},f+r)}n.parent().mouseover(function(){i&&clearInterval(i)}).mouseleave(function(){h()});h()}})},tabswitch:function(){$(this).each(function(){var i=$(this),r=i.attr("tabswitch"),n=i.find(">li"),t=$("#"+r).find(">*");t.hide();n.click(function(i){i.preventDefault();var r=$(this);n.removeClass("current");r.addClass("current");t.hide();t.eq(r.index()).show()});n.first().click()})},scrolltoel:function(){$(this).click(function(){var n=$(this).attr("scrolltoel").split(",");scrollBarTop($("#"+n[0]).offset().top+parseInt(n[1]||0))})},backtotop:function(){$(this).click(function(){scrollBarTop(0)})},underline:function(){$(this).each(function(){var f=$(this),n=f.attr("underline").split(","),r=f.find(n[0]),t=$("#"+n[1]);t.show();var e=parseInt(n[2]||200),u=parseInt(n[3])||0,i=r.first();r.mouseover(function(){i=$(this);t.stop();t.animate({left:i.offset().left-u/2,width:i.outerWidth()+u},e)});r.eq(n[4]||0).mouseover();$(window).resize(function(){t.css("left",i.offset().left-u/2)})})},trfirstcheck:function(){return $(this).find("tr").each(function(){var t=$(this),n=t.find("td").first().find("input");t.click(function(t){t.target.tagName.toLowerCase()!="input"&&n.prop("checked",!n.prop("checked"))});n.click(function(n){n.stopPropagation()})})},touchslide:function(){return this.each(function(){var n=$(this),f=n.parent(),r=parseInt(n.attr("slidezoom"))?!0:!1,e=parseInt(n.css("z-index"))?!0:!1,u=n.offset(),o=u.left,s=u.top,i=1,t=1;if(r)n.on("mouseover.rsseasy",function(){n.on("mousewheel.rsseasy",function(t){t.deltaY>0?i+=.1:i-=.1;data={zoom:i};n.trigger("slidezoom",data)})}).on("mouseout.rsseasy",function(){n.off("mousewheel.rsseasy")});n.on("touchstart.rsseasy mousedown.rsseasy",function(i){var a=i.type=="touchstart"?i.originalEvent.touches[0]:i,y=a.pageX,p=a.pageY,u=n.offset(),b=y-u.left,k=p-u.top,c=0,l=0,d=n.height(),g=n.width(),v=0,w=0,h="";data={x:parseInt(i.pageX-u.left),y:parseInt(i.pageY-u.top),left:u.left,top:u.top,pageX:a.pageX,pageY:a.pageY,touch:i.type=="touchstart"};f.attr("zindex")&&n.css("z-index",1e3);i.type=="touchstart"&&i.originalEvent.touches.length>1&&(v=parseInt(Math.abs(i.originalEvent.touches[0].pageY-i.originalEvent.touches[1].pageY)*100)/100);n.trigger("slidestart",data);n.parent().on("touchmove.rsseasy mousemove.rsseasy mousewheel.rsseasy",function(i){var f,e;i.stopPropagation();f=i.type=="touchmove"?i.originalEvent.touches[0]:i;c=f.pageX;l=f.pageY;mx=c-y;my=l-p;data={x:parseInt(c-u.left),y:parseInt(l-u.top),left:parseInt(c-b-o),top:parseInt(l-k-s),moveX:mx,moveY:my};mx=Math.abs(c-y);my=Math.abs(l-p);r&&i.type=="touchmove"&&i.originalEvent.touches.length>1?(e=Math.abs(i.originalEvent.touches[0].pageY-i.originalEvent.touches[1].pageY),v>0&&Math.abs(e-v)>4&&(w=parseInt(e/v*100)/100,data={zoom:t+w},n.trigger("slidezoom",data))):(n.trigger("slidemove",data),h||(mx>2&&(h="xaxis"),my>2&&(h="yaxis")),h&&n.trigger("slide"+h,data))});n.parent().on("touchend.rsseasy mouseup.rsseasy",function(){h="";t=t+w;Math.ceil(t)>=2&&(t-=1);n.css("z-index",e);n.trigger("slideend",data);n.parent().off(".rsseasy")})})})},pageslide:function(){return $(this).each(function(){var n=$(this),f;wrap=n.parent();items=n.children();var u={dis:parseInt(n.attr("dis")||60),auto:parseInt(n.attr("auto")||0),speed:parseInt(n.attr("speed")||1e3)},o=0,r=wrap.width()||$(window).width(),i=items.length,s=i*r,t=0;if(items.width(r),n.width(r*i),n.on("slidexaxis",function(n,t){$(this).css("margin-left",t.left)}).on("slideend",function(f,e){var s=e.left;Math.abs(s)>u.dis&&(t=Math.abs(s/r),t=e.moveX>0?Math.floor(t):Math.ceil(t),t>=i&&(t=i-1));o=-t*r;$(this).stop().animate({"margin-left":o},200);n.trigger("pageslideend",{totalpage:i,curpage:t+1})}).touchslide(),u.auto>0){items.each(function(n){$(this).attr("idx",n)});f=null;n.on("slidestart",function(){n.stop();f&&(clearTimeout(f),f=null)});function e(){if(i<2){n.trigger("slidestart");return}t>=i&&(t=0);f=setTimeout(function(){n.stop().animate({"margin-left":-r},u.speed,function(){var r=n.find(":first");n.append(r);n.css("margin-left",0);n.trigger("pageslideend",{totalpage:i,curpage:parseInt(n.find(":first").attr("idx"))+1});t++;e()})},u.auto+u.speed)}n.on("slideend",function(){e()});e()}})},selectslide:function(){return $(this).each(function(){var n=$(this),r=n.children().first(),c=parseInt(n.attr("selectslide")||0),s=rydata[n.attr("rydict")],l=n.attr("dis")||20,a=n.attr("fixed")?!0:!1,t=0,o;s&&(o="",$.each(s,function(n,t){o+='<li key="'+n+'">'+t+"<\/li>"}),r.html(o));var v=n.innerHeight(),f=r.children(),u=f.outerHeight(),e=f.length,y=e*u,h=(v-u)/2,i=-c*u;r.css({transform:"translateY("+h+"px)","-webkit-transform":"translateY("+h+"px)","margin-top":i});n.on("slidestart",function(t,u){n.trigger("selectslidestart",u);i=parseInt(r.css("margin-top"))||0}).on("slideyaxis",function(t,f){var e=i+f.moveY;a&&(e>=0||Math.abs(e)>=y-u)||(r.css("margin-top",e),n.trigger("selectslidemove",f))}).on("slideend",function(o,s){Math.abs(s.moveY)>l&&(t=i>0?0:Math.abs((i+s.moveY)/u),t=s.moveY>0?Math.floor(t):Math.ceil(t),t>=e&&(t=e-1));i=-t*u;r.animate({"margin-top":i},200);$.extend(s,{source:n,totalitem:e,idx:t,value:f.eq(t).attr("value"),text:f.eq(t).text()});n.attr("value",s.value);n.trigger("selectslideend",s)});n.trigger("selectslideready",this)}).touchslide()},slideajax:function(){return $(this).each(function(){var n=$(this),u=n.children().first(),i=parseInt(n.attr("dis")||32),t=0,e=n.attr("bottom"),r=0,f=!1;n.on("slidestart",function(t,i){f=i.touch;n.append(RssWin.AjaxLoad);r=n.scrollTop()}).on("slidemove",function(f,e){if(r=n.scrollTop(),t=e.moveY,n.addClass("load"),RssWin.AjaxLoad.hide(),t>0&&r<i/2){t>i&&(t=i,n.removeClass("load"),RssWin.AjaxLoad.show());u.css("margin-top",t);return}}).on("slideend",function(f,e){t=e.moveY;t>0&&r<i/2&&(u.css("margin-top",0),t>i&&n.trigger("ajaxupdate",e));n.removeClass("load");RssWin.AjaxLoad.hide()}).touchslide()})},qrcode:function(n){return n=$.isPlainObject(n)?n:{text:n},$(this).each(function(){var e=$(this),t,i,r,u,h,c,o;n=$.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},n||{});t=new QRCode(n.typeNumber,n.correctLevel);t.addData(n.text);t.make();i=document.createElement("canvas");i.width=n.width;i.height=n.height;var s=i.getContext("2d"),f=n.width/t.getModuleCount(),l=n.height/t.getModuleCount();for(r=0;r<t.getModuleCount();r++)for(u=0;u<t.getModuleCount();u++)s.fillStyle=t.isDark(r,u)?n.foreground:n.background,h=Math.ceil((u+1)*f)-Math.floor(u*f),c=Math.ceil((r+1)*f)-Math.floor(r*f),s.fillRect(Math.round(u*f),Math.round(r*l),h,c);n.render=="img"?(o=$("<img>"),o.attr("src",i.toDataURL()),e.html(o)):e.html(i);e.trigger("qrcode",[i,n])})},cropper:function(n){return $(this).each(function(){var t=$(this),i;n=$.extend({},{aspectRatio:1,zoomable:!1},n||{});n.preview&&(n.preview="#"+n.preview);i=new Image;i.src=n.src;i.onload=function(){var r=this.width,u=this.height,i=document.getElementById(n.canvas);i.width=r;i.height=u;i.getContext("2d").drawImage(this,0,0,this.naturalWidth,this.naturalHeight,0,0,r,u);t.data("cropper",new Cropper(i,n));t.trigger("cropper",[t.data("cropper"),n])}})},signature:function(n){return new RssSign(this,n),this},mapjson:function(n,t){return $(this).each(function(){var i=$(this),r=$.extend({},n),u=parseInt(i.data("arrval")),f;!isNaN(u)&&u>-1&&$.each(r,function(n,t){r[n]=t[u]||""});$.each(t,function(n,t){r[n]&&(r[n]=t(r[n]))});f=["id","name","title","href","type"];$.each(f,function(n,t){r[t]&&(r["rss"+t]=r[t])});i.filter("[mapkeys]").add(i.find("[mapkeys]")).each(function(){var t=$(this),n=t.attr("mapkeys"),i=[];n.match(/{\w+}?/)?(n=n.replace("{}","").replace(/{\w+}?/img,function(n){return n=n.substring(1,n.length-1),r[n]||""}),t.html(n)):(n=n.split(","),$.each(n,function(n,t){i.push(r[t]||"")}),t.html(i.join("")))});i.filter("[mapattr]").add(i.find("[mapattr]")).each(function(){var n=$(this),t=n.attr("mapattr").split(",");$.each(t,function(t,i){n.removeAttr(i)})});i.filter("[mapdata]").add(i.find("[mapdata]")).each(function(){var n=$(this),t=n.attr("mapdata").split(",");$.each(t,function(t,i){n.removeAttr("data-"+i)})});$.each(r,function(n,t){n!=="id"&&n!=="name"&&n!="href"&&n!="type"&&(i.attr(n)!=undefined&&i.attr(n,t),i.find("["+n+"]").each(function(){var u=$(this),f,e;if(u.parent("[mapview]").not(i).length)return!0;if(f=parseInt(u.data("len"))||0,f&&t.length>f&&(t=t.substr(0,f)),n=="rsshref"){u.attr("href",t).removeAttr("rsshref");return}e=u.attr(n);e&&(t=e.replace(/(\{\w+?\})/ig,function(n){return n=n.replace(/[\{\}]/ig,""),r[n]}));switch(u.get(0).tagName.toLowerCase()){case"input":switch(u.attr("type")){case"checkbox":case"radio":u.val(t.split(","))}case"select":case"textarea":u.val(t);break;case"img":case"audio":case"video":case"iframe":u.attr("src",t.indexOf("http")==0?t:RssUpFile.DoMain+t);break;default:u.html(t)}}))});i.filter("[mapattr]").add(i.find("[mapattr]")).each(function(){var n=$(this),t=n.attr("mapattr").split(",");$.each(t,function(t,i){n.attr(i,r[i]==undefined?"":r[i])})});i.filter("[mapdata]").add(i.find("[mapdata]")).each(function(){var n=$(this),t=n.attr("mapdata").split(",");$.each(t,function(t,i){n.attr("data-"+i,r[i]||"")})});i.filter("[mapcascade]").add(i.find("[mapcascade]")).each(function(){var n=$(this),i=n.attr("mapcascade").split(","),t=[];$.each(i,function(n,i){t.push(r[i])});n.attr("data-val",t.join(",")).empty().cascade()});i.find("[mapview]").each(function(){var n=$(this),t=r[n.attr("mapview")];n.mapview(t)})})},maplist:function(n,t,i){return $(this).each(function(){var r=$(this),f=r.children().first(),u;r.data("rsstemp")||(r.data("rsstemp",r.html()),r.empty());i&&i!=3||r.empty();u=r.attr("mapquery");u=u?u.split(","):[];$.each(n,function(n,e){var o=$(r.data("rsstemp"));o.mapjson(e,t);i==1?o.insertBefore(f):r.append(o);u.length&&o.click(function(){var n={};$.each(u,function(t,i){n[i]=e[i]||""});$("#"+(e.mappage||r.attr("mappage"))).data("mapquery",n)});o.show().find("[mapview]").removeAttr("mapview")})})},maphtml:function(n,t){$(this).each(function(){var i=$(this);i.html(i.html().replace(/({\w+?})/img,function(i){return i=n[i.replace(/[\{\}]/ig,"")],t[i]||i}))})},mapattr:function(n){return n=n||window.rydata||{},$(this).each(function(){var t=$(this),i=t.attr("mapattr");if(i){$.each(i.split(","),function(){t.attr("key",n[n]||"")});return}$.each(n,function(n,i){t.attr(n,i)})})},mapview:function(n,t,i){return $.isArray(n)?$(this).maplist(n,t,i):$(this).mapjson(n,t)},output:function(n){return $(this).each(function(){var t=$(this);switch(t.get(0).tagName.toLowerCase()){case"input":case"select":case"textarea":switch(t.attr("type")){case"checkbox":case"radio":t.val(n.split(","));break;default:t.val(n)}break;default:t.html(n)}})}});$("input[type!=hidden]").each(function(n){var t=$(this);t.prop("tabindex",n+1)});$(document).on("dragstart",function(n){n.preventDefault()});allowinput={};allowinput.number=function(n){var t=n.target.value;return n.which==189?!t.match(/^-[\d\.]*$/):n.which>47&&n.which<58||n.which>95&&n.which<106};allowinput.real=function(n){return n.which==110?!n.target.value.match(/\./img):this.number(n)||n.which==190};allowinput.time=function(n){return this.number(n)||n.which==59};allowinput.money=function(n){return this.real(n)};allowinput.idcard=function(n){return this.number(n)||n.which==88};RssClick={id:"",onclick:function(){}};RssClick.factory=function(n,t){var e=$(n.attr(t)||"#rssclick"),u=eval(n.attr("select")),f=n,r,i;if(u!=!1){if(f=$(e.attr("find")),r=[],f.each(function(){r.push($(this).val())}),RssClick.id=r.join(","),i="请选择至少1条数据",!RssClick.id){window.popuplayer?popuplayer.showError(i):alert(i);return}if(r.length>u){i="只允许选择"+u+"条数据";window.popuplayer?popuplayer.showError(i):alert(i);return}}RssClick[t]?RssClick[t].call(n,f):RssClick.popup(n.attr("ry-click"),n.data("title"),n,n.data("width"),n.data("height"))};RssMedia.prototype={duration:0,ispause:!0,onpay:function(){},currentTime:0,play:function(n){var t=this;n&&t.load(n);t.player.play();t.onpay()},stop:function(){if(this.pause()&&this.player.currentTime){this.onstop(this.player.currentTime);this.player.currentTime=0;this.ispause=!0}},pause:function(){return this.player&&!this.player.paused&&this.player.pause?(this.player.pause(),!0):!1},onstop:function(){},onready:function(){},onpause:function(){},onend:function(){},onprogress:function(){},poster:function(n){this.player.setAttribute("poster",n)},load:function(n,t){if(this.player.getAttribute("src")!=n){if(this.player.removeAttribute("autoplay"),t&&this.player.setAttribute("autoplay",!0),!n){this.player.removeAttribute("src");return}this.player.setAttribute("src",n);var i=this;return this.player.onloadeddata=function(){i.duration=parseInt(i.player.duration);i.onready()},this.player.ontimeupdate=function(){i.currentTime=parseInt(i.player.currentTime);i.onprogress(i.duration,i.currentTime)},this.player.onplay=function(){i.ispause=!1},this.player.onended=function(){i.onend()},this.player.onpause=function(){i.ispause=!0;i.onpause()},this.player.load(),this}}};RssAudio=new RssMedia;RssAudio.player=document.createElement("audio");RssAudio.player.setAttribute("preload","auto");RssAudio.player.style.width="0px";RssAudio.player.style.height="0px";RssAudio.player.style.visibility="hidden";document.body.appendChild(RssAudio.player);RssVideo=new RssMedia;RssVideo.player=document.createElement("video");RssVideo.player.style.width="0px";RssVideo.player.style.height="0px";RssVideo.player.style.visibility="hidden";document.body.appendChild(RssVideo.player);RssEasy.Closure(function(){var t,i,n;if(window.addEventListener){for(t=[],i=document.getElementsByTagName("audio"),n=0;n<i.length;n++)t.push(i[n]);for(i=document.getElementsByTagName("video"),n=0;n<i.length;n++)t.push(i[n]);window.addEventListener("touchstart",r);function r(){for(var i=t.length,n=0;n<i;n++)t[n].load(),t[n].getAttribute("loop")&&t[n].addEventListener("pause",function(){this.currentTime==0&&this.play()});window.removeEventListener("touchstart",r)}}});RssCode={value:function(n){var t=window.rydata&&rydata.rsscode?rydata.rsscode[n]||n+"":n;return t.indexOf("SQLIntegrityConstraintViolationException: Duplicate entry")>-1?RssCode.value("330"):t},alert:function(n,t){n&&(t&&(t="："+t),alert(this.value(n)+(t||"")))},load:function(n){$.getScript((n||"")+"data/rsscode.js",function(n){RssCode.onload(n)})},onload:function(){}};RssTask={curtime:new Date,tick:100,offset:0,queue:{},has:function(n){return this.queue[n]},usetime:0,add:function(n,t,i,r){if(r&&this.queue[n]){alert("已存在相同的任务");return}if(typeof t!="function"){alert("任务应该是一个可执行的函数");return}return i=i||1e3,this.queue[n]={tick:i,task:t},this},pauseitem:{},pause:function(n){this.queue[n]&&(this.pauseitem[n]=this.queue[n],delete this.queue[n])},restart:function(n){this.pauseitem[n]&&(this.queue[n]=this.pauseitem[n]);delete this.pauseitem[n]},remove:function(n){return delete this.queue[n],this},removeAll:function(){return this.queue={},this},synctime:function(n){var i=(new Date).getTime(),t=this;return new Ajax(n).get(function(n){RssTask.offset=n*1e3-(new Date).getTime();t.onsynctime()}),this},onsynctime:function(){},task:null,start:function(n){return(this.tick=n||100,this.task)?this:(this.task=setInterval(function(){RssTask.curtime=new Date;RssTask.curtime.addMilliseconds(RssTask.offset);var n=RssTask.curtime.getTime(),t=(new Date).getTime();$.each(RssTask.queue,function(t,i){parseInt(n/RssTask.tick)*RssTask.tick%i.tick==0&&i.task(RssTask.curtime)});RssTask.usetime=(new Date).getTime()-t},this.tick),this)},stop:function(){return this.task&&(clearInterval(this.task),this.task=null),this}};RssDict.prototype.keyvalue=function(n,t,i){var r,u;if(!n)return this;r=this;switch(n.constructor){case RssTable:case RssDict:$.extend(r.dict,n.dict);t&&(this.dict.rowsdata=n.rows);break;case Object:$.extend(r.dict,n);break;case Array:t?(u={},$.each(n,function(n,t){(u[t.name]===undefined&&(u[t.name]=[]),i&&$.inArray(t.value,u[t.name]))||u[t.name].push(t.value)}),$.each(u,function(n,t){r.dict[n]=t.join(",")})):$.each(n,function(n,t){r.dict[t.name]=t.value});break;default:!t&&n.indexOf("=")>-1?$.extend(r.dict,n.toKeyValue()):r.dict[n]=t}return this};RssDict.factory=function(n){return new RssDict(n)};RssDict.prototype.keymyid=function(n){return this.keyvalue("myid",n||RssUser.Data.myid||""),this};RssDict.prototype.toTimestamp=function(n){n=n.split(",");var t=this;return $.each(n,function(n,i){var r=t.dict[i];$.isDateTime(r)&&t.keyvalue(i,parseInt(new Date(r).getTime()/1e3))}),this};RssDict.prototype.toArray=function(n,t){var i=[];return $.each(this.dict,function(r,u){var f={};f[n]=r;f[t]=u;i.push(f)}),i};RssDict.prototype.clear=function(n){return n?this:(this.dict={},this)};RssDict.prototype.remove=function(n){n.constructor==String&&(n=n.split(","));var t=this;return $.each(n,function(n,i){t.dict[i]!==undefined&&delete t.dict[i]}),this};RssDict.prototype.parse=function(){return this};RssDict.prototype.toJson=function(){return Object.toJson(this.dict)};RssDict.prototype.toQueryString=function(){return Object.toQueryString(this.dict)};RssDict.prototype.rsswhere=function(n){return this.keyvalue("rsswhere",n)};RssDict.prototype.setRssDistinct=function(){return this.keyvalue("rssdistinct",1)};RssDict.prototype.setGetDistance=function(n,t){return this.dict.getdistance=n+","+t,this};RssDict.prototype.setRssDistance=function(n,t,i){return this.dict.rssdistance=n+","+t+"|{lt~"+(i||3e3)+"}",this};RssDict.Adapter={};RssDict.prototype.getDict=function(){return this.dict};RssDict.onload=function(){};RssDict.load=function(n){$.getScript((n||"")+"data/rydata.js",function(){RssDict.onload()})};RssIM.prototype.message={adapter:"",title:"",matter:"",classifyid:"",audio:"",video:"",picture:"",tomyid:""};RssIM.prototype.timeout=300;RssIM.prototype.servname="chat";RssIM.prototype.isreconnect=!0;RssIM.prototype.issendconn=!0;RssIM.prototype.myid="";RssIM.prototype.nickname="";RssIM.prototype.avatar="";RssIM.prototype.wrap="";RssIM.prototype.wrapinit=function(n){this.wrap=$('<div class="dialogue"><table class="message"><tbody><\/tbody><\/table><\/div>');$(n).append(this.wrap)};RssIM.prototype.append=function(n,t){var i=this.wrap.find("tbody");t?i.append('<tr><td><\/td><td><div class="right"><i><\/i><p>'+n.matter+'<\/p><b><\/b><\/div><\/td><td><h5><img src="'+RssUpFile.getAvatar(n)+'" /><\/h5><\/td><\/tr>'):i.append('<tr><td><h5><img src="'+RssUpFile.getAvatar(n)+'" /><\/h5><\/td><td><h6>'+n.username+"<\/h6><div><b><\/b><p>"+n.matter+"<\/p><i><\/i><\/div><\/td><td><\/td><\/tr>");this.wrap.scrollTop(i.outerHeight()+20)};RssIM.prototype.connect=function(n,t){var i=this;window.WebSocket&&(this.myid=n||RssUser.Data.myid||RssUser.Data.immyid||"",this.nickname=t||RssUser.Data.nickname||"",this.avatar=RssUser.Data.avatar||"avatar.png",this.socket=new WebSocket(this.host.replace(/^http/,"ws")+"/api/im/"+this.servname+"?myid="+this.myid+"&username="+this.nickname+"&usertoken="+(RssUser.Data.usertoken||"")+"&avatar="+i.avatar),this.socket.onmessage=function(n){json=JSON.parse(n.data);i.onActivate();i["on"+json.on]&&i["on"+json.on](json)},this.socket.onopen=function(n){if(i.onReConn)i.onReConn(n);else i.onConn(n);i.onActivate();console.log("已链接："+i.socket.readyState)},this.socket.onclose=function(n){i.onClose(n);console.log("已关闭：")},this.socket.onerror=function(n){i.onError(n);console.log("已出错："+n)})};RssIM.prototype.onReConn=null;RssIM.prototype.connchat=function(n,t){this.servname="chat";this.connect(n,t)};RssIM.prototype.connservice=function(n,t){this.servname="service";this.connect(n,t)};RssIM.prototype.connchatroom=function(n,t,i){this.servname="chatroom";this.connect(t,i)};RssIM.prototype.connmessage=function(n,t){this.servname="message";this.connect(n,t)};RssIM.prototype.close=function(n){this.socket&&(this.socket.close(),n||(this.socket=null))};RssIM.prototype.onClose=function(){};RssIM.prototype.onConn=function(){};RssIM.prototype.onError=function(){};RssIM.prototype.onActivate=function(){if(RssTask.remove("imactivate"),this.isreconnect&&this.socket){var n=this;RssTask.add("imactivate",function(){n.send(n.myid,{classifyid:"Activate"})},(n.timeout-10)*1e3)}};RssIM.prototype.onUpLine=function(){};RssIM.prototype.onOffLine=function(){};RssIM.prototype.onReg=function(n){RssUser.Update({immyid:n.myid})};RssIM.prototype.onReceive=function(n){console.log(n)};RssIM.prototype.send=function(n,t){var r,i;if(this.socket){if(this.message.tomyid=n,r=n?"sendMyID":"sendAll",RssUser.Data.myid&&(this.message.myid=RssUser.Data.myid,this.message.nickname=RssUser.Data.nickname||"匿名"),this.message.adapter=r,this.issendconn&&(this.socket&&this.socket.readyState!=1||this.socket==null)){i=this;this.onReConn=function(){i.send(n,t);i.onReConn=null};this.connect(this.myid,this.nickname);return}this.socket.send(JSON.stringify(t||this.message));this.resetMessage()}};RssIM.prototype.resetMessage=function(n){return $.isPlainObject(n)?$.extend(this.message,n):this.message={adapter:"",title:"",matter:"",classifyid:"",audio:"",video:"",picture:"",tomyid:""},this};RssIM.prototype.setMessage=function(n){return $.isPlainObject(n)?$.extend(this.message,n):this.message=n,this};RssIM.prototype.onGetService=function(){};RssIM.prototype.getService=function(n){var t=this;new Ajax("im/service/get").keyvalue("myids",n).getJson(function(n){t.onGetService(n)})};RssIM.prototype.onAllotService=function(){};RssIM.prototype.allotService=function(){var n=this;new Ajax("im/service/allot").keymyid().getJson(function(t){t.myid&&(n.message.classifyid="allot",n.send(t.myid));n.onAllotService(t)})};jQuery.support.cors=!0;Ajax=function(n){this.method="GET";this.url=this.host+n;this.params={};this.curpage=1;this.pagesize=15;this.rowcount=0;this.pagecount=0;this.refertime=RssTask.curtime;this.contentType="application/x-www-form-urlencoded";this.dataType="text";this.headers=new RssDict;this.xhr=null;this.maxid=-1;this.rsstable=new RssTable;this.oncreate();this.data=[];this.formdata=window.FormData?new FormData:null};Ajax.Queue={};Ajax.prototype.parsetable=function(){};Ajax.prototype.setUrl=function(n){return this.url=n,this};Ajax.prototype.setTimestamp=function(n){n=n.split(",");var t=this;return $.each(n,function(n,i){var r=t.params[i];$.isDateTime(r)&&t.keyvalue(i,parseInt(new Date(r).getTime()/1e3))}),this};Ajax.prototype.timestamp=function(n){return n=n||"shijian",this.keyvalue(n,parseInt(RssTask.curtime.getTime()/1e3)),this};Ajax.prototype.oncreate=function(){};Ajax.onNotNet=function(){alert("无网络，请打开网络后在试")};Ajax.success=function(n,t){if($.isPlainObject(n)&&n.rsscode&&parseInt(n.rsscode)!=100){if(this.onrsscode){this.onrsscode.call(this,n.rsscode);return}Ajax.onrsscode.call(this,n.rsscode);return}if(this.refertime=RssTask.curtime,this.data=$.isPlainObject(n)?n.data||n:n,$.isArray(this.data)){var i=this.data.length;this.rowcount=parseInt(n.rowcount||i);this.pagecount=Math.ceil(this.rowcount/this.pagesize);this.parsetable(this.data);!this.rowcount&&this.pagecount<=1&&this.onnotdata&&this.onnotdata();this.pagecount+1<=this.curpage&&this.onlastpage&&(this.curpage=this.pagecount,this.onlastpage())}t&&t.call(this,this.data,n)};Ajax.onrsscode=function(){};Ajax.error=function(n,t){n&&n({xhr:t,code:t.status,txt:t.statusText})};Ajax.complete=function(n,t){this.isload&&Ajax.loadclose();n&&n({xhr:t,code:t.status,txt:t.statusText})};Ajax.prototype.isload=!1;Ajax.prototype.setLoading=function(n){return this.isload=!0,Ajax.loadmsg=n||"数据加载中...",this};Ajax.prototype.onrsscode=null;Ajax.prototype.setRssCode=function(n){return this.onrsscode=n,this};Ajax.loadmsg="";Ajax.loadtick=!1;Ajax.loadshow=function(){return Ajax.loadtick&&(clearTimeout(Ajax.loadtick),Ajax.loadtick=null),RssWin.MaskLayer.show(),RssWin.LoadBox.show(Ajax.loadmsg),this};Ajax.loadclose=function(){return Ajax.loadtick=setTimeout(function(){RssWin.LoadBox.close();RssWin.MaskLayer.close()},500),this};Ajax.prototype.sign=function(){var i=[],r=[],t=this,n;return delete this.params.signtoken,$.each(this.params,function(n){t.params[n]===undefined||t.params[n]==""||t.params[n]===null?delete t.params[n]:i.push(n)}),i.sort(),n="",$.each(i,function(i,u){n=t.params[u];n.constructor==String&&(n=n.replace(/(?:\r\n)|\n/img,"<br />"));r.push(u+"="+n)}),this.params.signtoken=MD5(r.join("&")+"&key="+this.prikey),RssUser.Data.myid&&RssUser.Data.usertoken&&this.setHead("tokenmyid",RssUser.Data.myid).setHead("usertoken",RssUser.Data.usertoken),this};Ajax.prototype.host="/api/";Ajax.prototype.prikey="www.rsseasy.com";Ajax.prototype.params={};Ajax.prototype.url="";Ajax.prototype.condition=function(n){return $.each(n,function(t,i){i===undefined&&delete n[t]}),this.keyvalue("rsswhere",Object.toJson(n))};Ajax.prototype.extdata=function(n){return this.keyvalue("extdata",n)};Ajax.prototype.extpost=function(n){return this.keyvalue("extpost",n)};Ajax.prototype.extparams=function(n){return this.keyvalue("extparams",n)};Ajax.prototype.setverify=function(n){return n&&n.constructor==Function&&(this.verify=n),this};Ajax.prototype.verify=function(){return!0};Ajax.prototype.keyvalue=function(n,t){return n&&$.extend(this.params,arguments.length==1&&n.constructor==Object?n:new RssDict(n,t).getDict()),this};Ajax.prototype.setNull=function(n){return this.keyvalue(n,"rssnull")};Ajax.prototype.keyform=function(n,t){return this.formdata&&this.formdata.append(n,t),this};Ajax.prototype.getnewid=function(n){if(n=n.data||n,$.isArray(n)){var t=[];$.each(n,function(n,i){t.push(i.id||i.myid||0)});this.maxid=Math.max.apply(null,t)}};Ajax.prototype.keymyid=function(n){return this.params.myid=n||RssUser.Data.myid,this};Ajax.prototype.setHead=function(n,t){return this.headers.keyvalue(n,t),this};Ajax.prototype.setPower=function(n){return this.headers.keyvalue("rsspower",n),this};Ajax.prototype.removeHead=function(n){return this.headers.remove(n),this};Ajax.prototype.setType=function(n){return this.dataType=n,this};Ajax.prototype.setTypeJson=function(){return this.dataType="json",this};Ajax.prototype.prevpage=function(){return this.curpage-=2,this.curpage<0&&(this.curpage=1),this.params.curpage=this.curpage,this};Ajax.prototype.nextpage=function(){return++this.curpage>this.pagecount&&(this.curpage=this.pagecount+1),this.params.curpage=this.curpage,this};Ajax.prototype.onlastpage=null;Ajax.prototype.onnotdata=null;Ajax.prototype.notdata=function(n){return this.onnotdata=n,this};Ajax.prototype.lastpage=function(n){return this.onlastpage=n,this};Ajax.prototype.firstpage=function(){return this.params.curpage="0",this.params.refertime=parseInt(this.refertime.getTime()/1e3),this.params.maxid=this.maxid,this};Ajax.prototype.setPage=function(n){return this.params.curpage=n,this.curpage=n,this};Ajax.prototype.get=function(n,t,i){return this.submit(n,t,i)};Ajax.prototype.post=function(n,t,i){return this.method="post",this.submit(n,t,i)};Ajax.prototype.getJson=function(n,t,i){return this.dataType="json",this.submit(n,t,i)};Ajax.prototype.postJson=function(n,t,i){return this.method="post",this.dataType="json",this.submit(n,t,i)};Ajax.prototype.isjson=!1;Ajax.prototype.sendJson=function(n,t,i){return this.contentType="application/json; charset=utf-8",this.dataType="json",this.method="post",this.isjson=!0,this.submit(n,t,i)};Ajax.prototype.submit=function(n,t,i){var r,u;if(!RssEasy.netonline){Ajax.onNotNet();return}(r=this,this.verify(this.params))&&((this.sign(),u=MD5(r.url+Object.toQueryString(this.params)),Ajax.Queue[u])||(Ajax.Queue[u]=!0,this.isload&&Ajax.loadshow(),this.isjson&&(this.params=Object.toJson(this.params)),this.xhr=$.ajax({type:this.method,url:this.url,headers:this.headers.dict,contentType:this.contentType,data:this.params,dataType:RssOS.iever?"jsonp":this.dataType,jsonp:"rssjsonp",success:function(t){Ajax.success.call(r,t,n)},error:function(n,i,u){Ajax.error.call(r,t,n,u)},complete:function(n){Ajax.Queue[u]=!1;Ajax.complete.call(r,i,n)}})))};Ajax.prototype.sendFrom=function(n,t,i,r){var e,f,u;if(!RssEasy.netonline){Ajax.onNotNet();return}if(!this.verify(this.params))return!1;(this.sign(),e=MD5(this.url),Ajax.Queue[e])||(Ajax.Queue[e]=!0,f=this,u=this.xhr=new XMLHttpRequest,u.open("POST",this.url,!0),$.each(this.headers.dict,function(n,t){u.setRequestHeader(n,t)}),u.onreadystatechange=function(){u.readyState==4&&(u.status==200?Ajax.success.call(f,u.responseText.trim().toJson(),n):Ajax.error.call(f,t,u),Ajax.Queue[e]=!1,Ajax.complete.call(f,i,u))},u.upload.onprogress=function(n){r&&n.lengthComputable&&r(n.total,n.loaded)},this.isload&&Ajax.loadshow(),$.each(this.params,function(n,t){f.formdata.append(n,t)}),f.formdata.enctype="multipart/form-data",u.send(this.formdata))};RssUser={};RssUser.Data={myid:0,usertoken:""};RssUser.IsLogin=function(n,t){return RssUser.Data.myid?!0:(n&&(n.stopPropagation(),n.preventDefault()),t||(t="#loginpage"),location.href=t,!1)};RssUser.onLogin=function(){location.hash=RssUser.History};RssUser.History="#homepage";RssUser.Update=function(n){RssUser.Data=Storage.getJson("userdata");$.each(n,function(n,t){RssUser.Data[n]=t});Storage.Set("userdata",Object.toJson(RssUser.Data));Cookie.Set("myid",RssUser.Data.myid);Cookie.Set("usertoken",RssUser.Data.usertoken);Cookie.Set("realname",RssUser.Data.realname);Cookie.Set("nicakname",RssUser.Data.nicakname);this.onUpdate()};RssUser.onUpdate=function(){};RssUser.onPwd=function(){};RssUser.onPayPwd=function(){};RssUser.onReg=function(){};RssUser.LoginOut=function(n){Storage.remove("userdata");RssUser.Update();Cookie.RemoveAll();switch(typeof n){case"function":n();break;case"string":location.href=n;break;default:RssUser.onLoginOut()}};RssUser.onLoginOut=function(){};RssUser.Update();RssPower={};RssPower.List=[];$.each((Cookie.Get("powerlist")||"").split(","),function(n,t){RssPower.List[n]=parseInt(t).toString(2).padleft(53,"0")});RssPower.List="1"+RssPower.List.join("");RssPower.verify=function(n){return RssPower.List.substr(n,1)==1};RssWin={AjaxLoad:$('<div id="ajaxload" ry-lang="_refresh">松开刷新<\/div>'),MaskLayer:{layer:$("#masklayer"),islock:!1,lock:function(n){return this.islock=n,this},show:function(){if(!this.layer.length){this.layer=$('<div class="masklayer"><\/div>');$(document.body).append(this.layer);this.layer.on("click touchmove touchdown touchend",function(n){n.stopPropagation();n.preventDefault()})}this.layer.stop(!1,!0).show()},close:function(){this.islock||this.onclose&&!this.onclose()||this.layer.stop(!1,!0).hide()},onclose:function(){return!0}},LoadBox:{masklayer:!0,box:$("#loadbox"),show:function(n){n=n||"加载中";this.box.length||(this.box=$('<div class="loadbox" ry-lang="_loading"><span><\/span><\/div>'),$(document.body).append(this.box));this.masklayer&&RssWin.MaskLayer.show();this.box.show();this.box.find("span").html(n);this.box.css("margin-left",-this.box.outerWidth()/2)},close:function(){RssWin.MaskLayer.close();this.box.hide()}},DeBug:{box:$("#debug"),log:function(n){this.box.find("ul").append("<li>"+JSON.stringify(n)+"<\/li>")},show:function(){this.box.show()}},topifr:function(n){var t=top.window.frames[n||0];return t.window||t.contentWindow},onOpenWin:function(){return!0},open:function(n,t,i){return t=t||300,i=i||300,window.open(n,"ry-win","width="+t+"px,height="+i+"px,left="+(screen.availWidth-t)/2+"px,top="+(screen.availHeight-i)/2+"px")},winsendmsg:function(n){if(window.opener&&window.opener.RssWin.onwinreceivemsg)window.opener.RssWin.onwinreceivemsg(n)},onwinreceivemsg:function(){},getWorkSpace:function(n){var t=top.window.frames[n||"workspace"||0];return t.contentWindow||t.window},getFrameWin:function(n){var t=window.frames[n||0];return t.contentWindow||t.window},getFrameWins:function(){for(var i=[],r=window.frames,n,t=0;t<r.length;t++)n=r[t],i.push(n.contentWindow||n.window);return i},alert:function(n){alert(n)}};RssWin.MaskLayer.layer.click(function(n){n.preventDefault();n.stopPropagation()});RssUpFile={ApiHost:"",DoMain:""};RssUpFile.TaskAllot="";RssUpFile.Params={};RssUpFile.Header=new RssDict;RssUpFile.getThumb=function(n,t){return n?(t||this.DoMain)+n.replace(".","s."):""};RssUpFile.getParams=function(){return{}};RssUpFile.Submit=function(n,t){this.Header.keyvalue("tokenmyid",RssUser.Data.myid||"").keyvalue("usertoken",RssUser.Data.usertoken);RssAppAdapter($.extend(null,{adapter:"UpFile",header:this.Header.getDict(),url:this.ApiHost+(t?"?"+Object.toQueryString(t):"")},this.Params,n||{},this.getParams()))};RssUpFile.File=function(n){return n.action="file",this.Params=n,this};RssUpFile.Image=function(n){return n.action="gallery",this.Params=n,this};RssUpFile.Upload=function(n){return n.action="upload",this.Params=n,this};RssUpFile.TakePhoto=function(n){return n.action="takephoto",this.Params=n,this};RssUpFile.Ajax=function(){return new Ajax("upload")};RssUpFile.getUrl=function(n,t){return(t||this.DoMain)+n};RssUpFile.getAvatar=function(n,t){return(t||this.DoMain)+($.isPlainObject(n)?n.avatar:n)};RssUpFile.onStart=function(){};RssUpFile.onProgress=function(n){RssWin.LoadBox.show("正在上传："+n.progress+"%")};RssUpFile.onComplete=function(){};RssUpFile.onCompress=function(){};RssUpFile.onError=function(n){RssWin.LoadBox.show("上传错误："+n.error)};RssCompress={};RssCompress.onStart=function(){RssWin.LoadBox.show("准备压缩")};RssCompress.onProgress=function(n){RssWin.LoadBox.show("正在压缩："+n.progress+"%")};RssCompress.onComplete=function(){RssWin.LoadBox.show("压缩完毕")};RssCompress.onError=function(n){RssWin.LoadBox.show(n.error)};RssDownFile={};RssDownFile.Params={background:!1};RssDownFile.setBackGround=function(n){return this.Params.background=n,this};RssDownFile.Start=function(n){this.Params.url=n;this.Submit()};RssDownFile.Submit=function(n){RssAppAdapter($.extend(null,{adapter:"DownFile"},this.Params,n||{}))};RssDownFile.onMediaDown=function(){};RssDownFile.onStart=function(){};RssDownFile.onProgress=function(){};RssDownFile.onComplete=function(){};$.extend(!0,RssTable.prototype,RssDict.prototype);RssTable.Table={};RssTable.prototype.setHeader=function(n){var t,i;switch(n.constructor){case Array:this.header=n;break;case String:this.header=n.split(",");break;case Object:t=[];$.each(row,function(n){t.push(n)});this.rows.push(t);break;default:alert("设置表头出错")}return i=this,$.each(this.header,function(n,t){i.headerdict[t]=n;i.dict[t]=""}),this.colcount=this.header.length,this};RssTable.prototype.onUpdateRow=function(){};RssTable.prototype.onAddRow=function(){};RssTable.prototype.addRow=function(n){return n=this.ParseRow(n),n&&(this.rows.push(n),this.rowscount=this.rows.length,this.onAddRow()),this};RssTable.prototype.addRows=function(n){var t=this;$.each(n,function(n,i){t.addRow(i)})};RssTable.prototype.ParseRow=function(n){switch(n.constructor){case Array:return n;case String:return n.split(",");case Object:var t=[],i=this;return $.each(n,function(n,r){var u=i.headerdict[n];t[u]=r}),t}};RssTable.prototype.onSetRows=function(){};RssTable.prototype.setRows=function(n){return this.rows=n,this.rowscount=this.rows.length,this.onSetRows(),this};RssTable.prototype.updatetRow=function(n,t){return n=this.ParseRow(n),n&&(this.rows[t||this.currowno]=n,this.onUpdateRow()),this};RssTable.prototype.setTable=function(n,t){return this.setHeader(n),this.setRows(t),this};RssTable.prototype.getColumnCount=function(){return this.header.length};RssTable.prototype.getColumnLabel=function(n){return this.header[n]||""};RssTable.prototype.next=function(){return++this.currowno<this.rowscount};RssTable.prototype.getRows=function(){return this.rows[this.currowno]};RssTable.prototype.for_in_row=function(){if(this.next()){var t=this.getRows(),n={},i=this;return $.each(t,function(t,r){r!==undefined&&(n[i.header[t]]=r)}),this.dict=n,!0}return this.beforeFirst(),!1};RssTable.prototype.getValue=function(n){return this.rows[this.currowno][n]};RssTable.prototype.setValue=function(n,t){return this.rows[this.currowno][n]=t,this.onUpdateRow(),this};RssTable.prototype.getCell=function(n,t){return this.rows[n][t]};RssTable.prototype.setCell=function(n,t,i){return this.rows[n][t]=i,this.onUpdateRow(),this};RssTable.prototype.get=function(n){return this.dict[n]===undefined?"":this.dict[n]};RssTable.prototype.beforeFirst=function(){return this.currowno=-1,this};RssTable.prototype.drop=function(){return this.header=[],this.headerdict={},this.rows=[],this};RssTable.prototype.clear=function(){return this.rows=[],this};RssTable.prototype.toKeyValue=function(){for(var n=[];this.for_in_row();)n.push(this.dict);return Object.toJson(n)};RssTable.prototype.onSort=function(){};RssTable.prototype.sort=function(n){n=n.split(" ");var i=n[1]==="desc",t=this.headerdict[n[0]];this.rows.sort(function(n,i){return n[t]>i[t]?1:-1});i&&this.rows.reverse();this.onSort()};RssTable.prototype.copy=function(n){var i=new RssTable,r,u,t,f;for(i.setHeader(n),r=this,u=[],$.each(n,function(n,t){u.push(r.headerdict[t])}),t=[];this.next();)t=[],f=r.getRows(),$.each(u,function(n,i){t[n]=f[i]}),i.addRow(t);return i};RssTable.prototype.onSubmit=function(){};RssTable.prototype.Submit=function(){};var RssPage={item:{},get:function(n){return $(n)},create:function(n,t){t=$.extend({},t);var i=this.item[n];if(i)return i;i=$(n);i.length||(i=$('<section id="'+n+'"><\/section>'),i.insertBefore($("body>footer")));this.item[n]=i}},RssLang={item:{cn:"中文",en:"English"},lang:Storage.Get("rsslang")||"cn",dict:{},load:function(n){$.getScript((n||"")+"data/rsslang.js",function(){RssLang.onload()})},onload:function(){},set:function(n){var r,t,i;for(this.lang=this.item[n]?n:"cn",Storage.Set("rsslang",this.lang),Cookie.Set("rsslang",this.lang),this.dict=this[this.lang]||{},$("[ry-lang]").each(function(){var n=$(this),t=n.attr("ry-lang");if(!t)return!0;switch(n.get(0).tagName.toLowerCase()){case"input":case"textarea":break;default:n.html(RssLang.dict[t]||"")}}),$("[placeholder]").each(function(){var n=$(this),t=n.attr("placeholder");n.data("placeholder")||n.data("placeholder",t);t=n.data("placeholder");t=t.replace(/\{[^}]+\}/img,function(n){return n=n.replace("{","").replace("}",""),RssLang.dict[n]||n});n.attr("placeholder",t)}),r=RssWin.getFrameWins(),i=0;i<r.length;i++)t=r[i],t&&t.RssLang&&t.RssLang.set(n)},get:function(n){return this.dict[n]||""}},ChineseWord={load:function(n){$.getScript((n||"")+"data/chineseword.js",function(){ChineseWord.onload()})},onload:function(){}},RssSms={};RssSms.onSend=function(){};RssSms.Send=function(n){n=n||{};try{if(!n.marker)throw"";new Ajax("sms/send").keyvalue().setLoading().post(function(n){RssSms.onSend(n)})}catch(t){RssCode.alert(t)}};Url=self.location.search.replace(/^\?/,"").toKeyValue();RssUser.Update({invitemyid:Url.invitemyid||RssUser.Data.invitemyid||""});RssHash={params:{}};RssHash.reset=function(){RssHash.params={}};RssHash.getHash=function(n){return this.params[n]||""};RssHash.Adapter=function(n){RssHash.params=n;$(function(){var r=window[n.module]||window,i=n.action,t=r[i];i&&t&&t.constructor==Function&&t(n)})};$(window).hashchange(function(){var t=location.hash.match(/^#[a-z\_]+/i,"")+"",n=decodeURIComponent(location.hash.replace(/^#[a-z\_]+/i,"").trim());n&&n.match(/^\{.+\}$/)&&RssHash.Adapter(n.toJson())}).hashchange();WebAdapter={Request:function(n){new Ajax(n.url).getJson(function(n){JsAdapterCallBack(n)})},GetContactsPhone:function(){JsAdapter.onGetContactsPhoneComplete({})},SQLite:function(n){var t=new SqliteHelper(n);t.action()},Progress:function(n){switch(n.action){case"hide":RssWin.MaskLayer.close();RssWin.LoadBox.close();break;default:RssWin.MaskLayer.show();RssWin.LoadBox.show(n.message||"加载中...")}},MusicPlay:function(n){RssAudio.play(n.url)},TakePhotos:function(){},GetVersion:function(){}};JsAdapter={Params:{},Push:function(n){return JsAdapter.Params=n,this},onPageFinished:function(){},onHttpConnOpen:function(){},ClearHistory:function(){return this.Push({adapter:"ClearHistory"}),this},onClearHistory:function(){},Print:function(n){return n.adapter="Print",this.Push(n),this},onPrint:function(){},Close:function(n){return n=n||{},n.adapter="Close",this.Push(n)},onClose:function(){},Vibrator:function(n){return n.adapter="Vibrator",this.Push(n)},MusicPlay:function(n){return n.adapter="MusicPlay",this.Push(n)},onPlayReady:function(){},onPlayEnd:function(){},PlayerSubTitle:function(n){return n.adapter="PlayerSubTitle",this.Push(n)},PdfReader:function(n){return n.adapter="PdfReader",this.Push(n)},GetPackageSign:function(){return this.Push({adapter:"GetPackageSign"})},onGetPackageSign:function(){},Base64Image:function(n){return n.adapter="Base64Image",this.Push(n)},onResume:function(){},onPause:function(){},Progress:function(n){return n=n||{},n.adapter="Progress",this.Push(n)},onProgress:function(){},onComplete:function(){},GetContactsPhone:function(){return this.Push({adapter:"GetContactsPhone"}),this},onGetContactsPhone:function(){},onGetContactsPhoneComplete:function(){},onGetContactsPhoneFail:function(){},BackService:function(n){return n=n||{},n.adapter="BackService",this.Push(n)},QRcodeMake:function(n){return n.adapter="QRcodeMake",this.Push(n)},onQRcodeMake:function(){},QRcodeScan:function(){return this.Push({adapter:"QRcodeScan"})},onQRcodeDecode:function(){return this},SysSetting:function(n){return n.adapter="SysSetting",this.Push(n)},WebPing:function(n){return this.Push({adapter:"WebPing",url:n})},onWebPing:function(){},GetGpsState:function(){return this.Push({adapter:"GetGpsState"})},onGetGpsState:function(){},GetNetState:function(){return this.Push({adapter:"GetNetState"})},OpenGps:function(){return this.Push({adapter:"OpenGps"})},onOpenGps:function(){},onGetNetState:function(n){navigator.onLine=n.state},onWiFiChange:function(){},WebUpload:function(n){return n=n||{},n.adapter="WebUpload",this.Push(n)},GetAppList:function(n){return n=n||{},n.adapter="GetAppList",this.Push(n)},FooterUp:function(n){return this.Push({adapter:"FooterUp",up:n})},onGetAppListStart:function(){},onGetAppList:function(){},onGetAppListEnd:function(){},Request:function(n){return n.adapter="Request",this.Push(n)},Focus:function(){return this.Push({adapter:"Focus"})},onRequest:function(){},PhotoCut:function(n){return n=n||{},n.adapter="PhotoCut",this.Push(n)},onPhotoCut:function(){},GalleryList:function(n){return n.adapter="GalleryList",this.Push(n)},onGalleryListReady:function(){},onGalleryList:function(){},onGalleryListComplete:function(){},GallerySelect:function(n){return n.adapter="GallerySelect",this.Push(n)},onGallerySelect:function(){},TakePhotos:function(n){return n=n||{},n.adapter="TakePhotos",this.Push(n)},onTakePhotos:function(){},onTakePhotosError:function(n){alert(n.error)},DownloadApk:function(n){return this.Push({adapter:"DownloadApk",url:n})},SpeechToText:function(n){return n=n||{},n.adapter="SpeechToText",this.Push(n)},onMenuClick:function(){},ToastShow:function(n){return this.Push({adapter:"ToastShow",message:n})},EasyAR:function(n){return this.Push($.extend({adapter:"EasyAR"},n))},onSoftKeyBoard:function(){},GetVersion:function(){return this.Push({adapter:"GetVersion"})},onGetVersion:function(){},MapMarkerPoint:function(n){return n.adapter="MapMarkerPoint",this.Push(n)},MapSelectPoint:function(n){return n=n||{},n.adapter="MapSelectPoint",this.Push(n)},onMapSelectPoint:function(){},MapNavi:function(n){return n=n||{},n.adapter="MapNavi",this.Push(n)},LocationListener:function(n){return n=n||{},n.adapter="LocationListener",this.Push(n)},onLocationReceive:function(){},onLocationReceiveFail:function(){},PolygonContains:function(n){return n.adapter="PolygonContains",this.Push(n)},onLatLngContains:function(){},ComputeDistance:function(n){return n.adapter="ComputeDistance",this.Push(n)},onComputeDistance:function(){},RouteDistance:function(n){return n.adapter="RouteDistance",this.Push(n)},onRouteDistance:function(){},onComputeDistanceFail:function(){},MapNavAutoMode:function(n){return n.adapter="MapNavAutoMode",this.Push(n)},Download:function(n){return n.adapter="Download",this.Push(n)},onDownload:function(){},onMapNavAutoMode:function(){},onMapNavAutoModeStop:function(){},ClearCache:function(){return this.Push({adapter:"ClearCache"})},onClearCache:function(){},onSQLite:function(){},StartUpApp:function(n){return n.adapter="StartUpApp",this.Push(n)},IsSetup:function(n){return this.Push({adapter:"IsSetup",pagename:n})},onIsSetup:function(){},OpenUrl:function(n,t){return this.Push({adapter:"OpenUrl",url:n,code:t||23})},Ready:function(n){return n=n||{},n.apihost=n.apihost||RssApi.host,n.adapter="Ready",this.Push(n),this},onReady:function(){},InnerWeb:function(n){return n.adapter="InnerWeb",this.Push(n)},Notity:function(){return this.Push({adapter:"Notity"})},onNotity:function(){},PushMessage:function(){return this.Push({adapter:"PushMessage"})},onPushMessage:function(){},PushReg:function(){return this.Push({adapter:"PushReg",myid:RssUser.Data.myid||"",account:RssUser.Data.account||""})},onPushReg:function(){},Browser:function(n){return this.Push({adapter:"Browser",url:n})},onNotity:function(){},onKeyBoardShow:function(){},onKeyBoardHide:function(){},Md5Sign:function(n){return n.adapter="Md5Sign",this.Push(n)},onMd5Sign:function(){},TaskTick:function(n){return n.adapter="TaskTick",this.Push(n)},onTaskTick:function(){},onNotityError:function(n){alert(n.error)},onRollBack:function(){},onThreadQueueStart:function(){},onThreadQueueComplete:function(){},onSqlError:function(n){console.info(n.error)},onSqlDrop:function(){},onSqlAppend:function(){},onSqlUpdate:function(){},onSqlDelete:function(){},onSqlQuery:function(){},onSqlGetFirstRows:function(){},onError:function(n){alert(n.error)},Submit:function(){RssAppAdapter(this.Params)}};$("[jsadapter]").click(function(){var t=$(this),n=t.attr("jsadapter"),i;if(!JsAdapter[n]){alert(n+"指令不存在！");return}i=(t.attr("params")||"{}").toJson();JsAdapter[n](i).Submit()});$("[input]").focus(function(){JsAdapter.Focus().Submit()});JsAdapter.PushMessage().Submit();$("[js-innerweb]").click(function(n){n.preventDefault();n.stopPropagation();var t=$(this);JsAdapter.InnerWeb({url:t.attr("js-innerweb"),bgcolor:t.data("bgcolor")||"#000000"}).Submit()});$("[js-close]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.Close($(this).data("params")).Submit()});$("[js-musicplay]").click(function(n){n.preventDefault();n.stopPropagation();var t=$(this);JsAdapter.MusicPlay({url:t.data("url"),action:t.attr("js-musicplay")}).Submit()});$("[js-qrcodescan]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.QRcodeScan().Submit()});$("[js-vibrator]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.Vibrator({time:parseInt($(this).attr("js-vibrator"))||50}).Submit()});$("[js-locationlistener]").click(function(n){n.preventDefault();n.stopPropagation();var t=$(this),i=(new RssDict).keyvalue("time",t.attr("js-locationlistener"));t.data("once")&&i.keyvalue("once",1);t.data("stop")&&i.keyvalue("stop",1);JsAdapter.LocationListener(i.getDict()).Submit()});$("[js-mapmarkerpoint]").click(function(n){n.preventDefault();n.stopPropagation();var t=$(this);JsAdapter.MapMarkerPoint({lng:parseFloat(t.data("lng")),lat:parseFloat(t.data("lat")),title:t.data("title"),zomm:t.data("zoom")}).Submit()});$("[js-mapselectpoint]").click(function(n){n.preventDefault();n.stopPropagation();var t=$(this);JsAdapter.MapSelectPoint().Submit()});$("[js-startupapp]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.StartUpApp($(this).attr("js-startupapp")).Submit()});$("[js-getpackagesign]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.GetPackageSign().Submit()});$("[js-getapplist]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.GetAppList().Submit()});$("[js-photocut]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.PhotoCut({url:$(this).attr("js-photocut")}).Submit()});$("[js-computedistance]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.ComputeDistance({url:$(this).attr("js-photocut")}).Submit()});$("[js-getversion]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.GetVersion().Submit()});$("[js-toastshow]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.ToastShow($(this).attr("js-toastshow")).Submit()});$("[js-browser]").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.Browser($(this).attr("js-browser")).Submit()});$("[js-down]").click(function(){ev.preventDefault();ev.stopPropagation();JsAdapter.Download({url:$(this).attr("js-down")}).Submit()});RssSpeechToText={onComplete:function(){}},function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(n=n||self,n.Cropper=t())}(this,function(){"use strict";function st(n){return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},st(n)}function vr(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function oi(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function yr(n,t,i){return t&&oi(n.prototype,t),i&&oi(n,i),n}function si(n){return pr(n)||wr(n)||br()}function pr(n){if(Array.isArray(n)){for(var t=0,i=new Array(n.length);t<n.length;t++)i[t]=n[t];return i}}function wr(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function br(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function n(n){return typeof n=="number"&&!su(n)}function ri(n){return typeof n=="undefined"}function w(n){return st(n)==="object"&&n!==null}function k(n){if(!w(n))return!1;try{var t=n.constructor,i=t.prototype;return t&&i&&hu.call(i,"isPrototypeOf")}catch(r){return!1}}function e(n){return typeof n=="function"}function fr(n){return Array.from?Array.from(n):cu.call(n)}function r(t,i){return t&&e(i)&&(Array.isArray(t)||n(t.length)?fr(t).forEach(function(n,r){i.call(t,n,r,t)}):w(t)&&Object.keys(t).forEach(function(n){i.call(t,t[n],n,t)})),t}function d(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e11;return lu.test(n)?Math.round(n*t)/t:n}function a(t,i){var u=t.style;r(i,function(t,i){au.test(i)&&n(t)&&(t="".concat(t,"px"));u[i]=t})}function vu(n,t){return n.classList?n.classList.contains(t):n.className.indexOf(t)>-1}function u(t,i){if(i){if(n(t.length)){r(t,function(n){u(n,i)});return}if(t.classList){t.classList.add(i);return}var f=t.className.trim();f?f.indexOf(i)<0&&(t.className="".concat(f," ").concat(i)):t.className=i}}function h(t,i){if(i){if(n(t.length)){r(t,function(n){h(n,i)});return}if(t.classList){t.classList.remove(i);return}t.className.indexOf(i)>=0&&(t.className=t.className.replace(i,""))}}function g(t,i,f){if(i){if(n(t.length)){r(t,function(n){g(n,i,f)});return}f?u(t,i):h(t,i)}}function ui(n){return n.replace(yu,"$1-$2").toLowerCase()}function fi(n,t){return w(n[t])?n[t]:n.dataset?n.dataset[t]:n.getAttribute("data-".concat(ui(t)))}function et(n,t,i){w(i)?n[t]=i:n.dataset?n.dataset[t]=i:n.setAttribute("data-".concat(ui(t)),i)}function pu(n,t){if(w(n[t]))try{delete n[t]}catch(i){n[t]=undefined}else if(n.dataset)try{delete n.dataset[t]}catch(i){n.dataset[t]=undefined}else n.removeAttribute("data-".concat(ui(t)))}function s(n,t,i){var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},r=i;t.trim().split(er).forEach(function(t){if(!or){var f=n.listeners;f&&f[t]&&f[t][i]&&(r=f[t][i],delete f[t][i],Object.keys(f[t]).length===0&&delete f[t],Object.keys(f).length===0&&delete n.listeners)}n.removeEventListener(t,r,u)})}function o(n,t,i){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},u=i;t.trim().split(er).forEach(function(t){if(r.once&&!or){var e=n.listeners,f=e===void 0?{}:e;u=function(){delete f[t][i];n.removeEventListener(t,u,r);for(var o=arguments.length,s=new Array(o),e=0;e<o;e++)s[e]=arguments[e];i.apply(n,s)};f[t]||(f[t]={});f[t][i]&&n.removeEventListener(t,f[t][i],r);f[t][i]=u;n.listeners=f}n.addEventListener(t,u,r)})}function nt(n,t,i){var r;return e(Event)&&e(CustomEvent)?r=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,i)),n.dispatchEvent(r)}function sr(n){var t=n.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}function hr(n){var t=n.match(wu);return t!==null&&(t[1]!==ei.protocol||t[2]!==ei.hostname||t[3]!==ei.port)}function cr(n){var t="timestamp=".concat((new Date).getTime());return n+(n.indexOf("?")===-1?"?":"&")+t}function ot(t){var u=t.rotate,f=t.scaleX,e=t.scaleY,o=t.translateX,s=t.translateY,i=[],r;return n(o)&&o!==0&&i.push("translateX(".concat(o,"px)")),n(s)&&s!==0&&i.push("translateY(".concat(s,"px)")),n(u)&&u!==0&&i.push("rotate(".concat(u,"deg)")),n(f)&&f!==1&&i.push("scaleX(".concat(f,")")),n(e)&&e!==1&&i.push("scaleY(".concat(e,")")),r=i.length?i.join(" "):"none",{WebkitTransform:r,msTransform:r,transform:r}}function bu(n){var u=t({},n),i=[];return r(n,function(n,t){delete u[t];r(u,function(t){var r=Math.abs(n.startX-t.startX),u=Math.abs(n.startY-t.startY),f=Math.abs(n.endX-t.endX),e=Math.abs(n.endY-t.endY),o=Math.sqrt(r*r+u*u),s=Math.sqrt(f*f+e*e),h=(s-o)/o;i.push(h)})}),i.sort(function(n,t){return Math.abs(n)<Math.abs(t)}),i[0]}function at(n,i){var r=n.pageX,u=n.pageY,f={endX:r,endY:u};return i?f:t({startX:r,startY:u},f)}function ku(n){var t=0,i=0,u=0;return r(n,function(n){var r=n.startX,f=n.startY;t+=r;i+=f;u+=1}),t/=u,i/=u,{pageX:t,pageY:i}}function v(n){var r=n.aspectRatio,i=n.height,t=n.width,f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"contain",e=ur(t),o=ur(i),u;retur&o?(u=i*r,f==="contain"&&u>t||f==="cover"&&u<t?i=t/r:t=i*r):e?i=t/r:o&&(t=i*r),{width:t,height:i}}function du(n){var i=n.width,r=n.height,t=n.degree;if(t=Math.abs(t)%180,t===90)return{width:r,height:i};var u=t%90*Math.PI/180,f=Math.sin(u),e=Math.cos(u),o=i*e+r*f,s=i*f+r*e;return t>90?{width:s,height:o}:{width:o,height:s}}function gu(n,t,i,r){var s=t.aspectRatio,lt=t.naturalWidth,at=t.naturalHeight,h=t.rotate,vt=h===void 0?0:h,c=t.scaleX,yt=c===void 0?1:c,l=t.scaleY,pt=l===v0?1:l,a=i.aspectRatio,wt=i.naturalWidth,bt=i.naturalHeight,y=r.fillColor,kt=y===void 0?"transparent":y,p=r.imageSmoothingEnabled,dt=p=== 0?!0:p,w=r.imageSmoothingQuality,gt=w===void 0?"low":w,b=r.maxWidth,k=b===void 0?Infinity:b,g=r.maxHeight,nt=g===void 0?Infinity:g,tt=r.minWidth,it=tt===void 0?0:tt,rt=r.minHeight,ut=rt===void 0?0:rt,f=document.createElement("canvas"),u=f.getContext("2d"),ft=v({aspectRatio:a,width:k,height:nt}),et=v({aspectRatio:a,width:it,height:ut},"cover"),e=Math.min(ft.width,Math.max(et.width,wt)),o=Math.min(ft.height,Math.max(et.height,bt)),ot=v({aspectRatio:s,width:k,height:nt}),st=v({aspectRatio:s,width:it,height:ut},"cover"),ht=Math.min(ot.width,Math.max(st.width,lt)),ct=Math.min(ot.height,Math.max(st.height,at)),ni=[-ht/2,-ct/2,ht,ct];return f.width=d(e),f.height=d(o),u.fillStyle=kt,u.fillRect(0,0,e,o),u.save(),u.translate(e/2,o/2),u.rotate(vt*Math.PI/180),u.scale(yt,pt),u.imageSmoothingEnabled=dt,u.imageSmoothingQuality=gt,u.drawImage.apply(u,[n].concat(si(ni.map(function(n){return Math.floor(d(n))})))),u.restore(),f}function nf(n,t,i){var u="",r;for(i+=t,r=t;r<i;r+=1)u+=lr(n.getUint8(r));return u}function rf(n){var f=n.replace(tf,""),t=atob(f),i=new ArrayBuffer(t.length),u=new Uint8Array(i);return r(u,function(n,i){u[i]=t.charCodeAt(i)}),i}function uf(n,t){for(var r=[],u=8192,i=new Uint8Array(n);i.length>0;)r.push(lr.apply(null,fr(i.subarray(0,u)))),i=i.subarray(u);return"data:".concat(t,";base64,").concat(btoa(r.join("")))}function ff(n){var t=new DataView(n),h,i,e,o,a,r,v,u,c,l,y,f,s;try{if(t.getUint8(0)===255&&t.getUint8(1)===216)for(a=t.byteLength,r=2;r+1<a;){if(t.getUint8(r)===255&&t.getUint8(r+1)===225){e=r;break}r+=1}if(e&&(v=e+4,u=e+10,nf(t,v,4)==="Exif"&&(c=t.getUint16(u),i=c===18761,(i||c===19789)&&t.getUint16(u+2,i)===42&&(l=t.getUint32(u+4,i),l>=8&&(o=u+l)))),o)for(y=t.getUint16(o,i),s=0;s<y;s+=1)if(f=o+s*12+2,t.getUint16(f,i)===274){f+=8;h=t.getUint16(f,i);t.setUint16(f,1,i);break}}catch(p){h=1}return h}function ef(n){var t=0,i=1,r=1;switch(n){case 2:i=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90;r=-1;break;case 6:t=90;break;case 7:t=90;i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:r}}var ht=typeof window!="undefined"&&typeof document!="undefined",c=ht?window:{},vt=ht?"ontouchstart"in c.document.documentElement:!1,yt=ht?"PointerEvent"in c:!1,i="cropper",pt="all",hi="crop",ci="move",li="zoom",y="e",p="w",b="s",l="n",tt="ne",it="nw",rt="se",ut="sw",wt="".concat(i,"-crop"),ai="".concat(i,"-disabled"),f="".concat(i,"-hidden"),vi="".concat(i,"-hide"),kr="".concat(i,"-invisible"),ct="".concat(i,"-modal"),bt="".concat(i,"-move"),ft="".concat(i,"Action"),lt="".concat(i,"Preview"),kt="crop",yi="move",pi="none",dt="crop",gt="cropend",ni="cropmove",ti="cropstart",wi="dblclick",dr=vt?"touchstart":"mousedown",gr=vt?"touchmove":"mousemove",nu=vt?"touchend touchcancel":"mouseup",bi=yt?"pointerdown":dr,ki=yt?"pointermove":gr,di=yt?"pointerup pointercancel":nu,gi="ready",nr="resize",tr="wheel",ii="zoom",ir="image/jpeg",tu=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,iu=/^data:/,ru=/^data:image\/jpeg;base64,/,uu=/^img|canvas$/i,fu=200,eu=100,rr={viewMode:0,dragMode:kt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ou='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"><\/div><\/div><div class="cropper-drag-box"><\/div><div class="cropper-crop-box"><span class="cropper-view-box"><\/span><span class="cropper-dashed dashed-h"><\/span><span class="cropper-dashed dashed-v"><\/span><span class="cropper-center"><\/span><span class="cropper-face"><\/span><span class="cropper-line line-e" data-cropper-action="e"><\/span><span class="cropper-line line-n" data-cropper-action="n"><\/span><span class="cropper-line line-w" data-cropper-action="w"><\/span><span class="cropper-line line-s" data-cropper-action="s"><\/span><span class="cropper-point point-e" data-cropper-action="e"><\/span><span class="cropper-point point-n" data-cropper-action="n"><\/span><span class="cropper-point point-w" data-cropper-action="w"><\/span><span class="cropper-point point-s" data-cropper-action="s"><\/span><span class="cropper-point point-ne" data-cropper-action="ne"><\/span><span class="cropper-point point-nw" data-cropper-action="nw"><\/span><span class="cropper-point point-sw" data-cropper-action="sw"><\/span><span class="cropper-point point-se" data-cropper-action="se"><\/span><\/div><\/div>',su=Number.isNaN||c.isNaN,ur=function(n){return n>0&&n<Infinity},hu=Object.prototype.hasOwnProperty,cu=Array.prototype.slice,t=Object.assign||function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];return w(n)&&r.length>0&&r.forEach(function(t){w(t)&&Object.keys(t).forEach(function(i){n[i]=t[i]})}),n},lu=/\.\d*(?:0|9){12}\d*$/,au=/^width|height|left|top|marginLeft|marginTop$/,yu=/([a-z\d])([A-Z])/g,er=/\s\s*/,or=function(){var n=!1;if(ht){var t=!1,i=function(){},r=Object.defineProperty({},"once",{get:function(){return n=!0,t},set:function(n){t=n}});c.addEventListener("test",i,r);c.removeEventListener("test",i,r)}return n}(),ei=c.location,wu=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i,lr=String.fromCharCode,tf=/^data:.*,/,of={render:function(){this.initContainer();this.initCanvas();this.initCropBox();this.renderCanvas();this.cropped&&this.renderCropBox()},initContainer:function(){var i=this.element,r=this.options,e=this.container,t=this.cropper,n;u(t,f);h(i,f);n={width:Math.max(e.offsetWidth,Number(r.minContainerWidth)||200),height:Math.max(e.offsetHeight,Number(r.minContainerHeight)||100)};this.containerData=n;a(t,{width:n.width,height:n.height});u(i,f);h(t,f)},initCanvas:function(){var n=this.containerData,r=this.imageData,f=this.options.viewMode,s=Math.abs(r.rotate)%180==90,h=s?r.naturalHeight:r.naturalWidth,c=s?r.naturalWidth:r.naturalHeight,u=h/c,e=n.width,o=n.height,i;n.height*u>n.width?f===3?e=n.height*u:o=n.width/u:f===3?o=n.width/u:e=n.height*u;i={aspectRatio:u,naturalWidth:h,naturalHeight:c,width:e,height:o};i.left=(n.width-e)/2;i.top=(n.height-o)/2;i.oldLeft=i.left;i.oldTop=i.top;this.canvasData=i;this.limited=f===1||f===2;this.limitCanvas(!0,!0);this.initialImageData=t({},r);this.initialCanvasData=t({},i)},limitCanvas:function(n,t){var a=this.options,e=this.containerData,i=this.canvasData,f=this.cropBoxData,s=a.viewMode,o=i.aspectRatio,h=this.cropped&&f,r,u,y,c,l;n&&(r=Number(a.minCanvasWidth)||0,u=Number(a.minCanvasHeight)||0,s>1?(r=Math.max(r,e.w),u=Math.max(u,e.height),s===3&&(u*o>r?r=u*o:u=r/o)):s>0&&(r?r=Math.max(r,h?f.width:0):u?u=Math.max(u,h?f.height:0):h&&(r=f.width,u=f.height,u*o>r?r=u*o:u=r/o)),y=v({aspectRatio:o,width:r,height:u}),r=y.width,u=y.height,i.minWidth=r,i.minHeight=u,i.maxWidth=Infinity,i.maxHeight=Infinity);t&&(s>(h?0:1)?(c=e.width-i.width,l=e.height-i.height,i.minLeft=Math.min(0,c),i.minTop=Math.min(0,l),i.maxLeft=Math.max(0,c),i.maxTop=Math.max(0,l),h&&this.limited&&(i.minLeft=Math.min(f.left,f.left+(f.width-i.width)),i.minTop=Math.min(f.top,f.top+(f.height-i.height)),i.maxLeft=f.left,i.maxTop=f.top,s===2&&(i.width>=e.width&&(i.minLeft=Math.min(0,c),i.maxLeft=Math.max(0,c)),i.height>=e.height&&(i.minTop=Math.min(0,l),i.maxTop=Math.max(0,l))))):(i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=e.width,i.maxTop=e.height))},renderCanvas:function(n,i){var r=this.canvasData,u=this.imageData;if(i){var o=du({width:u.naturalWidth*Math.abs(u.scaleX||1),height:u.naturalHeight*Math.abs(u.scaleY||1),degree:u.rotate||0}),f=o.width,e=o.height,s=r.width*(f/r.naturalWidth),h=r.height*(e/r.naturalHeight);r.left-=(s-r.width)/2;r.top-=(h-r.height)/2;r.width=s;r.height=h;r.aspectRatio=f/e;r.naturalWidth=f;r.naturalHeight=e;this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=rLeft);(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop);r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth);r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight);this.limitCanvas(!1,!0);r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft);r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop);r.oldLeft=r.left;r.oldTop=r.top;a(this.canvas,t({width:r.width,height:r.height},ot({translateX:r.left,translateY:r.top})));this.renderImage(n);this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(n){var r=this.canvasData,i=this.imageData,u=i.naturalWidth*(r.width/r.naturalWidth),f=i.naturalHeight*(r.height/r.naturalHeight);t(i,{width:u,height:f,left:(r.width-u)/2,top:(r.height-f)/2});a(this.image,t({width:i.width,height:i.height},ot(t({translateX:i.left,translateY:i.top},i))));n&&this.output()},initCropBox:function(){var u=this.options,i=this.canvasData,r=u.aspectRatio||u.initialAspectRatio,f=Number(u.autoCropArea)||.8,n={width:i.width,height:i.height};r&&(i.height*r>i.width?n.heig.width/r:n.width=n.height*r);this.cropBoxData=n;this.limitCropBox(!0,!0);n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth);n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight);n.width=Math.max(n.minWidth,n.width*f);n.height=Math.max(n.minHeight,n.height*f);n.left=i.left+(i.width-n.width)/2;n.top=i.top+(i.height-n.height)/2;n.oldLeft=n.left;n.oldTop=n.top;this.initialCropBoxData=t({},n)},limitCropBox:function(n,t){var c=this.options,u=this.containerData,r=this.canvasData,i=this.cropBoxData,l=this.limited,o=c.aspectRatio;if(n){var f=Number(c.minCropBoxWidth)||0,e=Number(c.minCropBoxHeight)||0,s=l?Math.min(u.width,r.width,r.width+r.le.width-r.left):u.width,h=l?Math.min(u.height,r.height,r.height+r.top,u.height-r.top):u.height;f=Math.min(f,u.width);e=Math.min(e,u.height);o&&(f&&e?e*o>f?e=f/o:f=e*o:f?e=f/o:e&&(f=e*o),h*o>s?h=s/o:s=h*o);i.minWidth=Math.min(f,s);i.minHeight=Math.min(e,h);i.maxWidth=s;i.maxHeight=h}t&&(l?(i.minLeft=Math.max(0,r.left),i.minTop=Math.max(0,r.top),i.maxLeft=Math.min(u.width,r.left+r.width)-i.width,i.maxTop=Math.min(u.height,r.top+r.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=u.width-i.width,i.maxTop=u.height-i.height))},renderCropBox:function(){var i=this.options,r=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft);(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop);n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth);n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight);this.limitCropBox(!1,!0);n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft);n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop);n.oldLeft=n.left;n.oldTop=n.top;i.movable&&i.cropBoxMovable&&et(this.face,ft,n.width>=r.width&&n.height>=r.height?ci:pt);a(this.cropBox,t({width:n.width,height:n.height},ot({translateX:n.left,translateY:n.top})));this.cropped&&this.limited&&this.limitCanvas(!0,!0);this.disabled||this.output()},output:function(){this.preview();nt(this.element,dt,this.getData())}},sf={initPreview:function(){var f=this.element,t=this.crossOrigin,n=this.options.preview,e=t?this.crossOriginUrl:this.url,o=f.alt||"The image to preview",i=document.createElement("img"),u;(t&&(i.crossOrigin=t),i.src=e,i.alt=o,this.viewBox.appendChild(i),this.viewBoxImage=i,n)&&(u=n,typeof n=="string"?u=f.ownerDocument.querySelectorAll(n):n.querySelector&&(u=[n]),this.previews=u,r(u,function(n){var i=document.createElement("img");et(n,lt,{width:n.offsetWidth,height:n.offsetHeight,html:n.innerHTML});t&&(i.crossOrigin=t);i.src=e;i.alt=o;i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"';n.innerHTML="";n.appendChild(i)}))},resetPreview:function(){r(this.previews,function(n){var t=fi(n,lt);a(n,{width:t.width,height:t.height});n.innerHTML=t.html;pu(n,lt)})},preview:function(){var n=this.imageData,e=this.canvasData,i=this.cropBoxData,u=i.width,f=i.height,o=n.width,s=n.height,h=i.left-e.left-n.left,c=i.top-e.top-n.top;this.cropped&&!this.disabled&&(a(this.viewBoxImage,t({width:o,height:s},ot(t({translateX:-h,translateY:-c},n)))),r(this.previews,function(i){var v=fi(i,lt),y=v.width,e=v.height,p=y,l=e,r=1;u&&(r=y/u,l=f*r);f&&l>e&&(r=e/f,p=u*r,l=e);a(i,{width:p,height:l});a(i.getElementsByTagName("img")[0],t({width:o*r,height:s*r},ot(t({translateX:-h*r,translateY:-c*r},n))))}))}},hf={bind:function(){var t=this.element,n=this.options,i=this.cropper;e(n.cropstart)&&o(t,ti,n.cropstart);e(n.cropmove)&&o(t,ni,n.cropmove);e(n.cropend)&&o(t,gt,n.cropend);e(n.crop)&&o(t,dt,n.crop);e(n.zoom)&&o(t,ii,n.zoom);o(i,bi,this.onCropStart=this.cropStart.bind(this));n.zoomable&&n.zoomOnWheel&&o(i,tr,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0});n.toggleDragModeOnDblclick&&o(i,wi,this.onDblclick=this.dblclick.bind(this));o(t.ownerDocument,ki,this.onCropMove=this.cropMove.bind(this));o(t.ownerDocument,di,this.onCropEnd=this.cropEnd.bind(this));n.responsive&&o(window,nr,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,i=this.cropper;e(n.cropstart)&&s(t,ti,n.cropstart);e(n.cropmove)&&s(t,ni,n.cropmove);e(n.cropend)&&s(t,gt,n.cropend);e(n.crop)&&s(t,dt,n.crop);e(n.zoom)&&s(t,ii,n.zoom);s(i,bi,this.onCropStart);n.zoomable&&n.zoomOnWheel&&s(i,tr,this.onWheel,{passive:!1,capture:!0});n.toggleDragModeOnDblclick&&s(i,wi,this.onDblclick);s(t.ownerDocument,ki,this.onCropMove);s(t.ownerDocument,di,this.onCropEnd);n.responsive&&s(window,nr,this.onResize)}},cf={resize:function(){var n=this.options,e=this.container,t=this.containerData,o=Number(n.minContainerWidth)||fu,s=Number(n.minContainerHeight)||eu,i,u,f;this.disabled||t.width<=o||t.height<=s||(i=e.offsetWidth/t.width,(i!==1||e.offsetHeight!==t.height)&&(n.restore&&(u=this.getCanvasData(),f=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(r(u,function(n,t){u[t]=n*i})),this.setCropBoxData(r(f,function(n,t){f[t]=n*i})))))},dblclick:function(){this.disabled||this.options.dragMode===pi||this.setDragMode(vu(this.dragBox,wt)?yi:kt)},wheel:function(n){var i=this,r=Number(this.options.wheelZoomRatio)||.1,t=1;this.disabled||(n.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50),n.deltaY?t=n.deltaY>0?1:-1:n.wheelDelta?t=-n.wheelDelta/120:n.detail&&(t=n.detail>0?1:-1),this.zoom(-t*r,n))},cropStart:function(t){var o=t.buttons,s=t.button,e,f,i;this.disabled||n(o)&&o!==1||n(s)&&s!==0||t.ctrlKey||(e=this.options,f=this.pointers,t.changedTouches?r(t.changedTouches,function(n){f[n.identifier]=at(n)}):f[t.pointerId||0]=at(t),i=Object.keys(f).length>1&&e.zoomable&&e.zoomOnTouch?li:fi(t.target,ft),tu.test(i))&&nt(this.element,ti,{originalEvent:t,action:i})!==!1&&(t.preventDefault(),this.action=i,this.cropping=!1,i===hi&&(this.cropping=!0,u(this.dragBox,ct)))},cropMove:function(n){var u=this.action,i;!this.disabled&&u&&(i=this.pointers,n.preventDefault(),nt(this.element,ni,{originalEvent:n,action:u})!==!1)&&(n.changedTouches?r(n.changedTouches,function(n){t(i[n.identifier]||{},at(n,!0))}):t(i[n.pointerId||0]||{},at(n,!0)),this.change(n))},cropEnd:function(n){if(!this.disabled){var i=this.action,t=this.pointers;(n.changedTouches?r(n.changedTouches,function(n){delete t[n.identifier]}):delete t[n.pointerId||0],i)&&(n.preventDefault(),Object.keys(t).length||(this.action=""),this.cropping&&(this.cropping=!1,g(this.dragBox,ct,this.cropped&&this.options.modal)),nt(this.element,gt,{originalEvent:n,action:i}))}}},lf={change:function(n){var at=this.options,ot=this.canvasData,ht=this.containerData,a=this.cropBoxData,ct=this.pointers,c=this.action,s=at.aspectRatio,o=a.left,e=a.top,i=a.width,u=a.height,et=o+i,g=e+u,nt=0,k=0,ft=ht.width,d=ht.height,v=!0,lt;!s&&n.shiftKey&&(s=i&&u:1);this.limited&&(nt=a.minLeft,k=a.minTop,ft=nt+Math.min(ht.width,ot.width,ot.left+ot.width),d=k+Math.min(ht.height,ot.height,ot.top+ot.height));var st=ct[Object.keys(ct)[0]],t={x:st.endX-st.startX,y:st.endY-st.startY},w=function(n){switch(n){case y:et+t.x>ft&&(t.x=ft-et);break;case p:o+t.x<nt&&(t.x=nt-o);break;case l:e+t.y<k&&(t.y=k-e);break;case b:g+t.y>d&&(t.y=d-g)}};switch(c){case pt:o+=t.x;e+=t.y;break;case y:if(t.x>=0&&(et>=ft||s&&(e<=k||g>=d))){v=!1;break}w(y);i+=t.x;i<0&&(c=p,i=-i,o-=i);s&&(u=i/s,e+=(a.height-u)/2);break;case l:if(t.y<=0&&(e<=k||s&&(o<=nt||et>=ft))){v=!1;break}w(l);u-=t.y;e+=t.y;u<0&&(c=b,u=-u,e-=u);s&&(i=u*s,o+=(a.width-i)/2);break;case p:if(t.x<=0&&(o<=nt||s&&(e<=k||g>=d))){v=!1;break}w(p);i-=t.x;o+=t.x;i<0&&(c=y,i=-i,o-=i);s&&(u=i/s,e+=(a.height-u)/2);break;case b:if(t.y>=0&&(g>=d||s&&(o<=nt||et>=ft))){v=!1;break}w(b);u+=t.y;u<0&&(c=l,u=-u,e-=u);s&&(i=u*s,o+=(a.width-i)/2);break;case tt:if(s){if(t.y<=0&&(e<=k||et>=ft)){v=!1;break}w(l);u-=t.y;e+=t.y;i=u*s}else w(l),w(y),t.x>=0?et<ft?i+=t.x:t.y<=0&&e<=k&&(v=!1):i+=t.x,t.y<=0?e>k&&(u-=t.y,e+=t.y):(u-=t.y,e+=t.y);i<0&&u<0?(c=ut,u=-u,i=-i,e-=u,o-=i):i<0?(c=it,i=-i,o-=i):u<0&&(c=rt,u=-u,e-=u);break;case it:if(s){if(t.y<=0&&(e<=k||o<=nt)){v=!1;break}w(l);u-=t.y;e+=t.y;i=u*s;o+=a.width-i}else w(l),w(p),t.x<=0?o>nt?(i-=t.x,o+=t.x):t.y<=0&&e<=k&&(v=!1):(i-=t.x,o+=t.x),t.y<=0?e>k&&(u-=t.y,e+=t.y):(u-=t.y,e+=t.y);i<0&&u<0?(c=rt,u=-u,i=-i,e-=u,o-=i):i<0?(c=tt,i=-i,o-=i):u<0&&(c=ut,u=-u,e-=u);break;case ut:if(s){if(t.x<=0&&(o<=nt||g>=d)){v=!1;break}w(p);i-=t.x;o+=t.x;u=i/s}else w(b),w(p),t.x<=0?o>nt?(i-=t.x,o+=t.x):t.y>=0&&g>=d&&(v=!1):(i-=t.x,o+=t.x),t.y>=0?g<d&&(u+=t.y):u+=t.y;i<0&&u<0?(c=tt,u=-u,i=-i,e-=u,o-=i):i<0?(c=rt,i=-i,o-=i):u<0&&(c=it,u=-u,e-=u);break;case rt:if(s){if(t.x>=0&&(et>=ft||g>=d)){v=!1;break}w(y);i+=t.x;u=i/s}else w(b),w(y),t.x>=0?et<ft?i+=t.x:t.y>=0&&g>=d&&(v=!1):i+=t.x,t.y>=0?g<d&&(u+=t.y):u+=t.y;i<0&&u<0?(c=it,u=-u,i=-i,e-=u,o-=i):i<0?(c=ut,i=-i,o-=i):u<0&&(c=tt,u=-u,e-=u);break;case ci:this.move(t.x,t.y);v=!1;break;case li:this.zoom(bu(ct),n);v=!1;break;case hi:if(!t.x||!t.y){v=!1;break}lt=sr(this.cropper);o=st.startX-lt.left;e=st.startY-lt.top;i=a.minWidth;u=a.minHeight;t.x>0?c=t.y>0?rt:tt:t.x<0&&(o-=i,c=t.y>0?ut:it);t.y<0&&(e-=u);this.cropped||(h(this.cropBox,f),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}v&&(a.width=i,a.height=u,a.left=o,a.top=e,this.action=c,this.renderCropBox());r(ct,function(n){n.startX=n.endX;n.startY=n.endY})}},af={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&u(this.dragBox,ct),h(this.cropBox,f),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=t({},this.initialImageData),this.canvasData=t({},this.initialCanvasData),this.cropBoxData=t({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(t(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),h(this.dragBox,ct),u(this.cropBox,f)),this},replace:function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return!this.disabled&&n&&(this.isImg&&(this.element.src=n),t?(this.url=n,this.image.src=n,this.ready&&(this.viewBoxImage.src=n,r(this.previews,function(t){t.getElementsByTagName("img")[0].src=n}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(n))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,h(this.cropper,ai)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,u(this.cropper,ai)),this},destroy:function(){var n=this.element;return n[i]?(n[i]=undefined,this.isImg&&this.replaced&&(n.src=this.originalUrl),this.uncreate(),this):this},move:function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n,i=this.canvasData,r=i.left,u=i.top;return this.moveTo(ri(n)?n:r+Number(n),ri(t)?t:u+Number(t))},moveTo:function(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,u=this.canvasData,r=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(n(t)&&(u.left=t,r=!0),n(i)&&(u.top=i,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(n,t){var i=this.canvasData;return n=Number(n),n=n<0?1/(1-n):1+n,this.zoomTo(i.width*n/i.naturalWidth,null,t)},zoomTo:function(t,i,r){var v=this.options,u=this.canvasData,f=u.width,e=u.height,c=u.naturalWidth,y=u.naturalHeight,o,s;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&v.zoomable){if(o=c*t,s=y*t,nt(this.element,ii,{ratio:t,oldRatio:f/c,originalEvent:r})===!1)return this;if(r){var h=this.pointers,l=sr(this.cropper),a=h&&Object.keys(h).length?ku(h):{pageX:r.pageX,pageY:r.pageY};u.left-=(o-f)*((a.pageX-l.left-u.left)/f);u.top-=(s-e)*((a.pageY-l.top-u.top)/e)}else k(i)&&n(i.x)&&n(i.y)?(u.left-=(o-f)*((i.x-u.left)/f),u.top-=(s-e)*((i.y-u.top)/e)):(u.left-=(o-f)/2,u.top-=(s-e)/2);u.width=o;u.height=s;this.renderCanvas(!0)}return this},rotate:function(n){return this.rotateTo((this.imageData.rotate||0)+Number(n))},rotateTo:function(t){return t=Number(t),n(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var i=this.imageData.scaleY;return this.scale(t,n(i)?i:1)},scaleY:function(t){var i=this.imageData.scaleX;return this.scale(n(i)?i:1,t)},scale:function(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,u=this.imageData,r=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(n(t)&&(u.scaleX=t,r=!0),n(i)&&(u.scaleY=i,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var h=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,u=this.options,t=this.imageData,f=this.canvasData,i=this.cropBoxData,n,e,o,s;return this.ready&&this.cropped?(n={x:i.left-f.left,y:i.top-f.top,width:i.width,height:i.height},e=t.width/t.naturalWidth,r(n,function(t,i){n[i]=t/e}),h&&(o=Math.round(n.y+n.height),s=Math.round(n.x+n.width),n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=s-n.x,n.height=o-n.y)):n={x:0,y:0,width:0,height:0},u.rotatable&&(n.rotate=t.rotate||0),u.scalable&&(n.scaleX=t.scaleX||1,n.scaleY=t.scaleY||1),n},setData:function(t){var e=this.options,i=this.imageData,o=this.canvasData,r={},u,f;return this.ready&&!this.disabled&&k(t)&&(u=!1,e.rotatable&&n(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,u=!0),e.scalable&&(n(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,u=!0),n(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,u=!0)),u&&this.renderCanvas(!0,!0),f=i.width/i.naturalWidth,n(t.x)&&(r.left=t.x*f+o.left),n(t.y)&&(r.top=t.y*f+o.top),n(t.width)&&(r.width=t.width*f),n(t.height)&&(r.height=t.height*f),this.setCropBoxData(r)),this},getContainerData:function(){return this.ready?t({},this.containerData):{}},getImageData:function(){return this.sized?t({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&r(["left","top","width","height","naturalWidth","naturalHeight"],function(i){n[i]=t[i]}),n},setCanvasData:function(t){var i=this.canvasData,r=i.aspectRatio;return this.ready&&!this.disabled&&k(t)&&(n(t.left)&&(i.left=t.left),n(t.top)&&(i.top=t.top),n(t.width)?(i.width=tth,i.height=t.width/r):n(t.height)&&(i.height=t.height,i.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var n=this.cropBoxData,t;return this.ready&&this.cropped&&(t={left:n.left,top:n.top,width:n.width,height:n.height}),t||{}},setCropBoxData:function(t){var i=this.cropBoxData,r=this.options.aspectRatio,u,f;return this.ready&&this.cropped&&!this.disabled&&k(t)&&(n(t.left)&&(i.left=t.left),n(t.top)&&(i.top=t.top),n(tth)&&t.width!==i.width&&(u=!0,i.width=t.width),n(t.height)&&t.height!==i.height&&(f=!0,i.height=t.height),r&&(u?i.height=i.width/r:f&&(i.width=i.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},it,r,l,e,ut,p;if(!this.ready||!window.HTMLCanvasElement)return null;if(it=this.canvasData,r=gu(this.image,this.imageData,it,n),!this.cropped)return r;var w=this.getData(),ft=w.x,et=w.y,u=w.width,s=w.height,f=r.width/Math.floor(it.naturalWidth);f!==1&&(ft*=f,et*=f,u*=f,s*=f);var rt=u/s,ot=v({aspectRatio:rt,width:n.maxWidth||Infinity,height:n.maxHeight||Infinity}),st=v({aspectRatio:rt,width:n.minWidth||0,height:n.minHeight||0},"cover"),ht=v({aspectRatio:rt,width:n.width||(f!==1?r.width:u),height:n.height||(f!==1?r.height:s)}),c=ht.width,b=ht.height;c=Math.min(ot.width,Math.max(st.width,c));b=Math.min(ot.height,Math.max(st.height,b));l=document.createElement("canvas");e=l.getContext("2d");l.width=d(c);l.height=d(b);e.fillStyle=n.fillColor||"transparent";e.fillRect(0,0,c,b);var ct=n.imageSmoothingEnabled,at=ct===void 0?!0:ct,lt=n.imageSmoothingQuality;e.imageSmoothingEnabled=at;lt&&(e.imageSmoothingQuality=lt);var k=r.width,g=r.height,t=ft,i=et,o,h,nt,tt,a,y;return t<=-u||t>k?(t=0,o=0,nt=0,a=0):t<=0?(nt=-t,t=0,o=Math.min(k,u+t),a=o):t<=k&&(nt=0,o=Math.min(u,k-t),a=o),o<=0||i<=-s||i>g?(i=0,h=0,tt=0,y=0):i<=0?(tt=-i,i=0,h=Math.min(g,s+i),y=h):i<=g&&(tt=0,h=Math.min(s,g-i),y=h),ut=[t,i,o,h],a>0&&y>0&&(p=c/u,ut.push(nt*p,tt*p,a*p,y*p)),e.drawImage.apply(e,[r].concat(si(ut.map(function(n){return Math.floor(d(n))})))),l},setAspectRatio:function(n){var t=this.options;return this.disabled||ri(n)||(t.aspectRatio=Math.max(0,n)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:functionvar r=this.options,u=this.dragBox,f=this.face,t,i;return this.ready&&!this.disabled&&(t=n===kt,i=r.movable&&n===yi,n=t||i?n:pi,r.dragMode=n,et(u,ft,n),g(u,wt,t),g(u,bt,i),r.cropBoxMovable||(et(f,ft,n),g(f,wt,t),g(f,bt,i))),this}},vf=c.Cropper,ar=function(){function n(i){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(vr(this,n),!i||!uu.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i;this.options=t({},rr,k(r)&&r);this.cropped=!1;this.disabled=!1;this.pointers={};this.ready=!1;this.reloading=!1;this.replaced=!1;this.sized=!1;this.sizing=!1;this.init()}return yr(n,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),t;if(!n[i]){if(n[i]=this,r==="img"){if(this.isImg=!0,t=n.getAttribute("src")||"",this.originalUrl=t,!t)return;t=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(t=n.toDataURL());this.load(t)}}},{key:"load",value:function(n){var u=this,f,i,t,r;if(n){if(this.url=n,this.imageData={},f=this.element,i=this.options,i.rotatable||i.scalable||(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(iu.test(n)){ru.test(n)?this.read(rf(n)):this.clone();return}t=new XMLHttpRequest;r=this.clone.bind(this);this.reloading=!0;this.xhr=t;t.onabort=r;t.onerror=r;t.ontimeout=r;t.onprogress=function(){t.getResponseHeader("content-type")!==ir&&t.abort()};t.onload=function(){u.read(t.response)};t.onloadend=function(){u.reloading=!1;u.xhr=null};i.checkCrossOrigin&&hr(n)&&f.crossOrigin&&(n=cr(n));t.open("GET",n);t.responseType="arraybuffer";t.withCredentials=f.crossOrigin==="use-credentials";t.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,u=ff(n),f=0,e=1,o=1,t;u>1&&(this.url=uf(n,ir),t=ef(u),f=t.rotate,e=t.scaleX,o=t.scaleY);r.rotatable&&(i.rotate=f);r.scalable&&(i.scaleX=e,i.scaleY=o);this.clone()}},{key:"clone",value:function(){var i=this.element,r=this.url,t=i.crossOrigin,f=r,n;this.options.checkCrossOrigin&&hr(r)&&(t||(t="anonymous"),f=cr(r));this.crossOrigin=t;this.crossOriginUrl=f;n=document.createElement("img");t&&(n.crossOrigin=t);n.src=f||r;n.alt=i.alt||"The image to crop";this.image=n;n.onload=this.start.bind(this);n.onerror=this.stop.bind(this);u(n,vi);i.parentNode.insertBefore(n,i.nextSibling)}},{key:"start",value:function(){var r=this,i=this.image,u,f,n,e;if(i.onload=null,i.onerror=null,this.sizing=!0,u=c.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(c.navigator.userAgent),f=function(n,i){t(r.imageData,{naturalWidth:n,naturalHeight:i,aspectRatio:n/i});r.sizing=!1;r.sized=!0;r.build()},i.naturalWidth&&!u){f(i.naturalWidth,i.naturalHeight);return}n=document.createElement("img");e=document.body||document.documentElement;this.sizingImage=n;n.onload=function(){f(n.width,n.height);u||e.removeChild(n)};n.src=i.src;u||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",e.appendChild(n))}},{key:"stop",value:function(){var n=this.image;n.onload=null;n.onerror=null;n.parentNode.removeChild(n);this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var s=this.element,n=this.options,l=this.image,a=s.parentNode,v=document.createElement("div");v.innerHTML=ou;var t=v.querySelector(".".concat(i,"-container")),y=t.querySelector(".".concat(i,"-canvas")),p=t.querySelector(".".concat(i,"-drag-box")),r=t.querySelector(".".concat(i,"-crop-box")),c=r.querySelector(".".concat(i,"-face"));this.container=a;this.cropper=t;this.canvas=y;this.dragBox=p;this.cropBox=r;this.viewBox=t.querySelector(".".concat(i,"-view-box"));this.face=c;y.appendChild(l);u(s,f);a.insertBefore(t,s.nextSibling);this.isImg||h(l,vi);this.initPreview();this.bind();n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN;n.aspectRatio=Math.max(0,n.aspectRatio)||NaN;n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0;u(r,f);n.guides||u(r.gementsByClassName("".at(i,"-dashed")),f);n.center||u(r.getElementsByClassName("".concat(i,"-center")),f);n.background&&u(t,"".concat(i,"-bg"));n.highlight||u(c,kr);n.cropBoxMovable&&(u(c,bt),et(c,ft,pt));n.cropBoxResizable||(u(r.getElementsByClassName("".concat(i,"-line")),f),u(r.getElementsByClassName("".concat(i,"-point")),f));this.render();this.ready=!0;this.setDragMode(n.dragMode);n.autoCrop&&this.crop();this.setData(n.data);e(n.ready)&&o(s,gi,n.ready,{once:!0});nt(s,gi)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),h(this.element,f))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=vf,n}},{key:"setDefaults",value:function(n){t(rr,k(n)&&n)}}]),n}();return t(ar.prototype,of,sf,hf,cf,lf,af),ar});RssSign.prototype.set={};RssSign.prototype.init=function(n){$.extend(this.set,n||{});this.width=this.wrap.innerWidth();this.height=this.wrap.innerHeight();this.canvas=$("<canvas>");this.canvas.attr({width:this.width,height:this.height});this.wrap.html(this.canvas);this.ctx=ctx=this.canvas.get(0).getContext("2d");var t=0,i=0,r=this.set;this.canvas.on("slidestart",function(n,r){t=r.x;i=r.y}).on("slidemove",function(n,u){ctx.beginPath();ctx.lineWidth=r.size;ctx.moveTo(t,i);ctx.lineTo(u.x,u.y);ctx.stroke();t=u.x;i=u.y}).on("slideend",function(){ctx.save()}).touchslide()};RssSign.prototype.reset=function(){this.ctx.clearRect(0,0,this.width,this.height)};RssSign.prototype.crop=function(){for(var f,o,s,l,n=parseInt(this.width),t=parseInt(this.height),i=this.ctx.getImageData(0,0,n,t).data,r=n,h=0,u=t,c=0,e=0;e<n;e++)for(f=0;f<t;f++)o=(e+n*f)*4,(i[o]||i[o+1]||i[o+2]||i[o+3])&&(c=Math.max(f,c),h=Math.max(e,h),u=Math.min(f,u),r=Math.min(e,r));return r++,h++,u++,c++,n=h-r,t=c-u,i=this.ctx.getImageData(r,u,n,t),s=document.createElement("canvas"),s.width=n,s.height=t,l=s.getContext("2d"),l.putImageData(i,0,0),{left:r,top:u,width:n,height:t,data:s.toDataURL()}};RssSign.prototype.getDataURL=function(){return this.canvas.get(0).toDataURL()};RssSign.prototype.setData=function(n,t){this.wrap.jSignature("setData",t)};QR8bitByte.prototype={getLength:function(){return this.data.length},write:function(n){for(var t=0;t<this.data.length;t++)n.put(this.data.charCodeAt(t),8)}};QRCode.prototype={addData:function(n){var t=new QR8bitByte(n);this.dataList.push(t);this.dataCache=null},isDark:function(n,t){if(n<0||this.moduleCount<=n||t<0||this.moduleCount<=t)throw new Error(n+","+t);return this.modules[n][t]},getModuleCount:function(){return this.moduleCount},make:function(){var t,n,i;if(this.typeNumber<1){for(t=1,t=1;t<40;t++){var u=QRRSBlock.getRSBlocks(t,this.errorCorrectLevel),r=new QRBitBuffer,f=0;for(n=0;n<u.length;n++)f+=u[n].dataCount;for(n=0;n<this.dataList.length;n++)i=this.dataList[n],r.put(i.mode,4),r.put(i.getLength(),QRUtil.getLengthInBits(i.mode,t)),i.write(r);if(r.getLengthInBits()<=f*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(n,t){var i,r;for(this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount),i=0;i<this.moduleCount;i++)for(this.modules[i]=new Array(this.moduleCount),r=0;r<this.moduleCount;r++)this.modules[i][r]=null;this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(n,t);this.typeNumber>=7&&this.setupTypeNumber(n);this.dataCache==null&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,t)},setupPositionProbePattern:function(n,t){for(var r,i=-1;i<=7;i++)if(!(n+i<=-1)&&!(this.moduleCount<=n+i))for(r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[n+i][t+r]=0<=i&&i<=6&&(r==0||r==6)||0<=r&&r<=6&&(i==0||i==6)||2<=i&&i<=4&&2<=r&&r<=4?!0:!1)},getBestMaskPattern:function(){for(var t,i=0,r=0,n=0;n<8;n++)this.makeImpl(!0,n),t=QRUtil.getLostPoint(this),(n==0||i>t)&&(i=t,r=n);return r},createMovieClip:function(n,t,i){var r=n.createEmptyMovieClip(t,i),u=1,f,e,o,s,h;for(this.make(),f=0;f<this.modules.length;f++)for(e=f*u,o=0;o<this.modules[f].length;o++)s=o*u,h=this.modules[f][o],h&&(r.beginFill(0,100),r.moveTo(s,e),r.lineTo(s+u,e),r.lineTo(s+u,e+u),r.lineTo(s,e+u),r.endFill());return r},setupTimingPattern:function(){for(var t,n=8;n<this.moduleCount-8;n++)this.modules[n][6]==null&&(this.modules[n][6]=n%2==0);for(t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var r,f,e,n,t,i=QRUtil.getPatternPosition(this.typeNumber),u=0;u<i.length;u++)for(r=0;r<i.length;r++)if(f=i[u],e=i[r],this.modules[f][e]==null)for(n=-2;n<=2;n++)for(t=-2;t<=2;t++)this.modules[f+n][e+t]=n==-2||n==2||t==-2||t==2||n==0&&t==0?!0:!1},setupTypeNumber:function(n){for(var i,r=QRUtil.getBCHTypeNumber(this.typeNumber),t=0;t<18;t++)i=!n&&(r>>t&1)==1,this.modules[Math.floor(t/3)][t%3+this.moduleCount-11]=i;for(t=0;t<18;t++)i=!n&&(r>>t&1)==1,this.modules[t%3+this.moduleCount-11][Math.floor(t/3)]=i},setupTypeInfo:function(n,t){for(var r,f=this.errorCorrectLevel<<3|t,u=QRUtil.getBCHTypeInfo(f),i=0;i<15;i++)r=!n&&(u>>i&1)==1,i<6?this.modules[i][8]=r:i<8?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r;for(i=0;i<15;i++)r=!n&&(u>>i&1)==1,i<8?this.modules[8][this.moduleCount-i-1]=r:i<9?this.modules[8][15-i]=r:this.modules[8][14-i]=r;this.modules[this.moduleCount-8][8]=!n},mapData:function(n,t){for(var u,f,h,e=-1,i=this.moduleCount-1,o=7,s=0,r=this.moduleCount-1;r>0;r-=2)for(r==6&&r--;;){for(u=0;u<2;u++)this.modules[i][r-u]==null&&(f=!1,s<n.length&&(f=(n[s]>>>o&1)==1),h=QRUtil.getMask(t,i,r-u),h&&(f=!f),this.modules[i][r-u]=f,o--,o==-1&&(s++,o=7));if(i+=e,i<0||this.moduleCount<=i){i-=e;e=-e;break}}}};QRCode.PAD0=236;QRCode.PAD1=17;QRCode.createData=function(n,t,i){for(var e,f,o=QRRSBlock.getRSBlocks(n,t),r=new QRBitBuffer,u=0;u<i.length;u++)e=i[u],r.put(e.mode,4),r.put(e.getLength(),QRUtil.getLengthInBits(e.mode,n)),e.write(r);for(f=0,u=0;u<o.length;u++)f+=o[u].dataCount;if(r.getLengthInBits()>f*8)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+f*8+")");for(r.getLengthInBits()+4<=f*8&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;;){if(r.getLengthInBits()>=f*8)break;if(r.put(QRCode.PAD0,8),r.getLengthInBits()>=f*8)break;r.put(QRCode.PAD1,8)}return QRCode.createBytes(r,o)};QRCode.createBytes=function(n,t){for(var e,c,a,v,o,y,i,p=0,s=0,h=0,u=new Array(t.length),f=new Array(t.length),r=0;r<t.length;r++){for(e=t[r].dataCount,c=t[r].totalCount-e,s=Math.max(s,e),h=Math.max(h,c),u[r]=new Array(e),i=0;i<u[r].length;i++)u[r][i]=255&n.buffer[i+p];p+=e;var l=QRUtil.getErrorCorrectPolynomial(c),b=new QRPolynomial(u[r],l.getLength()-1),w=b.mod(l);for(f[r]=new Array(l.getLength()-1),i=0;i<f[r].length;i++)a=i+w.getLength()-f[r].length,f[r][i]=a>=0?w.get(a):0}for(v=0,i=0;i<t.length;i++)v+=t[i].totalCount;for(o=new Array(v),y=0,i=0;i<s;i++)for(r=0;r<t.length;r++)i<u[r].length&&(o[y++]=u[r][i]);for(i=0;i<h;i++)for(r=0;r<t.length;r++)i<f[r].length&&(o[y++]=f[r][i]);return o};var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(n){for(var t=n<<10;QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)t^=QRUtil.G15<<QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G15);return(n<<10|t)^QRUtil.G15_MASK},getBCHTypeNumber:function(n){for(var t=n<<12;QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)t^=QRUtil.G18<<QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G18);return n<<12|t},getBCHDigit:function(n){for(var t=0;n!=0;)t++,n>>>=1;return t},getPatternPosition:function(n){return QRUtil.PATTERN_POSITION_TABLE[n-1]},getMask:function(n,t,i){switch(n){case QRMaskPattern.PATTERN000:return(t+i)%2==0;case QRMaskPattern.PATTERN001:return t%2==0;case QRMaskPattern.PATTERN010:return i%3==0;case QRMaskPattern.PATTERN011:return(t+i)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case QRMaskPattern.PATTERN101:return t*i%2+t*i%3==0;case QRMaskPattern.PATTERN110:return(t*i%2+t*i%3)%2==0;case QRMaskPattern.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+n);}},getErrorCorrectPolynomial:function(n){for(var t=new QRPolynomial([1],0),i=0;i<n;i++)t=t.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));return t},getLengthInBits:function(n,t){if(1<=t&&t<10)switch(n){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+n);}else if(t<27)switch(n){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+n);}else if(t<41)switch(n){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+n);}else throw new Error("type:"+t);},getLostPoint:function(n){for(var s,c,u,f,e,h,t,l,r=n.getModuleCount(),o=0,i=0;i<r;i++)for(t=0;t<r;t++){for(s=0,c=n.isDark(i,t),u=-1;u<=1;u++)if(!(i+u<0)&&!(r<=i+u))for(f=-1;f<=1;f++)t+f<0||r<=t+f||(u!=0||f!=0)&&c==n.isDark(i+u,t+f)&&s++;s>5&&(o+=3+s-5)}for(i=0;i<r-1;i++)for(t=0;t<r-1;t++)e=0,n.isDark(i,t)&&e++,n.isDark(i+1,t)&&e++,n.isDark(i,t+1)&&e++,n.isDark(i+1,t+1)&&e++,(e==0||e==4)&&(o+=3);for(i=0;i<r;i++)for(t=0;t<r-6;t++)n.isDark(i,t)&&!n.isDark(i,t+1)&&n.isDark(i,t+2)&&n.isDark(i,t+3)&&n.isDark(i,t+4)&&!n.isDark(i,t+5)&&n.isDark(i,t+6)&&(o+=40);for(t=0;t<r;t++)for(i=0;i<r-6;i++)n.isDark(i,t)&&!n.isDark(i+1,t)&&n.isDark(i+2,t)&&n.isDark(i+3,t)&&n.isDark(i+4,t)&&!n.isDark(i+5,t)&&n.isDark(i+6,t)&&(o+=40);for(h=0,t=0;t<r;t++)for(i=0;i<r;i++)n.isDark(i,t)&&h++;return l=Math.abs(100*h/r/r-50)/5,o+l*10}},QRMath={glog:function(n){if(n<1)throw new Error("glog("+n+")");return QRMath.LOG_TABLE[n]},gexp:function(n){while(n<0)n+=255;while(n>=256)n-=255;return QRMath.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;QRPolynomial.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var t,r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(t=0;t<n.getLength();t++)r[i+t]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(n.get(t)));return new QRPolynomial(r,0)},mod:function(n){var r,i,t;if(this.getLength()-n.getLength()<0)return this;for(r=QRMath.glog(this.get(0))-QRMath.glog(n.get(0)),i=new Array(this.getLength()),t=0;t<this.getLength();t++)i[t]=this.get(t);for(t=0;t<n.getLength();t++)i[t]^=QRMath.gexp(QRMath.glog(n.get(t))+r);return new QRPolynomial(i,0).mod(n)}};QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(n,t){var r=QRRSBlock.getRsBlockTable(n,t),e,u,i,f;if(r==undefined)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+t);for(e=r.length/3,u=[],i=0;i<e;i++){var o=r[i*3+0],s=r[i*3+1],h=r[i*3+2];for(f=0;f<o;f++)u.push(new QRRSBlock(s,h))}return u};QRRSBlock.getRsBlockTable=function(n,t){switch(t){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(n-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(n-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(n-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(n-1)*4+3];default:return undefined}};QRBitBuffer.prototype={get:function(n){var t=Math.floor(n/8);return(this.buffer[t]>>>7-n%8&1)==1},put:function(n,t){for(var i=0;i<t;i++)this.putBit((n>>>t-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(n){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0);n&&(this.buffer[t]|=128>>>this.length%8);this.length++}};$("[horizontalslip]").horizontalslip();$("[verticalslip]").verticalslip();$("[backtotop]").backtotop();$("[scrolltoel]").scrolltoel();$("[switchslip]").switchslip();$("[tabswitch]").tabswitch();$("[loopslip]").loopslip();$("[underline]").underline();$("[pageslide]").pageslide();$("input[readonly]").focus(function(){this.blur()});$("input:not([autocomplete])").prop("autocomplete","off");jQuery.fn.extend({ryautosn:function(){var n=$(this),t=n.find(n.attr("ry-autosn")),i=parseInt(n.data("totalrows"))||0,r=parseInt(n.data("curpage"))||1,u=parseInt(n.data("pagesize"))||15,f=(r-1)*u;t.each(function(n){$(this).html(i-f-n)})}});$("[ry-autosn]").ryautosn();$("[islogin],[ry-islogin]").click(function(n){RssUser.History=$(this).attr("islogin")||$(this).attr("ry-islogin")||RssUser.History||"";RssUser.IsLogin(n)});RssApp.initqueue.push(function(){$(document).on("scroll.lazyload",function(){var i=$(window).height(),n=$("[ry-lazyload]"),t;n.length||$(this).off("scroll.lazyload");t=$(this).scrollTop()+i;n.each(function(){var i=$(this),r=i.offset().top,n;r<=t&&(n=new Image,n.onload=function(){i.attr("src",n.src);n=null},n.src=RssUpFile.DoMain+i.attr("ry-lazyload"),i.removeAttr("ry-lazyload"))})}).trigger("scroll.lazyload");$("[ry-imgtoken]").click(function(){var n=$(this);new Ajax("validate/base64").postJson(function(t){n.attr("src","data:image/png;base64,"+t.base64);RssApp.ImgToken=t.imgtoken})}).first().click();$("[ry-topage]").click(function(){var n=$(this),t=n.attr("ry-topage"),i=n.data("effect")||"pagepush";RssPage.PageToggle(t,i)});$("[ry-ajax]").on("rssajax",function(){var n=$(this);n.data("rssajax").getJson(function(){$(n.attr("pagingbind")).paging(n)})}).each(function(){var n=$(this),t=n.data("api"),u=n.data("defalut"),i=n.data("pagesize")||10,r=new Ajax(t).keyvalue("pagesize",i);n.data("rssajax",r).trigger("rssajax")});$("[ry-iscroll]").each(function(){var n=$(this);n.iscroll((n.attr("ry-iscroll")||"{}").toJson())})});$("[ry-popupuser]").click(function(){var n=$(this);RssWin.onwinreceivemsg=function(t){n.val(t.myid)};RssWin.open(n.attr("ry-popupuser")||"/user/select.jsp",400,500)});$("[ry-powerid],[powerid]").each(function(){var n=$(this),t=parseInt(n.attr("ry-powerid")||n.attr("powerid")||0);RssPower.verify(t)&&n.show()});$("[ry-share]").click(function(){RssShare.Action="app"+$(this).attr("ry-share");RssShare.Submit()});$("[ry-age]").each(function(){var n=$(this),t=n.attr("ry-age");return n.html(t?new Date(t*1e3).getAge():"")});RssEasy.SmsTick=60;$("[ry-smsverify]").click(function(){try{var n=$(this),t=(new RssDict).keyvalue($("#"+n.attr("ry-smsverify")).serializeArray()).keyvalue({imgtoken:RssApp.ImgToken,matter:n.data("matter")}).getDict(),i=n.data("act")||"verify";if(t.telphone||(t.telphone=t.account),ValidatedV4(t).isMobphone("telphone").isImgCode("imgcode").isToken("imgtoken"),RssEasy.SmsTick!=60)return;--RssEasy.SmsTick;RssTask.add("smscode",function(){if(n.html(RssEasy.SmsTick+"秒重新发送"),RssEasy.SmsTick<=0){n.html("重新发送");RssTask.remove("smscode");RssEasy.SmsTick=60;return}--RssEasy.SmsTick},1e3).start();new Ajax("sms/"+i).keyvalue(t).setLoading().setRssCode(function(n){RssCode.alert(n);RssEasy.SmsTick=0}).getJson(function(n){RssApp.SmsToken=n.smstoken})}catch(r){RssCode.alert(r)}});$("[ry-smslogin]").click(function(){var n=$("#"+$(this).attr("ry-smslogin"));if(n.find("[agreement]").length&&!n.find("[agreement]:checked").length){RssCode.alert("261");return}new Ajax("user/sms/login").keyvalue("invitemyid",RssUser.Data.invitemyid).keyvalue(n.serialize()).setLoading().keyvalue("smstoken",RssApp.SmsToken).getJson(function(n){RssUser.Update(n);RssOS.iswx&&RssWeiXin.Bind();RssApp.SmsToken="";RssUser.onLogin()})});$("[ry-accountlogin]").click(function(){var n,t;try{if(n=$("#"+$(this).attr("ry-accountlogin")),n.find("[agreement]").length&&!n.find("[agreement]:checked").length){RssCode.alert("261");return}t=(new RssDict).keyvalue(n.serialize()).getDict();ValidatedV4(t).isAccount("account").isPwd("pwd").isVerifyCode("imgcode");new Ajax("user/login").keyvalue(t).keyvalue("imgtoken",RssApp.ImgToken).setLoading().postJson(function(n){RssUser.Update(n);RssOS.iswx&&RssWeiXin.Bind();RssApp.SmsToken="";RssUser.onLogin()})}catch(i){RssCode.alert(i)}});$("[ry-acclogin]").click(function(){var n,t;try{if(n=$("#"+$(this).attr("ry-acclogin")),n.find("[agreement]").length&&!n.find("[agreement]:checked").length){RssCode.alert("261");return}t=(new RssDict).keyvalue(n.serialize()).getDict();ValidatedV4(t).isAccount("account").isPwd("pwd");new Ajax("user/acclogin").keyvalue(t).setLoading().postJson(function(n){RssUser.Update(n);RssOS.iswx&&RssWeiXin.Bind();RssApp.SmsToken="";RssUser.onLogin(n)})}catch(i){RssCode.alert(i)}});$("[ry-percent]").each(function(){var n=$(this),t=n.attr("ry-percent").split(",");n.html((parseFloat(t[0])/parseFloat(t[1])*100).toFixed(2)+"%")});$("[ry-period]").click(function(){var n=$(this)});$("[ry-accountreg]").click(function(){var n,t;try{if(n=$("#"+$(this).attr("ry-accountreg")),n.find("[agreement]").length&&!n.find("[agreement]:checked").length){RssCode.alert("261");return}t=(new RssDict).keyvalue(n.serialize()).keyvalue("invitemyid",RssUser.Data.invitemyid).getDict();ValidatedV4(t).isAccount("account").isPwd("pwd").isVerifyCode("imgcode");new Ajax("user/reg").keyvalue(t).setLoading().keyvalue("imgtoken",RssApp.ImgToken).postJson(function(n){RssUser.Update(n);RssOS.iswx&&RssWeiXin.Bind();RssApp.SmsToken="";RssUser.onReg(n)})}catch(i){RssCode.alert(i)}});$("[ry-timing]").each(function(){var n=$(this);n.html(Date.time(n.attr("ry-timing")))});$("[ry-smspwd]").click(function(){try{var n=(new RssDict).keyvalue($("#"+$(this).attr("ry-smspwd")).serializeArray()).getDict();ValidatedV4(n).isMobphone("telphone").isSmsCode("smscode").isPwd("pwd");new Ajax("user/sms/pwd").keyvalue(n).setLoading().keyvalue("smstoken",RssApp.SmsToken).postJson(function(n){RssApp.SmsToken="";RssUser.onPwd(n)})}catch(t){RssCode.alert(t)}});$("[ry-smspaypwd]").click(function(){try{var n=(new RssDict).keyvalue($("#"+$(this).attr("ry-smspaypwd")).serializeArray()).keymyid().getDict();ValidatedV4(n).isMobphone("telphone").isSmsCode("smscode").isPwd("paypwd").isPwd("repaypwd").isMyID();new Ajax("user/sms/paypwd").keyvalue(n).setLoading().keyvalue("smstoken",RssApp.SmsToken).postJson(function(n){RssApp.SmsToken="";RssUser.onPayPwd(n)})}catch(t){RssCode.alert(t)}});$("[ry-repwd]").click(function(){try{var n=(new RssDict).keyvalue($("#"+$(this).attr("ry-repwd")).serializeArray()).getDict();ValidatedV4(n).isPwd("oldpwd","原密码格式错误！").isPwd("pwd").isPwd("repwd");new Ajax("user/repwd").keyvalue(n).condition({myid:RssUser.Data.myid}).setLoading().postJson(function(n){RssApp.SmsToken="";RssUser.onPwd(n)})}catch(t){RssCode.alert(t)}});$("[ry-centpenny]").each(function(){var n=$(this),t=parseInt(n.attr("ry-centpenny"))||0,i=parseInt(n.data("data-fixed"))||2;n.htmlval((t/100).toFixed(i))});$("[ry-smsreg]").click(function(){var t,n;try{if(t=$("#"+$(this).attr("ry-smsreg")),t.find("[agreement]").length&&!t.find("[agreement]:checked").length){RssCode.alert("261");return}if(n=(new RssDict).keyvalue("invitemyid",RssUser.Data.invitemyid).keyvalue(t.serialize()).getDict(),ValidatedV4(n).isMobphone("telphone").isVerifyCode("smscode").isPwd("pwd"),n.repwd&&n.repwd!=n.pwd)throw"107";new Ajax("user/sms/reg").keyvalue(n).setLoading().keyvalue("smstoken",RssApp.SmsToken).postJson(function(n){RssApp.SmsToken="";RssUser.Update(n);RssOS.iswx&&RssWeiXin.Bind();RssUser.onReg(n)})}catch(i){RssCode.alert(i)}});$("[ry-allow]").keydown(function(n){allowinput[$(this).attr("ry-allow")](n)||(n.stopPropagation(),n.preventDefault())});$("[ry-adminlogin]").click(function(){try{var t=$("#"+$(this).attr("ry-adminlogin")),n=(new RssDict).keyvalue(t.serialize()).getDict();ValidatedV4(n).isAccount("account").isPwd("pwd");$(this).data("imgverify")!="0"&&ValidatedV4(n).isVerifyCode("imgcode");new Ajax("staff/login").keyvalue(n).setLoading().keyvalue("imgtoken",RssApp.ImgToken).postJson(function(n){RssUser.Update(n);$.each(n,function(n,t){Cookie.Set(n,t)});Cookie.Set("staffmyid",n.myid);RssUser.onLogin()})}catch(i){RssCode.alert(i)}});$("[ry-for]").each(function(){for(var i=$(this),t=i.attr("ry-for").split(","),r=[],u=parseFloat(t[0]),f=parseFloat(eval("("+t[1]+")")),e=parseFloat(t[2])||1,n=u;n<f;n+=e)r.push({key:n,value:n});i.maplist(r)});$("[ry-allow]").each(function(){var n=$(this);n.keydown(function(t){return t.which==8||t.which==9||t.which==13||t.which==46||t.which>36&&t.which<41||allowinput[n.attr("ry-allow")](t)})});$("[ry-click]").click(function(n){n.preventDefault();var t=$(this);RssClick.factory(t,t.attr("ry-click"))});$("[ry-imgopen] img").click(function(){window.open($(this).attr("src"))});$(document).on("click","[ry-link]",function(){var n=$(this).attr("ry-link");if(n){location.href=n;return}history.back()});$("[ry-hisback]").click(function(n){n.stopPropagation();n.preventDefault();var i=$(this),t=i.attr("ry-hisback");if(t){self.window.location.href=t;return}window.history.back()});$("[ry-ifrback]").click(function(n){n.stopPropagation();n.preventDefault();var i=$(this),t=i.attr("ry-hisback");if(t){self.window.location.href=t;return}self.window.history.back()});$(".hisback").click(function(n){n.preventDefault();n.stopPropagation();JsAdapter.onRollBack()});$("[ry-disedit]").each(function(){var n=$(this);n.val()&&n.prop("disabled",!0)});$("[ry-pagesize]").each(function(){var n=$(this),i=(n.data("size")||"15,30,50,100,200,300,400,500").split(","),t="";$.each(i,function(n,i){t+='<option value="'+i+'">'+i+"条<\/option>"});n.append(t).val(n.attr("ry-pagesize"))}).change(function(){parseInt($(this).data("ajax"))||(location.href="?"+Object.toQueryString($.extend(null,Url,{pagesize:this.value||1})))});$(document).on("click","[downfile]",function(){RssDownFile.Start($(this).attr("downfile"))});$("[ry-qrcode]").each(function(){var n=$(this);n.qrcode({text:n.attr("ry-qrcode"),render:n.data("render")})});$("[ry-close]").click(function(){$($(this).attr("ry-close")).hide()});$(".photolist").on("click",".btndel",function(){var n=$(this).parent();n.parent().children().last().show();n.remove()});$("[ry-loginbg]").each(function(){var n=$(this),t=n.find(">img");n.append('<img src="'+t.attr("src").replace("/small","")+'" />')});$("[ry-loginout]").click(function(){Cookie.RemoveAll();RssUser.LoginOut($(this).attr("ry-loginout"))});$("[ry-duration]").click(function(){var t=$(this).attr("ry-duration").split(","),n;RssAudio.onready=function(){$("#"+t[1]).val(RssAudio.duration);RssAudio.stop()};n=$("#"+t[0]).val();n.indexOf("http")==-1&&(n=RssUpFile.DoMain+n);RssAudio.load(n)});$("[ry-player]").click(function(){var i=$(this),t=i.attr("ry-player"),r=i.data("title")||"视频播放",u=i.data("width")||320,f=i.data("height")||240,n;t.indexOf("http")==-1&&(t=RssUpFile.DoMain+t);n=$('<video id="rsspopupplayer" src="'+t+'" autoplay controls><\/video>');t.lastIndexOf("mp4")>0?popuplayer.showHtml(n,r,{width:u,height:f}):(n=$('<audio id="rsspopupplayer" src="'+t+'" controls autoplay><\/audio>'),popuplayer.showHtml(n,r));n=n.get(0);popuplayer.onclose=function(){return!n.paused&&n.pause&&n.pause(),!0}});$("[ry-upload]").each(function(){function u(t){var e=t.url,u;e=e.match("jpeg|jpg|gif|png$")?RssUpFile.DoMain+e:(location.href.indexOf("file://")>-1?".":"")+"/img/ext/"+e.substring(e.lastIndexOf(".")+1)+".png";r>1?(u=$('<li class="uploadpreview"><b class="btndel"><\/b><a><div><img src="'+e+'" /><input type="hidden" name="'+f+'" value="'+t.url+'" /><input type="hidden" value="'+t.filesize+'" /><\/div><\/a><i><a><\/a><a><\/a><\/i><\/li>'),u.insertBefore(n),n.parent().children().length>r&&n.hide(),u.find(">i>a").click(function(){$(this).index()?u.next().index()==n.index()?u.insertBefore(n.parent().find("li").first()):u.insertAfter(u.next()):u.insertBefore(u.prev().length?u.prev():n)})):n.find("div").html('<img src="'+e+'" /><input type="hidden"'+i+' name="'+f+'" value="'+t.url+'" />');n.trigger("upload",t);RssWin.LoadBox.close()}var n=$(this),o=n.attr("ry-upload"),f=n.data("name")||"picture",i=n.data("id")||"",r=parseInt(n.data("amount"))||1,s=n.data("allow")||"jpg|jpeg|png|gif|docx|doc|xslx|xsl|rar|zip|mp4|mp3",e="",t;i&&(i=' id="'+i+'"');RssApp.initqueue.push(function(){var t=n.data("val");t&&$.each(t.split(","),function(n,t){u({url:t})})});RssUpFile.onStart=function(){RssWin.LoadBox.show("数据上传中，请稍候...")};t={filesize:parseInt(n.data("filesize"))||20480,filetype:n.data("filetype")||"image/*",hiddenbar:n.data("hiddenbar")||"",duration:parseInt(n.data("duration"))||10,close:n.data("close")=="1",time:parseInt(n.data("time"))||60,width:parseInt(n.data("width"))||400};switch(o){case"input":n.find("[type='file']").change(function(){var i=this.files,f=i.length,t,h,o,c;if(f){if(f>r){alert("一次只允许上传"+r+"个文件");return}for(t=0;t<f;t++){if(h=i[t],o=h.name,o.match(new RegExp("("+s+")$","ig"))==null){alert("不支持的文件类型，请重新选择！");return}if(e&&o.match(new RegExp("("+e+")$","ig"))==null){alert("不支持的文件，请重新选择！");return}}c=$(this);RssUpFile.onComplete=u;$.each(i,function(t,i){(new Ajax).setUrl(RssUpFile.ApiHost+"?amount="+t).setLoading().keyvalue((new RssDict).keyvalue({action:n.data("action")||""}).keyvalue(n.data("query"))).keyform("upfile",i).sendFrom(function(n){RssUpFile.onComplete(n);c.val("")},null,null,function(n,t){RssUpFile.onProgress({progress:parseInt(t/n*100),file:i})})})}}).click(function(n){n.stopPropagation();JsAdapter.WebUpload(t).Submit()});break;case"popup":n.click(function(){RssPopup.SetTitle(n.data("title")||"选择图片").AddHtml('<li data-action="gallery">相册<\/li><li data-action="takephoto">拍照<\/li><li data-action="shooting">拍摄<\/li><li data-action="file">文件<\/li>').ItemWrap.find("li").unbind().click(function(){t.action=$(this).data("action");n.data("cut")&&(t.cut=parseInt(n.data("cut"))||200);RssUpFile.onComplete=u;RssUpFile.Submit(t,n.data("query"))});var i=RssPopup.ItemWrap.find("li").show();$.each(t.hiddenbar.split(","),function(n,t){i.eq(parseInt(t)).hide()});RssPopup.Popup()})}}).reset(function(){var n=$(this);n.find("img").remove();n.siblings().remove();n.show()});$("[ry-cropper]").each(function(){var n=$(this);n.cropper({src:n.attr("ry-cropper"),canvas:n.data("canvas"),preview:n.data("preview")||"",viewMode:n.data("viewmode")||1,autoCropArea:n.data("croparea")||.6}).click(function(){var t=n.data("cropper").getCroppedCanvas().toDataURL();n.data("upfile")!=undefined&&(RssWin.MaskLayer.show(),RssWin.LoadBox.show(),(new Ajax).setUrl(RssUpFile.ApiHost+"/base64").keyvalue("base64",t).keyvalue(n.data("upfile").toKeyValue()).postJson(function(n){RssWin.MaskLayer.close();RssWin.LoadBox.close();RssUpFile.onComplete(n)}));$("[name='"+n.data("datawrap")+"']").val(t)})});$("[ry-editor]").each(function(){UE.getEditor(this.id,eval("({"+$(this).attr("ry-editor")+"})"))});$("[ry-ip]").each(function(){var t=$(this),i=parseInt(t.attr("ry-ip")).toString("16").padleft(8,"0"),n=i.match(/\w{2}/img);t.html(parseInt(n[0],16)+"."+parseInt(n[1],16)+"."+parseInt(n[2],16)+"."+parseInt(n[3],16))});$("[ry-money]").each(function(){var t=$(this),n=t.attr("ry-money").split(",");t.html(n[0].tomoney(n[1],parseInt(n[2])))});$("[ry-idcard]").each(function(){var n=$(this),t=n.attr("ry-idcard").getIdCard();switch(this.tagName.toLowerCase()){case"input":n.val(t);break;default:n.html(t)}});$("[ry-imgview]").each(function(){var n=$(this),i=n.attr("ry-imgview").split(","),t="";$.each(i,function(n,i){i.indexOf("http")==-1&&(i="/upfile/"+i.replace(".","s."));t+='<a><img src="'+i+'" /><\/a>'});n.html(t).find("img").click(function(){var t=$(this),n=t.attr("src");n.indexOf("http")==-1&&(n=n.replace("s.","."));popuplayer.display(n)})});$("[ry-phone]").each(function(){var i=$(this),n=i.attr("ry-phone"),t,r;if(!(n.length<8)){t=/^(10|2[\d]|[\d]{3})/g;r=n.match(t);switch(this.tagName.toLowerCase()){case"input":break;default:i.html(n.replace(t,function(n){return"0"+n+"-"}))}}});$("[ry-date]").each(function(){var n=$(this),t=n.attr("ry-date").split(","),r,i;if(t[0]){r=t[1]||"yyyy-MM-dd HH:mm:ss";i=new Date(parseInt(eval(t[0]))*1e3).toString(r);switch(this.tagName.toLowerCase()){case"input":n.val(i);break;default:n.html(i)}}});$("[ry-time]").each(function(){var n=$(this),t=n.attr("ry-time").split(","),r,i;if(t[0]){r=t[1]||"HH:mm:ss";i=new Date(parseInt(eval(t[0])-28800)*1e3).toString(r);switch(this.tagName.toLowerCase()){case"input":n.val(i);break;default:n.html(i)}}});$("[ry-selectall]").click(function(){$($(this).attr("ry-selectall")).prop("checked",this.checked)});$("[ry-ordercancel]").click(function(){RssOrder.Cancel($(this).attr("ry-ordercancel"))});$("[ry-detailcancel]").click(function(){RssOrderDetails.Cancel($(this).attr("ry-detailcancel"))});$("[ry-spelling]").keyup(function(){var n=$(this),i=n.val(),t=$("#"+n.attr("ry-spelling"));t.length&&t.val(i.getpinyin(parseInt(n.data("capitalize"))))});$("[ry-preview]").click(function(n){n.preventDefault();var t=$(this);window.open(RssApp.host+t.attr("href"))});$("[ry-print]").click(function(){var n=window.open($(this).attr("ry-print"));n.print()});$("[ry-openwin]").click(function(){var n=$(this),t=n.data("before");(!t||RssWin[t]())&&RssWin.open(n.attr("ry-openwin"),n.data("width"),n.data("height"))});$("[ry-excel]").click(function(){var n="excel/"+$(this).attr("ry-excel");location.search.length&&(n+=(n.indexOf("?")==-1?"?":"&")+location.search.substring(1));window.open(n)});$("[ry-word]").click(function(){var n=$(this),i=n.attr("ry-word"),t=new RssDict("id",n.data("id"));try{ValidatedV4(t).isInt("id","id不能为空");window.open(RssApi.host+"table/word/"+i+"?rsswhere="+t.toJson())}catch(r){RssCode.alert(r)}});$("[ry-export]").click(function(){window.open($(this).attr("ry-export"))});$("[ry-pdf]").click(function(){var n=$(this);window.open(RssApi.host+"pdf/export?url="+encodeURIComponent(n.attr("ry-pdf"))+"&filename="+encodeURIComponent(n.data("filename")))});RssDict.onload=function(){function n(n,t){var l=n.attr("ry-"+t),i=window.rydata[l]||{},a="",r=n.data("name")||l,v=n.data("id")||r,u=n.data("key")||"",f=n.data("val"),s=n.data("wrap"),h,e,c,o;u.length&&(u=u.split(","),h={},$.each(u,function(n,t){i[t]&&(h[t]=i[t])}),i=h);$.each(i,function(n,i){i=i.constructor==Array?i[0]:i;a+='<label><input type="'+t+'" id="'+v+n+'" name="'+r+'" value="'+n+'" />'+(s?"<"+s+">"+i+"<\/"+s+">":i)+"<\/label>"});n.html(a);e=n.find("input[name="+r+"]");f===undefined&&(f="");e.val(f.toString().split(","));t=="checkbox"&&(e.removeAttr("name"),c=$('<input type="hidden" name="'+r+'" value="'+f+'"/>'),o=n.data("amount")||0,n.append(c),e.click(function(t){var i=[],r=n.find("input:checked");if(parseInt(o)==1)r.prop("checked",!1),$(this).prop("checked",!0);else if(o&&r.length>o)return t.preventDefault(),t.stopPropagation(),!1;n.find("input:checked").each(function(){i.push(this.value)});c.val(i.join())}))}$.each(window.rydata||{},function(n){$("["+n+"]").each(function(){var t=$(this),f=rydata[n]||{},r=t.attr(n).split(","),i=[],u=t.data("join")||"";$.each(r,function(n,t){t=f[t]||t;$.isArray(t)?t=t[0]:$.isFunction(t)&&(t=t());i.push(t)});switch(this.tagName.toLowerCase()){case"select":t.val(r[0]);break;case"input":case"textarea":t.val(i.join(u));break;default:t.html(i.join(u))}});RssDict.Adapter[n]&&RssDict.Adapter[n].constructor==Function&&RssDict.Adapter[n]()});$("img[ry-thumbnail]").each(function(){var n=$(this);n.attr("src",RssUpFile.DoMain+n.attr("ry-thumbnail").replace(".","s."))});$("[ry-links]").each(function(){var n=$(this),i=n.attr("ry-links").split(","),t="";$.each(i,function(n,i){t+='<a href="'+RssUpFile.DoMain+i+'" target="_blank">'+i+"<\/a>"});n.html(t)});$("[ry-selectitem]").each(function(){var n=$(this),t=rydata[n.attr("ry-selectitem")]||{};n.mapmodalitem(t)});$("[ry-maplist]").each(function(){var n=$(this);n.maplist(rydata[n.attr("ry-maplist")]||[])});$("[ry-mapjson]").each(function(){var n=$(this);n.mapjson(rydata[n.attr("ry-mapjson")]||{})});$("[ry-mapview]").each(function(){var n=$(this);n.mapview(rydata[n.attr("ry-mapview")]||[])});$("[ry-cascade]").cascade();$("[ry-slide]").click(function(){RssWin.SlideBox||(RssWin.SlideBox={});var n=$(this),t=rydata[n.attr("[ry-slide]")],i=n.data("count")});$("[ry-select]").each(function(){var n=$(this),t=rydata[n.attr("ry-select")]||{},u="",f=n.data("val"),i=n.data("pid"),r;i!=undefined&&(i=(i+"").split(","),r={},$.each(i,function(n,i){console.log(Object.Query(t,[1,i]));$.extend(r,Object.Query(t,[1,i]))}),t=r);$.each(t,function(n,t){t.constructor==Array&&(t=t[0]);u+='<option value="'+n+'">'+t+"<\/option>"});this.tagName.toLowerCase()!="select"&&(n=n.append("<select><\/select>"));n.append(u);f!=null&&n.val(f)});$("[ry-radio]").each(function(){n($(this),"radio")});$("[ry-checkbox]").each(function(){n($(this),"checkbox")});$(function(){function c(r,l){var v=Object.Query(o,[1,r]),a;return Object.Count(v)?(a="",$.each(v,function(r,o){(s=u>-1?o[u]:r,!o[e]||RssPower.verify(o[e]))&&(a+='<li class="line options" '+t+'><input type="'+l+'" id='+i+r+' name="'+n+'" value="'+(h?r:s)+'" pid="'+i+o[1]+'"/><label for='+i+r+">"+o[0]+(f?"("+o[f]+")":"")+"<\/label><\/li>",parseInt(r)&&(a+='<li class="options'+t+'"><ul>'+c(r,l)+"<\/ul><\/li>"))}),a):""}function r(n){var t=$("#"+n),i=t.attr("pid");t.length&&t.prop("checked",!1);i&&r(i)}function l(n,t,i){t=$(t);var u=t.attr("pid"),f=$("#"+u);switch(i){case 0:case 2:r(u);n.filter("[pid="+u+"]").not(t).prop("checked",!1);break;case 1:break;case 3:r(u);r(u);break;default:f.prop("checked",n.filter("[pid="+u+"]:checked").length);f.each(function(){l(n,this,i)})}}function a(n,t,i){var r=n.filter("[pid="+t.id+"]");switch(i){case 0:r.prop("checked",!1);break;case 1:case 2:case 3:break;default:r.prop("checked",t.checked);r.each(function(){a(n,this,i)})}}var o={},u=-1,s=0,n="",i="",h=!1,t="",f=!1,e=-1;$("[ry-options]").each(function(){var r=$(this),k=r.data("input")||"radio",g=r.data("check")===undefined,d=r.data("val"),y=parseInt(r.data("choice")),v,p,b,w,s;if(e=r.data("inherit"),f=r.data("offset")||!1,t=r.data("deploy")!=null?" deploy":"",n=r.data("name")||"pid",u=r.data("idx")||-1,h=r.data("usekey"),i=n.replace("[]",""),o=rydata[r.attr("ry-options")]||{},r.html(c(0,k)).find("input").click(function(){r.trigger("rssclick")}),t&&r.find("["+t+"] label").click(function(){$(this).parent().next().toggleClass("deploy")}),v=r.find("[name='"+n+"']"),d!=undefined&&v.val(d.toString().split(",")),g&&k=="checkbox"&&v.click(function(n){if(y==2||y==3){var t=$(this);v.filter("[pid='"+t.attr("id")+"']").length&&(n.preventDefault(),n.stopPropagation())}l(v,this,y);a(v,this,y)}),p=r.data("options"),p)for(w=p.length,s=0;s<w;s++)p.substr(s,1)==="1"&&$("[name='"+n+"'][value='"+(s+1)+"']").prop("checked",!0);if(b=r.data("myoptions"),b)for(w=b.length,s=0;s<w;s++)b.substr(s,1)==="0"&&$("[name='"+n+"'][value='"+(s+1)+"']").prop("disabled",!0).parent().hide()})});$("[ry-def]").each(function(){var n=$(this),t=n.attr("ry-def").split(","),i=n.data("join")||"";switch(this.tagName.toLowerCase()){case"select":n.val(t[0]);break;case"input":case"textarea":n.val(t.join(i));break;default:n.html(t.join(i))}})};RssEasy.Closure(function(){if(RssOS.isios&&!RssOS.isrssapp){var t=$("input,textarea"),n=t.first();t.on("blur.ios",function(){setTimeout(function(){var n=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(n-1,0))},100)});t.on("focus.ios",function(){n=$(this)});$(document).on("touchmove.ios",function(){n&&(n.blur(),n=null)})}});var RssOrder=new RssDict,RssBuyCar=new RssTable("buycar"),RssOrderDetails={data:[]};RssOrder.reset=function(){this.dict={name:"",usercouponid:0,addrid:"",expressid:"",balance:""}};RssOrder.reset();RssInvoice={params:{},reset:function(){this.params={title:"",tfn:"",invoiceid:"",matter:"",addr:"",phone:"",remark:"",exprealname:"",exptelphone:"",expprovinceid:"",expcityid:"",expcountyid:"",expaddr:"",zipcode:""}}};RssInvoice.reset();RssOrderDetails.create=function(n,t,i,r,u){return{moduleid:n,relationid:t,amount:i||1,unitprice:r,usercouponid:u||0}};RssOrder.Calculate=function(n){return n.totalprice=n.amount*(n.unitprice||0),n.totalintegral=n.amount*(n.unitintegral||0),n.payamount=n.totalprice-(n.discountsum||0),n};RssOrder.Cancel=function(n){try{ValidatedV4({orderid:n,myid:RssUser.Data.myid}).isOrderID().isMyID();new Ajax("order/cancel").keyvalue({orderid:n,myid:RssUser.Data.myid}).getJson(function(){RssOrder.onCancel()})}catch(t){RssCode.alert(t)}};RssOrder.onCancel=function(){};RssOrder.Service=function(n){try{if($.isPlainObject(n)==!1)throw"344";$.extend(n,{myid:RssUser.Data.myid});ValidatedV4(n).isOrderID().isMyID().isDetailID().isInt("typeid","请设置售后服务类型。").isInt("amount","请设置售后数量。");new Ajax("order/service").keyvalue(n).getJson(function(){RssOrder.onService()})}catch(t){RssCode.alert(t)}};RssOrder.onService=function(){};RssOrder.Receipt=function(n){try{var t={myid:RssUser.Data.myid,orderid:n};ValidatedV4(t).isOrderID().isMyID();new Ajax("order/receipt").keyvalue(t).getJson(function(){RssOrder.onReceipt()})}catch(i){RssCode.alert(i)}};RssOrder.onReceipt=function(){};RssOrder.Invoice={};RssOrder.Invoice.Append=function(){return new Ajax("order/invoice/append")};RssOrderDetails.Cancel=function(n){try{ValidatedV4({detailid:n,myid:RssUser.Data.myid}).isMyID().isOrderID();new Ajax("order/detail/cancel").keyvalue({detailid:n,myid:RssUser.Data.myid}).getJson(function(){RssOrderDetails.onCancel()})}catch(t){RssCode.alert(t)}};RssOrderDetails.onCancel=function(){};RssOrder.addDetails=function(n){var t,i;n.unitprice=n.unitprice||n.price||"";n.amount=parseFloat(n.amount||1);ValidatedV4(n).isNumber("moduleid","222").isNumber("relationid","223");t={};for(i in RssOrderDetails.data)if(t=RssOrderDetails.data[i],t.moduleid==n.moduleid&&t.relationid==n.relationid)return $.extend(t,n),RssOrder.Calculate(t),this;return RssOrderDetails.data.push(this.Calculate(n)),this.UpdateRow(),this};RssOrder.clearDetails=function(){};RssOrder.UpdateRow=function(){var n=0;return $.each(RssOrderDetails.data,function(t,i){n+=i.payamount}),RssOrder.dict.fee=n,this};RssOrder.onGetOrder=function(){};RssOrder.onConfirm=function(){};RssOrder.Confirm=function(n){return new Ajax("order/confirm").keyvalue("orderid",n).keymyid().getJson(function(n){RssOrder.onConfirm(n)})};RssOrder.onReceipt=function(){};RssOrder.Receipt=function(n){return new Ajax("order/receipt").keyvalue("orderid",n).keymyid().getJson(function(n){RssOrder.onReceipt(n)})};RssOrder.onComplete=function(){};RssOrder.Complete=function(n){return new Ajax("order/complete").keyvalue("orderid",n).keymyid().getJson(function(n){RssOrder.onComplete(n)})};RssOrder.Submit=function(){try{if(RssOrder.keyvalue("deviceid",RssEasy.Deviceid),RssOrderDetails.data.length==0){RssCode.alert("221");return}var n=[];$.each(RssOrderDetails.data,function(t,i){var r=$.extend(null,{},i);delete r.unitintegral;delete r.totalintegral;delete r.totalprice;delete r.discountsum;delete r.payamount;n.push(r)});new Ajax("order/append").keyvalue("myid",RssUser.Data.myid).keyvalue(RssOrder.getDict()).setLoading().setRssCode(function(n){RssCode.alert(n);RssWin.LoadBox.close()}).keyvalue("invoice",RssInvoice.params?JSON.stringify(RssInvoice.params):"").keyvalue("details",JSON.stringify(n)).setType("json").post(function(n){RssOrder.reset();RssOrderDetails.data=[];RssOrder.onGetOrder(n)})}catch(t){RssCode.alert(t)}};RssPay={};RssPay.Qrwrap=$("#payqrcodewrap");RssPay.Params={adapter:"AliPay",url:""};RssPay.Hash="";RssPay.PayData={};RssPay.setData=function(){};RssPay.PayData={myid:"",orderid:"",channelid:"",deviceid:"1",deviceid:"1",rsstoken:"",name:""};RssPay.Adapter={"1":"RssAliPay","2":"WeiXinInner","3":"AliPayWeb","4":"RssWeiXin","5":"Cash","6":"AvailableBalance","7":"SwipingCard","8":"AliPayH5","9":"WeiXinH5","10":"AliQRcode","11":"Token","12":"Zero","13":"WXQRcode","14":"WxSmall","15":"Free","16":"WeiXinApp","17":"AliApp","18":"Integral","19":"UserCard","20":"ClubCard","21":"AfterSaleExchange","22":"Voucher","23":"BankCard"};RssPay.AfterSaleExchange=function(){this.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.Voucher=function(){this.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.BankCard=function(){this.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.ClubCard=function(){this.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.Integral=function(){this.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.Free=function(){this.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.UserCard=function(){this.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.RssAliPay=function(){this.Params.adapter="AliPay";this.onGetPayOrder=function(n){this.Params.url=n.paydata;JsAdapter.Push(this.Params).Submit()};this.PayOrder()};RssPay.AliApp=function(){this.Params.adapter="AliApp";this.onGetPayOrder=function(n){$.extend(this.Params,n);JsAdapter.Push(this.Params).Submit()};this.PayOrder()};RssPay.AliPayH5=function(){this.onGetPayOrder=function(n){this.TickTask();location.href=n.paydata};this.PayOrder()};RssPay.AliPayWeb=function(){this.onGetPayOrder=function(n){this.TickTask();location.href=n.paydata};this.PayOrder()};RssPay.TickTask=function(){RssTask.add("paytick",function(){RssPay.Verify()},5e3)};RssPay.TickTaskRemove=function(){RssTask.remove("paytick")};RssPay.AliQRcode=function(){RssPay.onGetPayOrder=function(n){n=n.paydata.toJson();n=n.alipay_trade_precreate_response;this.onGetQRcode(n.qr_code);RssPay.TickTask()};RssPay.PayOrder()};RssPay.WeiXinApp=function(){RssPay.Params.adapter="WeiXinApp";RssPay.onGetPayOrder=function(n){$.extend(RssPay.Params,n);JsAdapter.Push(RssPay.Params).Submit()};RssPay.PayOrder()};RssPay.WeiXinInner=function(){ValidatedV4(RssUser.Data).isNotEmpty("openid","OpenID不能为空");this.onGetPayOrder=function(n){WeixinJSBridge.invoke("getBrandWCPayRequest",n,function(){RssPay.Verify()})};this.PayData.openid=RssUser.Data.openid;this.PayOrder()};RssPay.WxSmall=function(){RssPay.PayData.openid=RssWxSmall.getOpenID();ValidatedV4(RssPay.PayData).isNotEmpty("openid","OpenID不能为空");RssPay.onGetPayOrder=function(n){$.extend(n,{orderid:RssPay.PayData.orderid,myid:RssPay.PayData.myid});RssPay.TickTask();wx.miniProgram.navigateTo({url:"/pages/rsspay/index?"+new RssDict(n).toQueryString()})};RssPay.PayOrder()};RssPay.WeiXinH5=function(){RssPay.onGetPayOrder=function(n){RssPay.TickTask();location.href=RssApi.host+"pay/weixinh5?mweb_url="+encodeURIComponent(n.mweb_url)};RssPay.PayOrder()};RssPay.RssWeiXin=function(){this.onGetPayOrder=function(n){RssPay.Params.adapter="WeiXinPay";RssPay.Params.url=n.mweb_url;RssPay.Params.referer=RssApi.host+"pay/rss";JsAdapter.Push(RssPay.Params).Submit()};this.PayOrder()};RssPay.WXQRcode=function(){this.onGetPayOrder=function(n){this.onGetQRcode(n.code_url);RssPay.TickTask()};this.PayOrder()};RssPay.onGetQRcode=function(n){RssPay.Qrwrap.show().find("#payqrcode").qrcode({text:n})};RssPay.Cash=function(){this.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.Token=function(){this.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.Zero=function(){this.onGetPayOrder=function(){RssPay.TickTask()};this.PayOrder(this.PayData)};RssPay.AvailableBalance=function(){this.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.SwipingCard=function(){RssPay.onGetPayOrder=function(){RssPay.Verify()};this.PayOrder(this.PayData)};RssPay.onGetPayOrder=function(){};RssPay.PayOrder=function(){RssWin.LoadBox.show("支付中");new Ajax("pay/order").setLoading().keyvalue(this.PayData).postJson(function(n){RssPay.PayData.orderid=n.orderid;delete n.orderid;RssPay.onGetPayOrder(n)})};RssPay.Submit=function(n){try{RssTask.remove("paytick");n&&(RssPay.PayData.orderid=n);RssOS.iswxsmall&&RssPay.PayData.channelid==2&&(RssPay.PayData.channelid=14);ValidatedV4(RssPay.PayData).isNumber("channelid","支付渠道ID");var t=RssPay.Adapter[RssPay.PayData.channelid];if(t){RssPay[t]();return}alert("所选择的支付通道不存在，请检查后重新提交！")}catch(i){RssCode.alert(i)}};RssPay.onPay=function(){setTimeout(function(){RssPay.Verify()},500)};RssPay.Verify=function(){new Ajax("pay/verify").keyvalue("orderid",RssPay.PayData.orderid).setLoading("支付验证中...").getJson(function(n){switch(n.state){case"3":RssTask.remove("paytick");break;case"17":RssTask.remove("paytick");RssPay.onFailure("支付超时，请重新发起支付请求！");RssWin.LoadBox.close();RssWin.MaskLayer.close();return}if(RssTask.has("paytick")){n.state=="1"&&(RssTask.remove("paytick"),RssPay.Qrwrap.hide(),RssWin.LoadBox.close(),RssPay.onSucceed());return}RssWin.LoadBox.close();n.state=="1"?RssPay.onSucceed():RssPay.onFailure()})};RssPay.onSucceed=function(n){alert(n||"支付成功")};RssPay.onFailure=function(n){alert(n||"支付失败")};Calendar={curctl:null,wrap:null,time:1,onlytime:!0,selregion:[0,0],dateregion:[(new Date).getFullYear()-60,(new Date).getFullYear()+20],value:new Date,onselect:function(){this.curctl.val(this.value.toString(this.curctl.data("format")||(this.onlytime?"HH:mm:ss":"yyyy-MM-dd"+(this.time?" HH:mm:ss":"")))).trigger("calendarselect")},create:function(){},show:function(){},init:function(){function l(){i.val(n.value.getFullYear());s.val(n.value.getMonth()+1);u.val(n.value.getHours());f.val(n.value.getMinutes());e.val(n.value.getSeconds())}var n=this,o,c,i,s,a,v,r,u,f,e,t,h,y;for(this.wrap=$('<div class="calendarwrap"><\/div>'),$(document.body).append(this.wrap),this.wrap.click(function(n){n.stopPropagation()}),$(document).click(function(){n.wrap.hide()}),n.show=function(){var f,e,t,u;for(n.wrap.removeClass("onlytime"),n.value=n.curctl.val(),n.onlytime&&n.wrap.addClass("onlytime"),n.value=n.value?n.onlytime?new Date("1970-01-01 "+n.value):n.value.ParseDate():new Date,n.wrap.show(),i.empty(),f=n.dateregion[0],e=n.dateregion[1],t=f;t<=e;t++)i.append('<option value="'+t+'">'+t+"年<\/option>");n.time>0?r.show():r.hide();n.create();u=n.curctl.offset();u.top+n.wrap.outerHeight()>=Math.max($(document.body).height(),$(window).height(),$(document).height())?u.top-=n.wrap.outerHeight()+2:u.top+=n.curctl.outerHeight()+2;n.wrap.css(u);l()},o=$('<div class="calendarhead" style="text-align:center;"><\/div>'),this.wrap.append(o),c=$("<div>&lt;<\/div>"),o.append(c),c.click(function(){if(n.value=n.value.getPreMonth(),n.value.getFullYear()<n.dateregion[0])return n.value=n.value.GetNextMonth(),!1;l();n.create()}),i=$("<select>"),o.append(i),s=$("<select>"),o.append(s),t=1;t<13;t++)s.append('<option value="'+t+'">'+t+"月<\/option>");for(i.change(function(){n.value=(i.val()+"-"+s.val()+"-01").ParseDate();n.create()}),s.change(function(){i.change()}),a=$("<div>&gt;<\/div>"),o.append(a),a.click(function(){if(n.value=n.value.getNextMonth(),n.value.getFullYear()>n.dateregion[1])return n.value=n.value.GetPreMonth(),!1;l();n.create()}),v=$("<table><thead><tr><th>一<\/th><th>二<\/th><th>三<\/th><th>四<\/th><th>五<\/th><th>六<\/th><th>日<\/th><\/tr><\/thead><\/table>"),this.wrap.append(v),r=$('<div class="calendarfooter"><\/div>'),this.wrap.append(r),r.hide(),u="<select>",t=0;t<24;t++)u+='<option value="'+t+'">'+(t<10?"0":"")+t+"时<\/option>";for(u+="<\/select>",u=$(u),r.append(u),u.change(function(){n.value.setSeconds(0);n.value.setMinutes(0);n.value=new Date(n.value.setHours(parseInt(this.value)));n.onselect()}),f="<select>",t=0;t<60;t++)f+='<option value="'+t+'">'+(t<10?"0":"")+t+"分<\/option>";for(f+="<\/select>",f=$(f),r.append(f),f.change(function(){n.value=new Date(n.value.setMinutes(parseInt(this.value)));n.onselect()}),e="<select>",t=0;t<60;t++)e+='<option value="'+t+'">'+(t<10?"0":"")+t+"秒<\/option>";e+="<\/select>";e=$(e);r.append(e);e.change(function(){n.value=new Date(n.value.setSeconds(parseInt(this.value)));n.onselect();n.wrap.hide()});n.create=function(){var s,r,t,c,l,f,i,e,o,a,u;for(h&&h.remove(),h=$("<tbody>"),v.append(h),s=n.value.getFirstDayWeek(),r=[],t=1;t<s;t++)r.push("");for(c=n.value.getMaxDay(),t=1;t<=c;t++)r.push(t);for(l=r.length,e=[],n.selregion[0]&&(a=n.selregion[0].toString("yyyy-MM-dd").ParseDate(),u=n.selregion[0].toString("yyyy-MM-dd").ParseDate(),u=new Date(u.setDate(u.getDate()+n.selregion[1]))),t=0;t<l;t++){if(t%7==0&&(f=$("<tr>"),h.append(f)),i=$("<td>"+r[t]+"<\/td>"),f.append(i),o=n.value.toString("yyyy-MM-"+r[t]).ParseDate(),!r[t]||n.selregion[0]&&o<a||n.selregion[1]&&o>u){i.empty();continue}e.push(i);i.hover(function(){var n=$(this);n.addClass("hover")});i.mouseout(function(){$.each(e,function(){var t=$(this);t.removeClass();n.value.getDate()==parseInt(t.html())&&t.addClass("actived")})});i.click(function(){var t=parseInt(this.innerHTML);n.value=new Date(n.value.setDate(t));n.onselect();n.time||(n.wrap.hide(),n.curctl.blur());n.onselect(n.value);$(this).mouseout()})}i.mouseout()};y=$('<footer class="calendarbtn"><button type="button">确定<\/button><button type="button">清空<\/button><\/footer>');this.wrap.append(y);y.find("button").click(function(){if(n.wrap.hide(),$(this).index()){Calendar.curctl.val("");return}n.onselect()})}};RssEasy.Closure(function(){var n=$("[ry-calendar]");n.length&&Calendar.init();n.each(function(){var n=$(this);!this.value&&n.attr("ry-calendar").match(/^\d{4}/)&&n.val(n.attr("ry-calendar"));n.focus(function(){n.data("selregion")&&(Calendar.selregion=n.data("selregion").split(","),Calendar.selregion[1]=parseInt(Calendar.selregion[1])||0);n.data("dateregion")&&(Calendar.dateregion=n.data("dateregion").split(","));Calendar.time=parseInt(n.data("time"))||0;Calendar.curctl=n;Calendar.onlytime=parseInt(n.data("onlytime"))||0;Calendar.show()});n.click(function(n){n.stopPropagation()})})});AlertBox={wrap:$('<div class="alertbox"><header><\/header><main><\/main><div>确定<\/div><\/div>')};AlertBox.header=AlertBox.wrap.find(">header");AlertBox.body=AlertBox.wrap.find(">main");AlertBox.footer=AlertBox.wrap.find(">div");AlertBox.setTitle=function(n){return this.header.html(n),this};AlertBox.setMessage=function(n){return this.body.html(n),this};AlertBox.close=function(){this.wrap.hide()};AlertBox.show=function(){this.wrap.show().offset({left:($(window).width()-this.wrap.outerWidth())/2,top:($(window).height()-this.wrap.outerHeight())/2})};AlertBox.onConfirm=function(){};AlertBox.footer.click(function(){AlertBox.close();AlertBox.onConfirm()});$(document.body).append(AlertBox.wrap);RssApi={host:""};RssApi.Http={};RssApi.Http.Get=function(n){return new Ajax("http/get").keyvalue("url",n)};RssApi.Http.Post=function(n,t){return new Ajax("http/post").keyvalue("url",n).keyvalue("params",t||"")};RssApi.Table={};RssApi.Table.List=function(n){return new Ajax("table/list/"+n)};RssApi.Table.Desc=function(n){return new Ajax("table/desc/"+n)};RssApi.Table.Asc=function(n){return new Ajax("table/asc/"+n)};RssApi.Table.Detail=function(n){return new Ajax("table/detail/"+n)};RssApi.Table.Append=function(n){return new Ajax("table/append/"+n)};RssApi.Table.Delete=function(n){return new Ajax("table/delete/"+n)};RssApi.Table.LogicDel=function(n){return new Ajax("table/logicdel/"+n)};RssApi.Table.Update=function(n){return new Ajax("table/update/"+n)};RssApi.Table.Edit=function(n){return new Ajax("table/edit/"+n)};RssApi.Table.Query=function(n){return new Ajax("table/query/"+n)};RssApi.Table.Sql=function(n){return new Ajax("table/sql/"+n)};RssApi.Table.Submit=function(n){return new Ajax("table/submit/"+n)};RssApi.Table.Custom=function(n){return new Ajax("table/custom/"+n)};RssApi.Table.Total=function(n){return new Ajax("table/total/"+n)};RssApi.Table.Vote=function(n){return new Ajax("table/vote/"+n)};RssApi.Comment={};RssApi.Comment.List=function(n){return new Ajax("table/comment/list/"+n)};RssApi.Comment.Append=function(n){return new Ajax("table/comment/append/"+n)};RssApi.Comment.Delete=function(n){return new Ajax("table/comment/delete/"+n)};RssApi.User={};RssApi.User.Update=function(){return new Ajax("user/update")};RssApi.User.AppReg=function(){return new Ajax("user/bind/openid")};RssApi.User.Device=function(){return new Ajax("user/device")};RssApi.User.Detail=function(){return new Ajax("user/detail")};RssApi.UserAddr={};RssApi.UserAddr.Edit=function(){return new Ajax("user/addr/edit")};RssApi.UserAddr.List=function(){return new Ajax("user/addr/list")};RssApi.UserAddr.Delete=function(){return new Ajax("user/addr/delete")};RssApi.Withdraw={};RssApi.Withdraw.Append=function(){return new Ajax("withdraw/append")};RssApi.Withdraw.List=function(){return new Ajax("withdraw/list")};RssApi.Withdraw.Detail=function(){return new Ajax("withdraw/detail")};RssApi.Message={};RssApi.Message.List=function(){return new Ajax("message/list")};RssApi.Message.Detail=function(){return new Ajax("message/detail")};RssApi.UserMessage={};RssApi.UserMessage.List=function(){return new Ajax("user/message/list")};RssApi.UserMessage.Detail=function(){return new Ajax("user/message/detail")};RssApi.UserMessage.Read=function(){return new Ajax("user/message/read")};RssApi.UserMessage.UnRead=function(){return new Ajax("user/message/unread")};RssApi.UserMessage.Delete=function(){return new Ajax("user/message/delete")};RssApi.Invoice={};RssApi.Invoice.OrderID=function(){return new Ajax("order/invoice/orderid")};RssApi.Invoice.OrderIDS=function(){return new Ajax("order/invoice/orderids")};RssApi.Invoice.DetailID=function(){return new Ajax("order/invoice/detailid")};RssApi.Invoice.DetailIDS=function(){return new Ajax("order/invoice/detailids")};RssApi.Cart={};RssApi.Cart.List=function(){return new Ajax("order/cart/list")};RssApi.Cart.Append=function(){return new Ajax("order/cart/append")};RssApi.Cart.Edit=function(){return new Ajax("order/cart/edit")};RssApi.Cart.Delete=function(){return new Ajax("order/cart/delete")};RssApi.Integral={};RssApi.Integral.List=function(){return new Ajax("integral/List")};RssApi.Integral.Coupon=function(){return new Ajax("integral/convert/coupon")};RssApi.Integral.Cash=function(){return new Ajax("integral/convert/cash")};RssApi.Integral.Resource=function(){return new Ajax("integral/convert/resource")};RssApi.Integral.Voucher=function(){return new Ajax("integral/convert/voucher")};RssApi.Table.Praise=function(n){return new Ajax("table/praise/"+n)};RssApi.Table.onPraise=function(){};RssApi.Table.onComment=function(){};RssApi.Table.Apply=function(n){return new Ajax("table/apply/"+n)};RssApi.Table.Collect=function(n){return new Ajax("table/collect/"+n)};RssApi.Table.onCollect=function(){};RssApi.Table.Attention=function(n){return new Ajax("table/attention/"+n)};RssApi.Table.onAttention=function(){};$("body").on("click","[ry-attention]",function(n){n.preventDefault();n.stopPropagation();var t=$(this),r=t.attr("ry-attention"),i=t.attr("relationid")||t.data("rssid")||t.data("id")||"";i&&RssUser.Data.myid&&RssApi.Table.Attention(r).keyvalue("relationid",i).keymyid().getJson(function(n){t.attr("isattention",n.result);RssApi.Table.onAttention(n)})});$("body").on("click","[ry-praise]",function(n){n.preventDefault();n.stopPropagation();var t=$(this),r=t.attr("ry-praise"),i=t.attr("relationid")||t.data("rssid")||t.data("id")||"";i&&RssUser.Data.myid&&RssApi.Table.Praise(r).keyvalue("relationid",i).keymyid().getJson(function(n){t.attr("ispraise",n.result).html(parseInt(t.html())+(parseInt(n.result)?1:-1));RssApi.Table.onPraise(n)})});$("body").on("click","[ry-collect]",function(n){n.preventDefault();n.stopPropagation();var t=$(this),r=t.attr("ry-collect"),i=t.attr("relationid")||t.data("rssid")||t.data("id")||"";i&&RssUser.Data.myid&&RssApi.Table.Collect(r).keyvalue("relationid",i).keymyid().getJson(function(n){t.attr("iscollect",n.result);RssApi.Table.onCollect(n)})});RssLive={DoMain:"",AppName:"",VodHost:"",Bucket:"",adapter:"Live"};RssLive.Url={};RssLive.Params={};RssLive.Start=function(n){return this.Action="start",this.Params={url:n},this.Submit()};RssLive.Action="launch";RssLive.Launch=function(n,t){return this.Action="launch",this.Params={url:n,id:t||0},this.Submit()};RssLive.Preview=function(){return this.Action="preview",this.Submit()};RssLive.Stop=function(){return this.Action="stop",this.Submit()};RssLive.Pause=function(){return this.Action="pause",this.Submit()};RssLive.Resume=function(){return this.Action="resume",this.Submit()};RssLive.ReStartPush=function(){return this.Action="restartpush",this.Submit()};RssLive.SetMute=function(n){return this.Action="setmute",this.Params={mute:n},this.Submit()};RssLive.Switch=function(){return this.Action="switch",this.Submit()};RssLive.SetBeautyLevel=function(n){return this.Action="beautylevel",this.Params={level:n},this.Submit()};RssLive.Degree={D0:"ORIENTATION_PORTRAIT",D90:"ORIENTATION_LANDSCAPE_HOME_RIGHT",D270:"ORIENTATION_LANDSCAPE_HOME_LEFT"};RssLive.SetOrientation=function(n){return this.Action="setorientation",this.Params={degree:n||this.Degree.D90},this.Submit()};RssLive.Submit=function(){var n={adapter:RssLive.adapter,action:this.Action};$.extend(n,this.Params||{});JsAdapter.Push(n).Submit()};RssLive.onStart=function(){JsAdapter.ToastShow("已开始").Submit()};RssLive.onStop=function(){};RssLive.onGetVod=function(){};RssLive.GetVod=function(n,t){new Ajax("ali/oss/live/online").keyvalue("id",t).keyvalue("bucket",n).getJson(function(n){RssLive.onGetVod(n)})};RssLive.Vhall={appid:""};RssLive.Vhall.Submit=function(n){n.adapter="Vhall";n.appid=this.appid;JsAdapter.Push(n).Submit()};RssLive.Vhall.Push=function(n,t,i){this.Submit({method:"push",roomid:n,token:t,myid:i})};RssLive.Vhall.Play=function(n,t,i){this.Submit({method:"play",roomid:n,token:t,myid:i})};RssLive.Vhall.Room=function(n,t,i){this.Submit({method:"room",roomid:n,token:t,myid:i})};RssLive.Vhall.Join=function(n,t,i){this.Submit({method:"join",roomid:n,token:t,myid:i})};RssLock.prototype.onLockEnd=function(){};RssLock.prototype.drawCle=function(n,t){this.ctx.strokeStyle="#CFE6FF";this.ctx.lineWidth=2;this.ctx.beginPath();this.ctx.arc(n,t,this.r,0,Math.PI*2,!0);this.ctx.closePath();this.ctx.stroke()};RssLock.prototype.drawPoint=function(){for(var n=0;n<this.lastPoint.length;n++)this.ctx.fillStyle="#CFE6FF",this.ctx.beginPath(),this.ctx.arc(this.lastPoint[n].x,this.lastPoint[n].y,this.r/2,0,Math.PI*2,!0),this.ctx.closePath(),this.ctx.fill()};RssLock.prototype.drawStatusPoint=function(n){for(var t=0;t<this.lastPoint.length;t++)this.ctx.strokeStyle=n,this.ctx.beginPath(),this.ctx.arc(this.lastPoint[t].x,this.lastPoint[t].y,this.r,0,Math.PI*2,!0),this.ctx.closePath(),this.ctx.stroke()};RssLock.prototype.drawLine=function(n){this.ctx.beginPath();this.ctx.lineWidth=3;this.ctx.moveTo(this.lastPoint[0].x,this.lastPoint[0].y);for(var t=1;t<this.lastPoint.length;t++)this.ctx.lineTo(this.lastPoint[t].x,this.lastPoint[t].y);this.ctx.lineTo(n.x,n.y);this.ctx.stroke();this.ctx.closePath()};RssLock.prototype.createCircle=function(){var r=this.chooseType,f=0,t,i,u,n;for(this.r=this.ctx.canvas.width/(2+4*r),this.lastPoint=[],this.arr=[],this.restPoint=[],t=this.r,n=0;n<r;n++)for(i=0;i<r;i++)f++,u={x:parseInt(i*4*t+3*t),y:parseInt(n*4*t+3*t),index:f},this.arr.push(u),this.restPoint.push(u);for(this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),n=0;n<this.arr.length;n++)this.drawCle(this.arr[n].x,this.arr[n].y)};RssLock.prototype.getPosition=function(n){var t=n.currentTarget.getBoundingClientRect(),i=n.touches?n.touches[0]:n;return{x:i.clientX-t.left,y:i.clientY-t.top}};RssLock.prototype.update=function(n){var t;for(this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),t=0;t<this.arr.length;t++)this.drawCle(this.arr[t].x,this.arr[t].y);for(this.drawPoint(this.lastPoint),this.drawLine(n,this.lastPoint),t=0;t<this.restPoint.length;t++)if(Math.abs(n.x-this.restPoint[t].x)<this.r&&Math.abs(n.y-this.restPoint[t].y)<this.r){this.drawPoint(this.restPoint[t].x,this.restPoint[t].y);this.lastPoint.push(this.restPoint[t]);this.restPoint.splice(t,1);break}};RssLock.prototype.checkPass=function(n,t){for(var r="",u="",i=0;i<n.length;i++)r+=n[i].index+n[i].index;for(i=0;i<t.length;i++)u+=t[i].index+t[i].index;return r===u};RssLock.prototype.updatePassword=function(){this.reset()};RssLock.prototype.reset=function(){this.createCircle()};RssLock.prototype.bindEvent=function(){var n=this,t=$(this.canvas);t.on("touchstart mousedown",function(i){var u,r;i.preventDefault();u=n.getPosition(i);$(document).on("touchend.h5lock mouseup.h5lock",function(){t.trigger("mouseup");$(document).off("touchend.h5lock mouseup.h5lock")});for(r=0;r<n.arr.length;r++)if(Math.abs(u.x-n.arr[r].x)<n.r&&Math.abs(u.y-n.arr[r].y)<n.r){n.touchFlag=!0;n.drawPoint(n.arr[r].x,n.arr[r].y);n.lastPoint.push(n.arr[r]);n.restPoint.splice(r,1);break}});t.on("touchmove mousemove",function(t){n.touchFlag&&n.update(n.getPosition(t))});t.on("touchend mouseup",function(t){if(t.stopPropagation(),t.preventDefault(),n.touchFlag){n.touchFlag=!1;var i=[];$.each(n.lastPoint,function(n,t){i.push(t.index)});n.onLockEnd(i);setTimeout(function(){n.reset()},200)}})};RssLogin={};RssLogin.SourceID={appqq:"2",appweibo:"3",appweixin:"4",appalipay:"5"};RssLogin.Params={};RssLogin.Action="appqq";RssLogin.Submit=function(n){var t={adapter:"Login",action:this.Action};$.extend(t,this.Params||{},n||{});JsAdapter.Push(t).Submit()};RssLogin.appqq=function(){return this.Action="appqq",this.Submit()};RssLogin.appweixin=function(){return this.Action="appweixin",this.Submit()};RssLogin.appweibo=function(){return this.Action="appweibo",this.Submit()};RssLogin.appalipay=function(){new Ajax("alipay/app/auth").get(function(n){RssLogin.Action="appalipay";RssLogin.Submit({params:n})})};$("[ry-openlogin]").click(function(){RssWin.MaskLayer.show();RssWin.LoadBox.show("正在登陆...");RssLogin[$(this).attr("ry-openlogin")]()});RssLogin.onComplete=function(n){RssApi.User.AppReg().keyvalue(n).keyvalue("sourceid",this.SourceID[this.Action]).keymyid().getJson(function(n){RssUser.Update(n);n.myid?RssLogin.onLogin(n):RssLogin.onBind(n)},function(n){alert(JSON.stringify(n))},function(){RssWin.LoadBox.close();RssWin.MaskLayer.close()})};RssLogin.onLogin=function(n){RssUser.onLogin(n)};RssLogin.onBind=function(){alert("绑定")};RssLogin.onCancel=function(){RssWin.MaskLayer.close();RssWin.LoadBox.close()};RssDateTime={wrap:$('<div class="dialogbox datatimebox"><header><h2><\/h2><table><\/table><\/header><main><\/main><footer><button type="button">确定<\/button><button type="button">取消<\/button><\/footer><\/div>')};$("body").append(RssDateTime.wrap);RssDateTime.MainWrap=RssDateTime.wrap.find("main");RssDateTime.Header=RssDateTime.wrap.find("header");RssDateTime.Title=RssDateTime.Header.find("h2");RssDateTime.defdt=new Date;RssDateTime.Result=(new Date).toString("yyyy-MM-dd HH:mm:ss");RssDateTime.ShowNumber=5;RssDateTime.EndYear=(new Date).getFullYear();RssDateTime.YearStep=10;RssDateTime.StartYear=RssDateTime.EndYear-RssDateTime.YearStep;RssDateTime.format="yyyy-MM-dd HH:mm:ss";RssDateTime.onSelect=function(){};RssDateTime.onStartYear=function(){this.StartYear=1970};RssDateTime.wrap.find("footer").click(function(){RssWin.MaskLayer.close();RssDateTime.wrap.hide()}).find("button").first().click(function(){RssDateTime.onSelect(parseInt(new Date(RssDateTime.Result).getTime()/1e3))});RssDateTime.Init=function(n){var f,i,r,t,u,e;for(n=parseInt(n),n&&n<1&&(n=1),this.Header.find("table").html("<tr><td>年<\/td><td>月<\/td><td>日<\/td>"+(n?"<td>时<\/td><td>分<\/td>"+(n<2?"<td>秒<\/td>":""):"")+"<\/tr>"),f="<ol>",t=0;t<this.ShowNumber;t++)f+="<li><\/li>";for(f+="<\/ol>",i=$("<div value='"+this.defdt.getFullYear()+"'><\/div>"),r="",t=this.StartYear;t<this.EndYear;t++)r+='<li value="'+t+'">'+t+"<\/li>";for(i.html("<ul>"+r+"<\/ul>"+f),this.MainWrap.html(i),i=$("<div value='"+(this.defdt.getMonth()+1)+"'><\/div>"),r="",t=1;t<13;t++)r+='<li value="'+t+'">'+t+"<\/li>";for(i.html("<ul>"+r+"<\/ul>"+f),this.MainWrap.append(i),i=$("<div value='"+this.defdt.getDate()+"'><\/div>"),r="",t=1;t<32;t++)r+='<li value="'+t+'">'+t+"<\/li>";if(i.html("<ul>"+r+"<\/ul>"+f),this.MainWrap.append(i),n){for(i=$("<div value='"+this.defdt.getHours()+"'><\/div>"),r="",t=0;t<24;t++)r+='<li value="'+t+'">'+t+"<\/li>";for(i.html("<ul>"+r+"<\/ul>"+f),this.MainWrap.append(i),i=$("<div value='"+this.defdt.getMinutes()+"'><\/div>"),r="",t=0;t<60;t+=n)r+='<li value="'+t+'">'+t+"<\/li>";if(i.html("<ul>"+r+"<\/ul>"+f),this.MainWrap.append(i),n<2){for(i=$("<div value='"+this.defdt.getSeconds()+"'><\/div>"),r="",t=0;t<60;t++)r+='<li value="'+t+'">'+t+"<\/li>";i.html("<ul>"+r+"<\/ul>"+f);this.MainWrap.append(i)}}this.Result=this.defdt.toString(this.format);RssDateTime.Title.html(RssDateTime.Result);u=RssDateTime.MainWrap.find(">div");u.find("ol>li:eq("+Math.floor(this.ShowNumber/2)+")").addClass("selected");RssDateTime.MainWrap.find(">div").selectslide().on("selectslideend",function(){RssDateTime.Result=new Date(u.eq(0).attr("value"),u.eq(1).attr("value")-1,u.eq(2).attr("value"),u.eq(3).attr("value")||"00",u.eq(4).attr("value")||"00",u.eq(5).attr("value")||"00").toString(RssDateTime.format);RssDateTime.Title.html(RssDateTime.Result)});e=u.first().find("li").first().height();u.each(function(){i=$(this);var n=i.find("li[value='"+i.attr("value")+"']").index();n>0&&i.find(">ul").css({"margin-top":-n*e})})};RssDateTime.wrap.click(function(n){n.stopPropagation();n.preventDefault()});RssDateTime.Show=function(){RssWin.MaskLayer.show();this.wrap.show();this.wrap.css({left:($(window).width()-this.wrap.width())/2,top:($(window).height()-this.wrap.height())/2})};RssDateTime.mui=function(n){var t=n.data("mui"),i;t&&(t=n.data("mui").toJson());i=new mui.DtPicker($.extend(t,{beginYear:RssTask.curtime.getFullYear()-20,endYear:RssTask.curtime.getFullYear()+25}));i.show(function(t){n.val(t.text+":00");i.dispose()})};jQuery.fn.extend({rydatetime:function(){return $(this).click(function(){var n=$(this),r=n.data("mui"),t=n.attr("ry-datetime")||parseInt((new Date).getTime()/1e3)+"",i;if(RssDateTime.StartYear=parseInt(n.data("startyear")||(new Date).getFullYear()),RssDateTime.YearStep=parseInt(n.data("yearstep")||5),RssDateTime.EndYear=parseInt(n.data("endyear")||RssDateTime.StartYear+RssDateTime.YearStep),r){RssDateTime.mui(n);return}RssDateTime.defdt=new Date(t.match(/^\d+$/)?t*1e3:Date.parse(t));i=parseInt(n.data("time")||n.attr("time")||0);RssDateTime.format=n.data("format")||(i?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd");RssDateTime.Init(i);RssDateTime.Show();RssDateTime.onSelect=function(){n.val(this.Result);n.trigger("DateTimeSelect",this.Result)}})}});$("[ry-datetime]").rydatetime();RssCart=new RssTable("rsscart");RssCart.Edit=function(n,t,i,r){try{var u=(new RssDict).keyvalue({moduleid:n,relationid:t,amount:i,myid:RssUser.Data.myid,unitprice:r}).getDict();ValidatedV4(u).isModuleid().isRelationId().isMyID();new Ajax("order/cart/edit").keyvalue(u).setLoading().getJson(function(){})}catch(f){RssCode.alert(f)}};RssCart.onDelete=function(){};RssCart.Delete=function(n){try{var t=(new RssDict).keyvalue("id",n).keymyid().getDict();ValidatedV4(t).isMyID().isID();new Ajax("order/cart/delete").condition(t).setLoading().getJson(function(n){RssCart.onDelete(n)})}catch(i){RssCode.alert(i)}};RssCart.GetJson=function(n){try{var t=(new RssDict).keymyid().getDict();ValidatedV4(t).isMyID();new Ajax("order/cart/list").setLoading().condition(t).getJson(function(t){n&&n(t)})}catch(i){RssCode.alert(i)}};$("[ry-cart='append']").click(function(){var n=$(this);try{RssCart.Edit(n.data("moduleid"),n.data("relationid"),1,n.data("unitprice"))}catch(t){RssCode.alert(t)}});jQuery.fn.extend({paging:function(n){var i=n.data("ryajax"),t=n.attr("paging")||"default";RssPaging[t].call(this,n)}});RssPaging={};RssPaging.default=function(n){var t=n.data("ryajax"),i;$(n.attr("databind")).mapview(t.data);i="共"+t.rowcount+"条 每页"+t.pagesize+"条 第"+t.curpage+"/"+t.pagecount+"页";t.curpage>1&&(i+='<a curpage="1">首页<\/a><a curpage="'+(t.curpage-1)+'">上一页<\/a>');t.curpage<t.pagecount&&(i+='<a curpage="'+(t.curpage+1)+'">下一页<\/a><a curpage="'+t.pagecount+'">末页<\/a>');$(this).html(i).find("a").click(function(i){i.preventDefault();t.keyvalue("curpage",$(this).attr("curpage"));n.trigger("rssajax")})};requestAnimFrame=requestAnimationFrame||webkitRequestAnimationFrame||oRequestAnimationFrame||msRequestAnimationFrame;RssCanvas.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)};RssCanvas.prototype.save=function(){this.ctx.save()};RssCanvas.prototype.restore=function(){this.ctx.restore()};RssCanvas.prototype.drawdot=function(n){var i=n.constructor==Array,t=i?n.shift():opts;return t.x=t.x*2||parseInt(Math.random()*this.canvas.width),t.y=t.y*2||parseInt(Math.random()*this.canvas.height),t.r=t.r||Math.random()*10,this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.r,0,2*Math.PI),this.ctx.fillStyle="rgba(255,255,255,.8)",this.ctx.fill(),this.ctx.closePath(),i&&n.length&&this.drawdot(n),this};RssCanvas.prototype.drawimg=function(n){var u=n.constructor==Array,t=u?n.shift():n,s=t.repeat||1,f,e,r=this,o=$.extend(n.margin,this.margin),h=t.scale||1,i;if(!t.src)return alert("图片地址参数（src）不能为空"),this;while(s-->0)r=this,i=new Image,i.onload=function(){f=(t.x||parseInt(Math.random()*r.width))+o.left;e=t.y||parseInt(Math.random()*r.height)-o.bottom;t.width=t.width||i.width;t.height=t.height||i.height;r.ctx.drawImage(i,f,e,t.width,t.height)},i.src=t.src;return u&&n.length&&this.drawimg(n),this};RssCanvas.prototype.drawhtml=function(n){var r=n.constructor==Array,t=r?n.shift():n,i=$(t.html||"<div><\/div>");return i.css({left:t.x,top:t.y}),t.id&&i.attr("id",t.id),this.parent.append(i),r&&n.length&&this.drawhtml(n),this};RssCanvas.prototype.drawtxt=function(n){var i=n.constructor==Array,t=i?n.shift():n;return this.ctx.font=t.font||"12px 宋体",this.ctx.fillStyle=t.style||"white",this.ctx.fillText(t.matter,t.x||0,t.y||30),i&&n.length&&this.drawtxt(n),this};RssCanvas.prototype.drawline=function(n,t){function c(){if(i.time<=0?(u=i.endX,f=i.endY):(u+=e,f+=o,(e>0&&u>i.endX||e<0&&u<i.endX)&&(u=i.endX),(o>0&&f>i.endY||o<0&&f<i.endY)&&(f=i.endY)),r.beginPath(),r.moveTo(i.staX,i.staY),r.lineTo(u,f),r.lineWidth=i.lw||1,r.lineWidth.constructor==Function&&(r.lineWidth=r.lineWidth(),console.log(r.lineWidth)),r.strokeStyle=i.color,r.stroke(),u==i.endX&&f==i.endY){s&&n.length&&h.drawline(n,t);t&&t(i,n);return}requestAnimationFrame(c)}var s=n.constructor==Array,i=s?n.shift():n,h=this,r=h.ctx,u=i.staX,f=i.staY,e=(i.endX-i.staX)/i.time,o=(i.endY-i.staY)/i.time;return requestAnimFrame(c),this};RssCanvas.prototype.drawstar=function(n){var u,i,r,t;if(n==null)return this.drawstar(this.queue.drawstar.shift()),this;for(u=180/n.num,i=[],t=0;t<n.num*2;t++)r={},t%2==0?(r.x=n.x+n.radius1*Math.cos(t*n.angle*Math.PI/180),r.y=n.y+n.radius1*Math.sin(t*n.angle*Math.PI/180)):(r.x=n.x+n.radius2*Math.cos(t*n.angle*Math.PI/180),r.y=n.y+n.radius2*Math.sin(t*n.angle*Math.PI/180)),i.push(r);for(ctx.beginPath(),ctx.fillStyle=n.color,ctx.strokeStyle=n.color,ctx.moveTo(i[0].x,i[0].y),t=1;t<i.length;t++)ctx.lineTo(i[t].x,i[t].y);return ctx.closePath(),n.drawType=="fill"?ctx.fill():ctx.stroke(),this.queue.drawstar.length&&this.drawstar(this.queue.drawstar.shift()),this};RssCanvas.prototype.scale=function(){};RssPlayer={};RssPlayer.Player={ali:"AliPlayer",vitamio:"VitamioPlayer"};RssPlayer.Params={};RssPlayer.Url="";RssPlayer.Action="play";RssPlayer.IsCache=!1;RssPlayer.Play=function(n){return this.Action="play",this.Url=this.Params.url=n,this.Submit()};RssPlayer.Stop=function(){return this.Action="stop",this.Submit()};RssPlayer.FullScreen=function(){return this.Action="fullscreen",this.Submit()};RssPlayer.ExitFullScreen=function(){return this.Action="exitfullscreen",this.Submit()};RssPlayer.RePlay=function(){return this.Action="replay",this.Submit()};RssPlayer.adapter=RssPlayer.Player.ali;RssPlayer.Submit=function(){var n={adapter:this.adapter,action:this.Action,iscache:this.IsCache};$.extend(n,this.Params||{});RssAppAdapter(n);this.IsCache=!1};RssPlayer.onPrepared=function(){};RssPlayer.onCompleted=function(){};RssPlayer.onStopped=function(){};RssPlayer.onFrameInfo=function(){};RssPlayer.onError=function(){};RssPlayer.onPcmData=function(){};RssPlayer.onFullScreen=function(){};RssPopup={wrap:$('<div class="choosepopup"><main><header><\/header><ul><\/ul><\/main><p>取消<\/p><\/div>')};$("body").append(RssPopup.wrap);RssPopup.ItemWrap=RssPopup.wrap.find("ul");RssPopup.Title=RssPopup.wrap.find("header");RssPopup.Bottom=0;RssPopup.isShow=0;RssPopup.wrap.click(function(n){n.stopPropagation()});RssPopup.wrap.on("click","p,li",function(){RssPopup.Close()});RssPopup.SetTitle=function(n){return this.Title.html(n),this};RssPopup.BindDict=function(n){var t="",i;return $.each(n,function(n,i){t+='<li value="'+n+'">'+($.isArray(i)?i[0]:i)+"<\/li>"}),i=this,this.ItemWrap.html(t).find("li").click(function(){var n=$(this);i.onSelect({key:n.attr("value"),value:n.text()})}),this.ReSize(),this};RssPopup.AddHtml=function(n){var t=this;return this.ItemWrap.html(n).find("li").click(function(){var n=$(this);t.onSelect({key:n.attr("key")||"",value:n.text()})}),this.ReSize(),this};RssPopup.ReSize=function(){this.Bottom=this.wrap.outerHeight();this.wrap.css("bottom",-this.Bottom)};RssPopup.Popup=function(){return RssWin.MaskLayer.show(),this.wrap.addClass("popup").show().css("bottom",0),this};RssPopup.Close=function(){return this.wrap.removeClass("popup").css("bottom",-this.Bottom),RssWin.MaskLayer.close(150),this};RssPopup.onSelect=function(){};$("[ry-layer]").click(function(){var n=$(this),i=n.data("title")||"请选择",t=n.attr("ry-layer");RssPopup.SetTitle(i).BindDict(rydata[t]||t.toKeyValue()).Popup()});popuplayer={};popuplayer.wrap=$('<div class="popuplayer nofooter"><\/div>');popuplayer.wrap.mousedown(function(n){function f(n){t.css({left:n.pageX-r,top:n.pageY-u})}var t=$(this),i=t.position(),r=n.pageX-i.left,u=n.pageY-i.top;$(document).on("mousemove.popuplayer",function(n){f(n)});return $(document).mouseup(function(){$(document).off(".popuplayer")}),!1});popuplayer.header=$("<div><h2><\/h2><a><\/a><span>X<\/span><\/div>");popuplayer.body=$("<div><\/div>");popuplayer.footer=$('<div><span><\/span><button type="button">取消<\/button><button type="button">确认<\/button><\/div>');popuplayer.isfullscreen=!1;popuplayer.create=function(){var n=this,t;return this.wrap.append(this.header),this.wrap.append(this.body),this.wrap.append(this.footer),this.title=this.header.find(">h2"),this.status=this.footer.find("span"),t=this.footer.find(">button"),t.click(function(){n.onclose()}),popuplayer.header.find(">a").click(function(n){n.stopPropagation();n.preventDefault();var t=$(this);popuplayer.isfullscreen?(t.removeClass("winmin"),popuplayer.resize(popuplayer.wrap.data("size"))):(t.addClass("winmin"),popuplayer.resize({height:$(window).height()-60,width:$(window).width()-20}));popuplayer.isfullscreen=!popuplayer.isfullscreen}),t.last().click(function(){n.onconfirm()&&popuplayer.close()}),t.first().click(function(){n.oncancel()&&popuplayer.close()}),this.header.find(">span").click(function(){n.onclose()&&popuplayer.close()}),$(document.body).append(this.wrap),this};popuplayer.create();popuplayer.onconfirm=function(){return!0};popuplayer.oncancel=function(){return!0};popuplayer.onclose=function(){return!0};popuplayer.close=function(){RssWin.MaskLayer.close();this.wrap.hide()};popuplayer.options={width:0,height:0,animate:200,border:1,loading:!0,bottom:0,top:1};popuplayer.resize=function(n){var t,i,r;return(n={width:n.width,height:n.height},this.wrap.addClass("nofooter noheader"),this.options.bottom&&this.wrap.removeClass("nofooter"),this.options.top&&this.wrap.removeClass("noheader"),this.wrap.show(),t=$.extend({},{width:300,height:100,animate:this.options.animate},n),t.width===this.wrap.width()&&t.height===this.wrap.height())?this:($.extend(this.options,n),t.width=parseInt(t.width),t.height=parseInt(t.height),t.width<150&&(t.width=150),t.height<30&&(t.height=30),i=this.options.bottom+this.options.top,t.width+=(parseInt(this.wrap.css("border-width"))||0)*i,r=this.header.height(),t.height+=r*i+(parseInt(this.wrap.css("border-width"))||0)*i,this.body.css({top:r*this.options.top,bottom:r*this.options.bottom}),$.extend(t,{"margin-left":-t.width/2,"margin-top":-t.height/2}),t.animate>0?this.wrap.animate(t,t.animate):this.wrap.css(t),this)};popuplayer.display=function(n,t,i){var u,r;/^(\/|http).+/.test(n)==!1&&(u=self.location.href,n=u.substring(0,u.lastIndexOf("/")+1)+n);r=this;top.popuplayer&&!i.self&&(r=top.popuplayer);r.wrap.data("size",i);n.match(/\.(png|jpg|gif)/)?r.showImage(n,t,i):r.showIframe(n.replace(/[\?&]TB_[^&]+/i,""),t,i)};popuplayer.show=function(n,t,i,r){RssWin.MaskLayer.show();i=i||{width:300,height:50};r&&top.popuplayer&&(popuplayer=top.popuplayer);popuplayer.wrap.data("size",i);popuplayer.resize(i||{});popuplayer.title.html(t||"消息提醒");popuplayer.body.html(n)};popuplayer.showImage=function(n,t){var r=this,i=new Image;return i.onload=function(){var s={width:i.width,height:i.height},f=$(window).width(),e=$(window).height(),u=i.width>f?f/i.width:i.width/f,o=i.height>e?e/i.height:i.height/e;i.width<f&&i.height<e&&(u=o=1);console.log(u+","+o);u>=o&&(u=o);u-=.01;s.width*=u;s.height*=u;r.show('<img src="'+n+'" />',t||"浏览图片",s)},i.onerror=function(){r.showError("图片不存在！")},i.src=n,this};popuplayer.showHtml=function(n,t,i,r){this.show(n,t,i,r)};popuplayer.showIframe=function(n,t,i){this.show('<iframe src="'+n+'"/>',t,i)};popuplayer.showMessage=function(n,t){this.show('<div class="infowrap">'+n+"<\/div>"||"","信息提示",t||{width:300,height:50})};popuplayer.showError=function(n,t){this.show('<div class="infowrap"><span class="red">'+n+"<\/span><\/div>"||"","信息提示",t||{width:300,height:50})};popuplayer.showLoading=function(n){return this.params.loading=n||!1,this};$("[ry-popup]").each(function(){var n=$(this);n.click(function(t){t.preventDefault();t.stopPropagation();var i=n.attr("ry-popup")||n.attr("src")||n.attr("href");n[0].tagName.toLowerCase()==="img"?popuplayer.showImage(i,n.attr("title")):popuplayer.display(i,n.data("title")||n.attr("title")||n.text(),$.extend({width:n.data("width")||200,height:n.data("height")||80,self:n.data("self")||0}))})});$("[ry-popupitem]").each(function(){var n=$(this);n.find(n.attr("ry-popupitem")).not(n.find("[ry-popup],[ry-popupitem]")).click(function(t){t.preventDefault();t.stopPropagation();var i=$(this),r=i.attr("src")||i.attr("href");i[0].tagName.toLowerCase()==="img"?popuplayer.showImage(r,i.attr("title")):popuplayer.display(r,i.data("title")||n.data("title"),$.extend({width:i.data("width")||n.data("width")||200,height:i.data("height")||n.data("height")||80,self:i.data("self")||0}))})});RssProgBar.prototype.Progress=function(n,t){return this.tick=parseInt(parseInt(t)/parseInt(n)*100)+"%",this.bar.width(this.tick),this};RssProgBar.prototype.Html=function(){return this.bar.html(this.tick),this};RssProgBar.prototype.Position=function(n,t){return this.tick=parseInt(parseInt(t)/parseInt(n)*100)+"%",this.bar.css({left:this.tick}),this};RssCity={};RssCity.Wrap=$('<div class="cityselect"><header>支持中文/拼音/简拼输入<b>X<\/b><span>重置<\/span><\/header><div><ol><\/ol><table><tbody><\/tbody><\/table><\/div><\/div>');$(document).on("click.rsscity",function(){RssCity.Wrap.hide()});RssCity.Wrap.click(function(n){n.stopPropagation();n.preventDefault()});RssCity.Menu=RssCity.Wrap.find("ol");RssCity.Body=RssCity.Wrap.find("tbody");RssCity.Group={};RssCity.Wrap.find("b").click(function(){RssCity.Wrap.hide()});RssCity.Wrap.find("span").click(function(){RssCity.Wrap.hide();RssCity.onselect("","")});RssCity.onselect=function(){};RssCity.onload=function(){RssCity.Select(RssEasy.body)};RssCity.load=function(n){$.getScript((n||"")+"data/city.js",function(){RssCity.Group={r:[]};$.each(rydata.city,function(n,t){var i=t[1].substr(0,1);RssCity.Group[i]||(RssCity.Group[i]=[]);RssCity.Group[i].push(n);t[2]=="1"&&RssCity.Group.r.push(n)});RssCity.onload()})};RssCity.Select=function(n){var t,i;n.append(RssCity.Wrap);t="<li>热门<\/li><li>";$.each("ABCDEFGHJKLMNPQRSTWXYZ".split(""),function(n,i){n!=0&&n%4==0&&(t+="<\/li><li>");t+=i});t+="<\/li>";i=RssCity.Menu.append(t).find("li");i.click(function(n){n.stopPropagation();n.preventDefault();i.removeClass();$(this).addClass("selected");var r=$(this).html().replace("热门","r"),t="";$.each(r.split(""),function(n,i){t+="<tr><td "+(i=="r"?"class='cityhot'":"")+">"+i.replace("r","")+"<\/td><td>";$.each(RssCity.Group[i],function(n,i){t+='<a key="'+i+'">'+rydata.city[i][0]+"<\/a>"});t+="<\/td><\/tr>"});RssCity.Body.html(t).find("a").click(function(){var n=$(this);RssCity.onselect(n.attr("key"),n.html());RssCity.Wrap.hide()})}).first().click()};RssCity.H5=function(n){delete this.Group.r;var t='<ul class="cityselecth5">',i='<div class="cityselectnav">';$.each("ABCDEFGHJKLMNPQRSTWXYZ".split(""),function(n,r){t+='<h3 id="citygroup'+r+'">'+r+"<\/h3>";i+='<h4 key="'+r+'">'+r+"<\/h4>";$.each(RssCity.Group[r],function(n,i){t+='<li key="'+i+'">'+rydata.city[i][0]+"<\/li>"})});t+="<\/ul>";i+="<\/div>";n.html(t+i).find("li").click(function(){var n=$(this);RssCity.onselect(n.attr("key"),n.html())});n.find("h4").height(n.height()/22).click(function(){n.find("ul").scrollTop(0).animate({scrollTop:$("#citygroup"+$(this).attr("key")).position().top},100)})};$("[ry-city]").click(function(n){n.stopPropagation();n.preventDefault();var t=$(this),i=t.offset(),r=$("#"+t.attr("ry-city")),u=t.data("text")?$("#"+t.data("text")):t,f=t.data("h5");if(r.val(""),u.val(""),f){RssCity.H5($("#"+f));return}i.top=i.top+t.outerHeight()-1;RssCity.onselect=function(n,t){r.val(n);u.val(t)};RssCity.Wrap.show().css(i)}).keyup(function(){var t=$(this),i=(t.data("text")?$("#"+t.data("text")):t).val(),n;i.length&&(n='<tr><td class="citysearchitem"><div>',$.each(rydata.city,function(t,r){(r[0].indexOf(i)>-1||r[1].toLowerCase().indexOf(i)>-1)&&(n+='<a key="'+t+'">'+r[0].replace(t,"<b>"+t+"<\/b>")+" "+r[1].replace(t,"<b>"+t+"<\/b>")+"<\/a>")}),n+="<\/div><\/td><\/tr>",RssCity.Body.html(n).find("a").click(function(){var n=$(this);RssCity.onselect(n.attr("key"),n.html().split(" ")[0]);RssCity.Wrap.hide()}))});RssRecord={};RssRecord.Params={};RssRecord.Time=60;RssRecord.Adapter="";RssRecord.Action="";RssRecord.Submit=function(n){RssAppAdapter($.extend(null,{adapter:this.Adapter,action:this.Action,url:RssUpFile.ApiHost},this.Params,n||{}))};RssRecord.Audio=function(){return this.Adapter="RecordAudio",this};RssRecord.Video=function(){return this.Adapter="RecordVideo",this};RssRecord.Launch=function(){return this.Action="launch",this.Submit()};RssRecord.Start=function(n){return this.Time=n||this.Time,this.Action="start",this.Submit({time:this.Time})};RssRecord.Stop=function(){return this.Action="stop",this.Submit()};RssRecord.onUpload=function(n){n.duration=parseInt(n.duration)||10;n.filesize=parseInt(n.filesize)||20480;RssUpFile.Upload(n).Submit()};RssRecord.onProgress=function(){};RssRecord.onStart=function(){};RssRecord.onPause=function(){};RssRecord.onStop=function(){};RssRecord.onPlay=function(){};RssRecord.onError=function(){};RssRecord.onExit=function(){};RssClick.urlext=".jsp";RssClick.popup=function(n,t,i,r,u){var f=RssWin.getWorkSpace().location.href,e=i.data("params")||i.data("query")||"",t=t||i.html(),o=i.attr("ry-click");f=f.substring(0,f.lastIndexOf("/")+1);n=this[o]?f+n:(o.match(/^\w{1,}$/)?f+n+RssClick.urlext:n)+"?"+(i.attr("select")!="false"?"id="+RssClick.id:"")+"&TB_iframe=true";n=n.replace("?&","?");e&&(n=n.replace("TB_iframe=true",e+"&TB_iframe=true"));popuplayer.display(n,t,{width:i.data("width")||r,height:i.data("height")||u})};RssClick.append=function(){RssClick.popup("edit"+RssClick.urlext+"?TB_iframe=true","增加",this,950,500)};RssClick.edit=function(){RssClick.popup("edit"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","编辑",this,950,500)};RssClick.ico=function(){RssClick.popup("ico"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","设置标题图",this,200,210)};RssClick.classify=function(){RssClick.popup("classify"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","设置分类",this,300,500)};RssClick.slide=function(){RssClick.popup("slide"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","管理展示图",this,730,400)};RssClick.media=function(){RssClick.popup("media"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","单一媒体",this,730,500)};RssClick.video=function(){RssClick.popup("video/list"+RssClick.urlext+"?relationid="+RssClick.id+"&TB_iframe=true","多视频管理",this,750,500)};RssClick.related=function(){RssClick.popup("related/list"+RssClick.urlext+"?relationid="+RssClick.id+"&TB_iframe=true","相关资源管理",this,750,500)};RssClick.sell=function(){RssClick.popup("sell"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","设置价格",this,320,250)};RssClick["delete"]=function(){RssClick.popup("delete"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","删除",this,300,80)};RssClick.release=function(){RssClick.popup("release"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","发布",this,300,80)};RssClick.hot=function(){RssClick.popup("hot"+RssClick.urlext+"?relationid="+RssClick.id+"&TB_iframe=true","增加到热门",this,300,80)};RssClick.top=function(){RssClick.popup("top"+RssClick.urlext+"?relationid="+RssClick.id+"&TB_iframe=true","增加到置顶",this,300,80)};RssClick.audit=function(){RssClick.popup("audit"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","审核",this,380,200)};RssClick.recommend=function(){RssClick.popup("recommend"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","推荐",this,300,80)};RssClick.reply=function(){RssClick.popup("reply"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","回复",this,500,300)};RssClick.lbs=function(){RssClick.popup("lbs"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","设置地址位置",this,800,500)};RssClick.create=function(){RssClick.popup("create"+RssClick.urlext+"?TB_iframe=true","创建",this,300,80)};RssClick.json=function(){RssClick.popup("json"+RssClick.urlext+"?TB_iframe=true","创建JSON",this,300,80)};RssClick.select=function(){RssClick.popup("select"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","选择",this,300,80)};RssClick.selectuser=function(){RssClick.popup("/user/select"+RssClick.urlext+"?id="+RssClick.id+"&TB_iframe=true","选择",this,300,80)};RssShare={};RssShare.Params={title:"中企聚易",desc:"中企聚易",url:"http://www.rsseasy.com",imgurl:"http://www.rsseasy.com/img/index2/logo.jpg"};RssShare.Action="";RssShare.Submit=function(){var n={adapter:"Share",action:this.Action};$.extend(n,this.Params||{});JsAdapter.Push(n).Submit()};RssShare.AppWeiXinSession=function(){return this.Action="appwxsession",this.Submit()};RssShare.AppWeiXinTimeline=function(){return this.Action="appwxtimeline",this.Submit()};RssShare.AppWeiXinFavorite=function(){return this.Action="appwxfavorite",this.Submit()};RssShare.AppQQ=function(){return this.Action="appqq",this.Submit()};RssShare.AppQzone=function(){return this.Action="appqzone",this.Submit()};RssShare.AppWeiBo=function(){return this.Action="appweibo",this.Submit()};RssShare.onComplete=function(){};RssDialog={wrap:$('<div class="dialogbox"><header><h2>信息提示<\/h2><span>X<\/span><\/header><main><\/main><footer><button type="button">确定<\/button><button type="button">取消<\/button><\/footer><\/div>')};$("body").append(RssDialog.wrap);RssDialog.MainWrap=RssDialog.wrap.find("main");RssDialog.Header=RssDialog.wrap.find("header");RssDialog.Title=RssDialog.Header.find("h2");RssDialog.Footer=RssDialog.wrap.find("footer").click(function(n){n.preventDefault();n.stopPropagation();RssDialog.Close()});RssDialog.Config=RssDialog.Footer.find("button").first().click(function(n){n.preventDefault();n.stopPropagation();RssDialog.onConfig()});RssDialog.setConfig=function(n){return this.Config.html(n),this};RssDialog.Header.find("span").click(function(){RssDialog.Close()});RssDialog.wrap.click(function(n){n.stopPropagation()});RssDialog.setTitle=function(n){return this.Title.html(n),this};RssDialog.setMessage=function(n){var t=this;return this.MainWrap.html(n),this.ReSize(),this};RssDialog.ReSize=function(){var n=this.wrap.outerHeight()};RssDialog.Popup=function(){return RssWin.MaskLayer.lock(!0).show(),RssDialog.wrap.show(),this};RssDialog.Close=function(){return RssDialog.wrap.fadeOut(100,function(){RssWin.MaskLayer.lock(!1).close()}),this};RssDialog.onConfig=function(){};$("[ry-validate]").click(function(n){var t=$(this),i=t.data("verify"),r=$("#"+t.attr("ry-validate")),e=r.find("[verify]"),u=new RssDict(r.serializeArray()).getDict();try{e.each(function(){var n=$(this),r=n.val()||u[n.attr("name")]||u[n.data("name")]||"",t=n.attr("verify"),f=n.attr("msg")||n.data("error")||n.attr("placeholder"),i=ValidatedV4({key:r});if(n.attr("isempty")=="1")return!0;if(i[t])i[t]("key",f||"");else throw"没有"+t+"这个验证方法，请重新设置！";});ValidatedV4[i]&&ValidatedV4[i].constructor==Function&&ValidatedV4[i](t)}catch(f){console.log(f);n.preventDefault();n.stopPropagation();RssCode.alert(f)}});RssWeiXin={debug:!1,params:{invitemyid:Url.invitemyid||""}};RssWeiXin.Authorize=function(n){return RssOS.iswx&&!RssUser.Data.openid&&!Url.openid?(n&&Cookie.Set("loginrefer",encodeURIComponent(n)),location.href=RssApi.host+"weixin/authorize?state="+encodeURIComponent(JSON.stringify(RssWeiXin.params)),!1):!0};RssWeiXin.ReAuthorize=function(n){Storage.Get("weixinauthorize"+n)||(Storage.Set("weixinauthorize"+n,n),location.href=RssApi.host+"weixin/authorize")};RssWeiXin.Bind=function(){RssUser.Data.myid&&!RssUser.Data.openmyid&&RssUser.Data.openid&&new Ajax("weixin/bind").keyvalue("myid",RssUser.Data.myid).keyvalue("openid",RssUser.Data.openid).keyvalue("opentoken",RssUser.Data.opentoken).get()};RssWeiXin.Share=function(n){var t={title:document.title,desc:document.title,link:location.href,imgUrl:"",success:function(){}};$.extend(t,n);wx.updateTimelineShareData(t);wx.updateAppMessageShareData(t)};RssWeiXin.QRcode=function(n){wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(t){n(t.resultStr,t)}})};RssWeiXin.ChooseImage=function(){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(n){var t=n.localIds}})};RssWeiXin.LoginReg=function(n){RssOS.iswx&&RssWeiXin.Authorize(n)&&new Ajax("weixin/login").keyvalue({openid:RssUser.Data.openid,opentoken:RssUser.Data.opentoken}).removeHead("usertoken,tokenmyid").getJson(function(n){delete n.invitemyid;RssUser.Update(n);RssWeiXin.onLoginReg(n)})};RssWeiXin.onLoginReg=function(){var n=Cookie.Get("loginrefer");return n&&(Cookie.Remove("loginrefer"),location.href=decodeURIComponent(n)),n};RssWeiXin.onReady=function(){};RssWeiXin.onError=function(){};RssWeiXin.getTicket=function(){(RssOS.iswx||RssOS.iswxsmall)&&$.getScript("https://res.wx.qq.com/open/js/jweixin-1.4.0.js",function(){new Ajax("weixin/ticket").keyvalue("url",location.href.replace(location.hash,"")).getJson(function(n){n.jsApiList=["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","translateVoice","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard","updateAppMessageShareData","updateTimelineShareData"];wx.ready(function(){RssWeiXin.onReady(n)});wx.error(function(t){RssWeiXin.onError(t,n)});n.debug=RssWeiXin.debug;wx.config(n)})});var n=$("[ry-wxqrcode]");n.length&&new Ajax("weixin/appinfo").getJson(function(t){n.each(function(){var n=new WxLogin({self_redirect:!0,id:$(this).attr("id"),appid:t.appid,scope:"snsapi_login",redirect_uri:t.redirect_url,state:"",style:"",href:""})})})};RssWxSmall={OpenID:""};RssWxSmall.navigateTo=function(n){wx.miniProgram.navigateTo({url:"/pages/"+n})};RssWxSmall.onReady=function(){};RssWxSmall.onGetOpenID=function(n){Storage.Set("wxsmallopenid",n.wxsmallopenid||RssWxSmall.getOpenID());RssWxSmall.onReady(n.wxsmallopenid)};RssWxSmall.getOpenID=function(){return Storage.Get("wxsmallopenid")||""};RssWxSmall.onReceiveMessage=function(){}